[
  {
    "id": "mgjlv65fc9j3w1",
    "subject": "Make-up Lecture Video Posted",
    "content": "<md>Hi everyone,\n\nDue to the class cancellation @400 for afternoon sections yesterday, I have since made the make up lecture video during LEC5101 (thanks Robin!). Please view it in preparation for the upcoming group activity tomorrow. The video is labeled **L11: Memory Management**. Tomorrow (Friday), we will cover the remaining topics on scheduling, and start the group activity.\n\nAlso note that I've canceled my office hour today (still sick :().\n\nBest,\n\nJack</md>",
    "created": "2025-10-09T16:01:51Z",
    "tags": [
      "instructor-note",
      "logistics",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgf9abmyriy3z5",
    "subject": "A1 Grade Released",
    "content": "<p>Hi everyone,</p>\n<p></p>\n<p>Assignment 1 has been graded, and your marks are now available on MarkUs.</p>\n<p></p>\n<p>If you believe there was an error in the grading, you may submit a remark request through MarkUs. Your request must clearly state one of the following:</p>\n<p></p>\n<ul><li>\n<p><strong>Marking error</strong>: Clearly and concisely describe the specific error you believe occurred in the grading.</p>\n<p></p>\n</li><li>\n<p><strong>Minor submission issue</strong>: Identify a small problem in your submission that can be resolved with no more than one line of code (e.g., fixing a missing semicolon so your code compiles).</p>\n<ul><li>If your request is accepted under this category, a 20% penalty will be applied.</li></ul>\n</li></ul>\n<p></p>\n<p>The remark request deadline is Tuesday, October 14 at 11:59 pm.</p>\n<p></p>\n<p>If you did not receive full marks on A1, please attend office hours as soon as possible. A TA or instructor will help you get your code fully working (except for the exit test) so you can begin A2 promptly.</p>\n<p></p>\n<p>For students registered with Accessibility Services, your submissions will be graded after your respective extension periods have ended.</p>\n<p></p>\n<p>Best,</p>\n<p><br />CSC369 Teaching Team</p>\n<p></p>\n<p></p>",
    "created": "2025-10-06T14:58:38Z",
    "tags": [
      "a1",
      "instructor-note",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mga87jswj2d6pb",
    "subject": "Midterm 1 Results Released",
    "content": "<md>Hi all,\n\nWe have released your midterm grades on Quercus. The class average after scaling is 61.8%.\n\nYou may find the midterm solutions here:\n\n<https://q.utoronto.ca/courses/395880/pages/midterm-1-information>\n\nYour booklet has been returned to you electronically via Crowdmark. You will need to access it via the link (named Crowdmark LTI) at the top of the modules page:\n\n<https://q.utoronto.ca/courses/395880/modules>\n\n-------------------------------------------------------\n\nYou may submit a remark request through the course email with the title:\n\n\\[CSC369\\] Midterm Remark - _YOUR-STUDENT-ID_\n\nIn the email body, first state <ins>which section you wrote in</ins>. Then, describe in detail where a grading error might have occurred. Note that remark request without the correct email subject line may be missed.\n\nThe\u00a0deadline for midterm 1 remark request is **October 13th, before 9:00am.**\n\nAlso, I noticed that 33 students did not write the midterm, but only 11 students submitted the [Midterm Special Consideration Form](https://forms.office.com/r/BXXf7A49wf). You must submit this form to have your midterm 1 reweighted to the final exam, otherwise you will automatically receive a zero for your absence.\n\nPlease let myself or anyone in the teaching team know if you have any questions or concerns.\n\nBest,\n\nJack</md>",
    "created": "2025-10-03T02:29:38Z",
    "tags": [
      "instructor-note",
      "midterm1",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "hello, where can i find the crowdmark link in the course page?",
          "comments": [
            "<md>It's now published at the top of the modules page!</md>"
          ]
        },
        {
          "content": "Apparently we\u2019re supposed to login to Crowdmark through Quercus now, but I can\u2019t find a link to Crowdmark on our course Quercus page",
          "comments": [
            "<md>Now published on top of the modules page \\:)</md>"
          ]
        },
        {
          "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkp4i4a67va03ed%2F538a41ed8d0ad6e75604fe61a048b0c77909c4d2a19cb130ef90b0a0c0c28179%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p><a href=\"https://teaching.utoronto.ca/tool-guides/crowdmark/\">Crowdmark - Centre for Teaching Support &amp; Innovation</a></p>",
          "comments": []
        },
        {
          "content": "hi, thank you! i don&#39;t see a [&#43;] in the modules area of csc369, does anyone else&gt;",
          "comments": [
            "Hi there. I believe students cannot edit the page. We have to wait for Jack or TA to add it. I had a course with this same situation and finally ta added the link on quercus module section",
            "<md>Top of the modules page. I just published it.</md>",
            "That works. Thanks"
          ]
        },
        {
          "content": "Was one of the multiple choices questions removed? It&#39;s marked out of 45 but there were 46 marks.\u00a0",
          "comments": [
            "<md>I believe one of them was vague, and so was removed, yes.</md>"
          ]
        },
        {
          "content": "We got a &#43;19% curve for those wondering",
          "comments": [
            "So our final grade after curve is whatever is on quercus? Because I have two different marks. The crowdmark one is significantly less.",
            "yeah the quercus one is after the curve as jack mentioned"
          ]
        }
      ]
    }
  },
  {
    "id": "mg72867t3fo5x6",
    "subject": "Exam Studying Platform",
    "content": "<p>Hi everyone,</p>\n<p></p>\n<p>Since we\u2019re all having trouble accessing anything using the UofT SSO, I am proud to announce <a href=\"https://iqbank.teach.cs.toronto.edu/\">IQBank</a>, a collaborative exam studying platform built by a team of UofT students! It is still in the early stage of development, hence any and all feedback is welcomed!</p>\n<h2>1. Getting Started</h2>\n<p>To get started with <a href=\"https://iqbank.teach.cs.toronto.edu/\">IQBank</a>, follow these simple steps:</p>\n<p></p>\n<ol><li><strong>Log In</strong>: Log in to your existing account on the <a href=\"https://iqbank.teach.cs.toronto.edu/\">IQBank platform</a>.</li><li><strong>Explore courses</strong>: Browse through the available courses and select the one that aligns with your study goals.</li><li><strong>Find Collections</strong>: Navigate to the \u201cCollections\u201d section to find curated sets of questions for your chosen course.</li><li><strong>Start Discussing</strong>: Join the community discussions to connect with fellow students and share insights.</li></ol>\n<h3>1.1 Log In</h3>\n<p>To log in to your IQBank account, follow these steps:</p>\n<p></p>\n<ol><li>\n<p>Go to the IQBank login page.</p>\n<p></p>\n<p>On the landing page, click the \u201cLog In\u201d button located at the top right corner.</p>\n</li></ol>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2F7b47e5c1c4c663fc975a82590a628cae2e1eea9e52896ccf8712b3648ff6d4fd%2Fiqbank-landing\" width=\"1920\" height=\"1382\" alt=\"Landing Page\" /></p>\n<ol start=\"2\"><li>\n<p>Enter your email and password.</p>\n<p></p>\n<ul><li>Your default email is the one you used to register on Quercus.</li><li>Your default password is your UTORid followed by your student number and an exclamation mark (!), with the first letter capitalized.</li></ul>\n<p>For example, if your UTORid is <code>johndoe1</code> and your student number is <code>0123456789</code>, your default password would be <code>Johndoe10123456789!</code>.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2Fc5fcf9a26ee1fce055d43834b80482c248004b6542733e22bfdd98e44bfee880%2Fiqbank-login\" width=\"1920\" height=\"1382\" alt=\"Login Page\" /></p>\n</li><li>\n<p>Click the \u201cSign In\u201d button to access your account.</p>\n<p></p>\n</li></ol>\n<p>If you don\u2019t have an account, or if you encounter any issues logging in, please contact the teaching team for assistance.</p>\n<p></p>\n<h3>1.2 Update Your Display Name</h3>\n<p>Once logged in, you will be prompted to update your display name. This name will be visible to other users in the community. Simply follow the on-screen instructions to set your preferred display name.</p>\n<p></p>\n<blockquote>\n<p><strong>Note</strong>: You can only change your display name once. Choose wisely! Your display name should be appropriate and respectful to maintain a positive community environment.</p>\n</blockquote>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2F9ccab360a357cefb437e59badf78fe48ef9394e946f64e91cd30acd24da0a1e8%2Fiqbank-display-name\" width=\"1920\" height=\"1382\" alt=\"Update Display Name\" /></p>\n<p>You will also find the settings icon on the top right corner of the page. Click on it to access your account settings, where you can update color themes, change your password, or log out.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2Ff051c59f11513860727852c039947feca67512e83d3627a12b0fc19a2d9ab4cb%2Fiqbank-setting\" width=\"374\" height=\"394\" alt=\"Settings\" /></p>\n<h3>1.3 Explore Courses</h3>\n<p>Once logged in, you will be taken to the courses page. Here, you can explore the various courses available on IQBank.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2Fbf239ef32e82e7b6749f98de2c7d3d015664efc8580b8d7acb409e5507b3a48b%2Fiqbank-courses\" width=\"1920\" height=\"1382\" alt=\"Courses Page\" /></p>\n<p>You can use the search bar at the top left to quickly find a specific course by code.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2Fcfcae673262b8fd7be2449c38f45d342f38ae4abb6777c535357796e030e28a3%2Fiqbank-search-courses\" width=\"1920\" height=\"1382\" alt=\"Search Courses\" /></p>\n<p>Click on the course you are interested in to view more details and access the collections of questions.</p>\n<p></p>\n<h3>1.4 Collections Page</h3>\n<p>On the left of the collections page, you will find a list of collections. Collections are curated sets of questions designed to help you study effectively.</p>\n<p></p>\n<p>On the right, you will see the course information, including the teaching team, and topics covered in the course.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2F62144ba6f421246e1577efcfb22363815b1629231a05bf994277201aecd0b31d%2Fiqbank-collections\" width=\"1920\" height=\"1382\" alt=\"Collections\" /></p>\n<p></p>\n<p>Click on a collection to start practicing questions.</p>\n<p></p>\n<h3>1.5 Practicing Questions</h3>\n<p>When you select a collection, you will be taken to the collection page where you can start practicing questions.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2F5fc671700e742d28d72ec598b46026e3f4c0caf626bef926727842631b4c216f%2Fiqbank-collection-detail\" width=\"3840\" height=\"2764\" alt=\"Collection Details\" /></p>\n<h4>1.5.1 Navigating Questions</h4>\n<p>In the menu bar at the top, you will find the question list, and buttons to navigate between questions. You can use the arrow buttons to move to the next or previous question, or click on the question number to jump to a specific question.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2Ff1c61dc6c69ca9dcd1a13fbe33e648c51f02aede5b9461ce969db5c0c2a4c5b0%2Fiqbank-question-list\" width=\"4112\" height=\"3032\" alt=\"Question List\" /></p>\n<p></p>\n<p>You will also find the \u201cCollections\u201d button on the top left, which allows you to return to the collections page.</p>\n<p></p>\n<h4>1.5.2 Participating in Discussions</h4>\n<p>On the right side of the screen, you will find the discussion panel. Here, you can view and participate in discussions related to the current question.</p>\n<p></p>\n<p>If you believe your thread is a potential answer to a question, you can toggle the \u201cThis thread contains a potential answer\u201d option. This will trigger spoiler protection for your post, ensuring that other users can choose whether or not to view it.</p>\n<p></p>\n<blockquote>\n<p>When posting in the discussion panel, please ensure that you are on the correct question to avoid confusion. You can always refer to the question number displayed in the top menu bar, or the highlighted question label on the left side of the screen.</p>\n</blockquote>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2F1a51ecf8c377a1d54d7f86fbc030784731383469c03da4cc3215a9e444f7e0c3%2Fiqbank-dicussion-panel\" width=\"4112\" height=\"3032\" alt=\"Discussion Panel\" /></p>\n<h2>2. Tips for Effective Studying</h2>\n<p>To make the most out of your study sessions on IQBank, consider the following tips:</p>\n<p></p>\n<ul><li><strong>Set a Study Schedule</strong>: Allocate specific times for studying and stick to your schedule.</li><li><strong>Use Active Recall</strong>: Actively engage with the questions and try to recall information rather than passively reading.</li><li><strong>Join Discussions</strong>: Participate in community discussions to gain different perspectives and insights.</li><li><strong>Review Regularly</strong>: Regularly revisit questions and topics to reinforce your understanding.</li></ul>\n<h2>3. Getting Help</h2>\n<p>If you encounter any issues or have questions about using IQBank, don\u2019t hesitate to reach out to the teaching team for assistance.</p>\n<p></p>\n<h2>4. Conclusion</h2>\n<p>We hope this guide helps you navigate IQBank effectively and enhances your study experience. Happy studying!</p>\n<p></p>",
    "created": "2025-09-30T21:18:51Z",
    "tags": [
      "instructor-note",
      "logistics",
      "midterm1",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgn7k8fkz3l2lw",
    "subject": "getcontext call failing in thread_switch",
    "content": "assert(!get_err) fails after the line get_err = getcontext(&amp;thread-&gt;context) inside thread_switch when running ./test/wakeup 1. What could be causing this? Any help would be greatly appreciated, I&#39;ve been stuck at this task for hours now",
    "created": "2025-10-12T04:32:30Z",
    "tags": [
      "a2",
      "student",
      "unanswered"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgn76lpv79p1ns",
    "subject": "Q about the wait_many test file",
    "content": "<p>The last thread created is\u00a0 late_wait, and it has id 65.\u00a0</p>\n<p>Line 79 noted that &#34;/* make sure the late waiter does not catch the train */&#34;.\u00a0</p>\n<p>What does this mean?\u00a0</p>\n<p>Thank you\u00a0</p>",
    "created": "2025-10-12T04:21:54Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgn60w4i2wt11r",
    "subject": "Late submission policy for A2",
    "content": "<md>The description page for A2 on Markus doesn\u2019t include a late policy section. I was just wondering, can we still use the grace token for A2? If so how long would be the maximum extension time?\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fllczwei0uol1e5%2F247c4004ce29aef24fce35b9deb81dda36f686896c30b1fb221e8305106252ff%2Fimage.png)</md>",
    "created": "2025-10-12T03:49:28Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgn105qmuyc7bb",
    "subject": "Task 2 wakeup all",
    "content": "When I run ./test/wakeup 1, most of the time the program works but sometimes it just hangs after printing &#34;initial thread returns from sleep(NONE). edit: it looks like it infinitely switches between the same 2-3 threads but I can&#39;t figure out why.\n\nI am not sure if this is the cause, but while trying to debug this and moving enable/disable interrupts around and putting assert statements everywhere, I found that in thread_switch(), even though I disable interrupt right before calling getcontext, interrupts are sometimes enabled when switching back. Why does this happen? I thought getcontext saves the signal mask, am I understanding it wrong?",
    "created": "2025-10-12T01:28:56Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Not a complete answer but..</p>\n<p></p>\n<p>Since thread_switch is only used by thread_yield, i would advise you to turn off interrupts in thread_yield and just check if they are off at the start of thread_switch.\u00a0<br /><br /></p>\n<p>in general in one of the other posts, one of the TAs recommended that its better to turn off interrupts at the start of the function rather than just right before accessing a shared resource. (Easier to reason with this as well about preemption)</p>\n<p></p>\n<p>in regards to the signal state changing after we restore context, can you confirm if signals are enabled for the same thread whose state you just saved or are you taking about signals being on for the next thread for you switch to?</p>",
          "comments": [
            "Thank you, your first suggestion seems to have fixed the issue of hanging for that test case. I don&#39;t even know why that worked.\n\nSignals are enabled for the same thread whose state I just saved. That part of the code goes something like:\n\nassert(interrupt_enabled() == false); // checks that interrupts are off at start of thread_switch\n\nassert(interrupt_enabled() == false); // this fails sometimes",
            "i missed a line, i meant:\n\nassert(interrupt_enabled() == false); // checks that interrupts are off at start of thread_switch\ngetcontext(...);\nassert(interrupt_enabled() == false); // this fails sometimes",
            "<md>> I don't even know why that worked.\n\nSome of your functions aren't resumable like that. For example in thread_create, depending on your implementation, you could end up with two threads sharing a TID if you get a particularly bad interrupt sequence. \n\nI'm not sure why interrupts show as enabled after the second return to getcontext, that shouldn't be possible as far as I know. You might have some strange interrupt handling elsewhere that's causing that?</md>",
            "I still have to re-enable interrupts and disable interrupts inside of thread_create around a getcontext call used to create the new thread&#39;s context. Removing those makes all the tests complain about interrupts being disabled. Is the thread create function supposed to be written like that? Besides that, I have added a interrupt_off() to the start of almost every function and restore it just before any return statements, but now I&#39;m even getting stack smashing errors.",
            "<md>> re-enable interrupts and disable interrupts inside of thread_create around a getcontext call used to create the new thread's context.\n\nThis is not the right approach. Even that point in thread_create should not be interrupted, which might explain the problems.\n\nIf you recall from A1, there are two places that a setcontext call could \"jump to\". One particular place of those two is a place you can enable interrupts correctly.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgmx8pvx33j6v0",
    "subject": "Confirmation on something from A1",
    "content": "<p>I confirmed during OH that failing valgrind tests shouldn&#39;t impede me functionality wise for A2 but I&#39;m trying a little to fix them before starting on A2. That being said, when I run main I see that the tid i&#39;m returning inside thread_wait doesn&#39;t match the one expected.\u00a0</p>\n<p></p>\n<pre>\nTID SHOULD BE :3 BUT IS: -1\nmain: thread.c:276: thread_wait: Assertion `ret == tid&#39; failed.</pre>\n<p>meaning that my scheduler is empty when it&#39;s trying to dequeue, yet I got a full mark on functionality for A1.. am I tripping?</p>",
    "created": "2025-10-11T23:43:37Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Nah this is the main of A1",
          "comments": [
            "<md>Then. It would seem you still have some bugs from A1 that needs fixing.</md>",
            "yep, but if I leave them as is (only valgrind failing on Markus) it shouldn\u2019t harm my functionality for A2 right ?\u00a0",
            "<md>test/main failing indicates functional issues with your A1, so please have it fixed before starting A2.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgmx07fkq4d5a3",
    "subject": "Task 2 wakeup all",
    "content": "<p>I&#39;m getting some really odd tester behavior and I don&#39;t know if it means my code is bad or the servers are under too much load.</p>\n<p>from the feedback.txt:</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmcw8yzrn5p2k9%2F3019bb8efdfca9b24acff3c227bf67f9d7f0b84eb0f20800767b14ba3280f654%2Fimage.png\" alt=\"image.png\" width=\"438\" height=\"154\" /></p>\n<p>How did the test timeout before the test even started?</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmcw8yzrn5p2k9%2Faaea85369bbfe5d83343a954d101a6b3a7d8b57ee1c1ba59d0dff3613e3d06d6%2Fimage.png\" alt=\"image.png\" width=\"415\" height=\"205\" /></p>\n<p>But I run wakeup all on my computer and it works just fine. What does error: -1 mean?<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmcw8yzrn5p2k9%2F15b8924ae6b0b39b6225fed46d5fe0ff152985d4459c058c28322b01b2d2eece%2Fimage.png\" alt=\"image.png\" width=\"353\" height=\"342\" /></p>",
    "created": "2025-10-11T23:37:00Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>More weird behavior:</p>\n<p>Feedback.txt<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmcw8yzrn5p2k9%2Fa57178522d904d2739d1dd6b2f72c8928f87cc2d44032ac0538626ab2eb1db9c%2Fimage.png\" alt=\"image.png\" width=\"344\" height=\"186\" /></p>\n<p><br />The actual output:</p>\n<p><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmcw8yzrn5p2k9%2Ff3ddeb637ae67f0c3525c28aaa0052acbe8dcce0b1c90a0cbdd46ec7fbcd8a86%2Fimage.png\" alt=\"image.png\" width=\"346\" height=\"244\" /><br />(no error trace here)<br /><br />this is from a test I passed 9/9 in a previous run, and that code hasn&#39;t changed. Funnily enough, now I get full score on wakeup all. Locally, both tests work</p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgmwm29ylzc29q",
    "subject": "A2 Task 2",
    "content": "<p>I have passed the Task 1 test, and I am currently on Task 2. When I run &#34;test/wakeup 0&#34;, it takes a very long time (the running time varies from 10 seconds to about 2 minutes) and shows this error message: <br />*** stack smashing detected ***: terminated. <br />I am wondering what could be the root cause?</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7t2k2ycs8y6m3%2F0307d117cdadf197a73b545b0e5f74c97642e93a9195a9ec739b6853444b46c1%2FScreenshot_2025-10-11_at_19.21.01.png\" alt=\"Screenshot_2025-10-11_at_19.21.01.png\" /></p>",
    "created": "2025-10-11T23:26:00Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmw31y6be119s",
    "subject": "thread_wait: exit code",
    "content": "<p>Do we only pass the exit status of the target thread to exit_code upon success?\u00a0\u00a0</p>\n<p>For those cases with return value THREAD_INVALID, we dont pass the exit status, right?\u00a0</p>\n<p>Thank you\u00a0</p>",
    "created": "2025-10-11T23:11:13Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmstdnhb872yv",
    "subject": "Task 3 Wait Many Test",
    "content": "<p>When running test/wait_many, sometimes it passes and other times there are SEGFAULTS like this:\u00a0<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fktd3mknbxuq32r%2F7ff0eed0929d969650e2c47ab9818158b95a0f21429b16003d4890bfe30d331c%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p></p>\n<p>I&#39;m not quite sure what is happening. I think someone earlier had a similar post with a similar error but they removed the post unfortunately.</p>",
    "created": "2025-10-11T21:39:43Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmqsia5r796sx",
    "subject": "task 3: thread_kill",
    "content": "<p>For this example, I am considering 3 threads A, B and C.</p>\n<p></p>\n<p>1) Thread A is running calls thread_wait(B) and sleeps on its wait_queue and is blocked.\u00a0</p>\n<p>2) Thread B runs and exits and yields to another thread. In the process, it awakes A. B is now a zombie.</p>\n<p>3) Now C runs and calls thread_kill(A). At this point, A hasn&#39;t had a chance to reap B and A will call thread_exit when it runs later.</p>\n<p></p>\n<p>What is our program expected to do in this case? Should we:\u00a0</p>\n<p>i) destroy the zombie thread B before it&#39;s waiter A exits</p>\n<p>ii) just exit thread A without doing anything to the thread it was waiting for (B) since the zombie will be cleaned up when the program ends anyways?\u00a0</p>\n<p></p>\n<p>Either choices has implications for when the tid of B becomes available. Also, a follow-up, if we go with option (ii), should a subsequent call to thread_wait(B) be able to reap its exit code?\u00a0</p>\n<p></p>\n<p>Thanks</p>\n<p></p>",
    "created": "2025-10-11T20:43:03Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmpkltipa926f",
    "subject": "Task 3 wait",
    "content": "So let&#39;s say one thread has multiple threads that are in it&#39;s wait queue and it exits. All the threads in the wait queue are set as ready and returned to the scheduler&#39;s queue. Then one of the threads reaps the thread that was being waited upon. When the other threads that were also waiting on the thread, but notice that the thread has already been reaped, should this result in an error, or just the thread returning the tid? Also what happens with the exit code in this case?",
    "created": "2025-10-11T20:08:55Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mgmp2tumutg24y",
    "subject": "ignore",
    "content": "solved nvm,",
    "created": "2025-10-11T19:55:05Z",
    "tags": [
      "a2",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmoe5ehzrk491",
    "subject": "Grace Credits",
    "content": "I&#39;m sure I have missed this somewhere, but I can&#39;t seem to find how grace credits work in this class? I checked the L0 material and course outline but couldn&#39;t find it. Are we able to use any credits for A2?",
    "created": "2025-10-11T19:35:54Z",
    "tags": [
      "a2",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmob7kuesv4vf",
    "subject": "Task 2: Possible for &#34;That&#39;s too fast. You must be busy looping&#34;",
    "content": "Hi,<br /><br />I am on task 2 for A2. I have successfully completed A1 and task 1.<br /><br />Whenever I run ./wakeup test, I get the following error message;<br /><br />I don&#39;t quite understand what this means though...\u00a0<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkthyynklwuk6xy%2F716c1c4523c9a282f0496092876f911e46885f2c8343dab027625f39202fb4ee%2Fimage.png\" alt=\"image.pngNaN\" />",
    "created": "2025-10-11T19:33:37Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgmn0kml8qk1i3",
    "subject": "Looking for a G4 group",
    "content": "<md>I'm looking for a G4 group. Let me know if you are interested!\n\nEdit: resolved</md>",
    "created": "2025-10-11T18:57:21Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "<md>Hi, I would be interested in working as a group if you still haven't found a group. My discord is: itsdefy.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mglvie7kuf36cm",
    "subject": "Task 3 Wait test",
    "content": "<p>When I run the wait test. 70% of the times wait: test/wait.c:28: test_wait_thread: Assertion `ret == wait[num - 1]&#39; failed.<br />Aborted (core dumped) ; it fails with this.</p>\n<p></p>\n<p>But sometimes it goes all the way to TID 127 and passes.\u00a0 I am confused on why that is the case.</p>\n<p></p>\n<p>Also the handout says &#34;Once the target thread exits, the thread that invokes\u00a0<code>thread_wait</code> should continue operation&#34;. I am a little confused on what that means, does that mean in thread exit we thread_switch() the one in the exiting threads wait queue?</p>\n<p></p>\n<p>PS: I checked and im getting this garbage value</p>\n<p>. thread_wait(1) = 1<br />id = 1<br />thread_wait(2) = 2<br />id = 2<br />thread_wait(3) = 3<br />id = 3<br />thread_wait(4) = -1719554848</p>",
    "created": "2025-10-11T06:07:23Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I did that and the error is still persisting? For my thread wait i do two reap checks, one before and one after sleeping? is that ok?",
          "comments": [
            "<md>What is the goal of the reap check before sleeping?</md>"
          ]
        },
        {
          "content": "I think that&#39;s fine. The check before calling sleep should only determine whether you can wait for this thread or not. If this is a thread you can wait on (a non-exited thread or an exited thread that hasn&#39;t been waited on) then you should reap that thread.",
          "comments": [
            "<p>so the reaping should only be done after the sleep call?</p>\n<p></p>",
            "For the record, i am only speaking from my understanding and implementation of task 3 but yes. If the target thread has not been reaped (exit code not collected), that should be done after sleeping on that thread&#39;s wait queue. Because we should be woken up from the wait queue only after the target thread has exited."
          ]
        }
      ]
    }
  },
  {
    "id": "mgli0gtaeqf4yg",
    "subject": "task 3: thread_id changing mysteriously after thread exits but before its destroyed",
    "content": "<p>Hi there,\u00a0</p>\n<p></p>\n<p>I have been stuck on this bug for a a few hours now. Basically in my thread_wait, I have a target thread that I wait. Before going to sleep on the target thread&#39;s wait queue, i check that this target thread is valid and does exist and that is id is valid.\u00a0</p>\n<p></p>\n<p>After thread_sleep returns the target thread becomes corrupted. It&#39;s state is set to reaped (as it has been waited on) as expected but everything else in the TCB has been corrupted even though i never destroy the target thread until much later in thread_wait. Interrupts are turned off at the start of thread_wait</p>\n<p></p>\n<p>Would someone have an idea of what might be causing this issue?</p>",
    "created": "2025-10-10T23:49:32Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you so much. I think that was what I overlooked.\u00a0",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mglb37alec1783",
    "subject": "[A2] Git Issue",
    "content": "I noticed that when I tried pulling from Git for the first time for A2, it didn&#39;t clone the folder onto my laptop. I also noticed that the HTTPS url ends with: group_number instead of my UTORid.\u00a0",
    "created": "2025-10-10T20:35:42Z",
    "tags": [
      "a2",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgl5cevygj152p",
    "subject": "Implementing Thread_wait before task 5",
    "content": "<p>Hi there,\u00a0</p>\n<p>I am working on task 3 right now. I am doing the tasks sequentially but I am not sure if that will work from task 3 onwards. When i implement thread wait, there is a case that i may call wait on a thread that is blocked waiting on queue for some thread t2 and t2 is blocked on queue of some other thread and so on.\u00a0</p>\n<p></p>\n<p>Therefore, should i implement task 5 first before implementing task 3? I was trying to approach sequentially but not sure if that will work. Can someone clarify if i might be missing something</p>",
    "created": "2025-10-10T17:54:54Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you for the clarification",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgkv78en1as7o1",
    "subject": "Looking for a group for G4",
    "content": "Closed",
    "created": "2025-10-10T13:10:56Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgk70wf8s9t73v",
    "subject": "survey2",
    "content": "When will survey 2 be release? In Quercus, it said that it woul dbe released on 9th",
    "created": "2025-10-10T01:54:10Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgjxiblnshn2yb",
    "subject": "Valgrind marks",
    "content": "is one mark attributed to each task? I am only asking because I received 2/5 on valgrind after completing the first 3 tasks and was wondering if I should be at 2/5 or 3/5 after task 3",
    "created": "2025-10-09T21:27:47Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgjjyenio4s24f",
    "subject": "Can I upload to MarkUs",
    "content": "I fixed some things in my A1 code and I want to push it to my git repo so that I can run the Markus tests again before I start a2. It&#39;s past both the original deadline and the extension deadline, I&#39;m wondering if I&#39;m still allowed to update my files on markus?",
    "created": "2025-10-09T15:08:22Z",
    "tags": [
      "a1",
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Hey, thanks for the answer. I did run the tests locally and the overall program ran successfully but I want to run it on markus to see if I&#39;d hit 80/80 of the marks.\u00a0",
          "comments": [
            "<md>Confirmation from Jack: if your mark has already been released, then yes you can do this.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgizc51hwzm50q",
    "subject": "Markus Tests taking a really long Time",
    "content": "Is it just me or are markus tests taking a really long time to run for A2?",
    "created": "2025-10-09T05:31:11Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mgiuz8lsd0a26a",
    "subject": "a2 autograding markus",
    "content": "title, is the autograding or testing of a2 up yet or is it me that can&#39;t run it..<br /><br />thank u",
    "created": "2025-10-09T03:29:11Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgit7k6nza544l",
    "subject": "I am very close to figuring out this bug",
    "content": "<p>Here is where my bug lies<br /><br /></p>\n<div>\n<div>int enabled = interrupt_off();</div>\n<br />\n<div>all_threads[tid] = new;</div>\n<div>scheduler-&gt;enqueue(new);</div>\n<br />\n<div>interrupt_set(enabled);<br /><br />This is in thread_create. When I wrap those two lines with the interrupt handling my preemptive test passes but the valgrind test segfaults. When I wrap the entire thread_create function in the interrupt handling I get an infinite loop printing this line forever;<br /><br />try_move_potato: error, interrupts disabled<br /><br />Whats the problem here?</div>\n</div>",
    "created": "2025-10-09T02:39:40Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgigivr62dw3rj",
    "subject": "G4 LFG",
    "content": "Yo, Im looking for someone to do G4 with if ur intrested please reply here.",
    "created": "2025-10-08T20:44:33Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mgifux6ot9l553",
    "subject": "test/preemptive passes but valgrind doesnt",
    "content": "Should I be concerned about this?<br /><br />==40582== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks<br />==40582== \u00a0 \u00a0 \u00a0possibly lost: 0 bytes in 0 blocks<br />==40582== \u00a0 \u00a0still reachable: 44,048 bytes in 5 blocks<br />==40582== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks<br />==40582== Rerun with --leak-check=full to see details of leaked memory<br />==40582==\u00a0<br />==40582== For lists of detected and suppressed errors, rerun with: -s<br />==40582== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)<br />Segmentation fault",
    "created": "2025-10-08T20:25:55Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgi89xlxunwca",
    "subject": "Afternoon Classes Canceled",
    "content": "<md>Hi everyone,\n\nMy apologies. I got sick today and won\u2019t be able to make it to the lectures. A make-up lecture will be scheduled after I recover. This cancellation only affects students from LEC0101 and LEC0201, and does not affect LEC5101.\n\nBest,\n\nJack</md>",
    "created": "2025-10-08T16:53:39Z",
    "tags": [
      "instructor-note",
      "logistics"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "Get well soon",
          "comments": []
        },
        {
          "content": "Take care!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgi6loluf5p6fk",
    "subject": "Monday Lecture Recording",
    "content": "<p>Sorry, I had to miss the lecture on Monday Oct 6th and was wondering if its recording will be posted so I can catch up.</p>\n<p></p>\n<p>Thank you.</p>",
    "created": "2025-10-08T16:06:48Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgi5wi1takl10j",
    "subject": "need help debugging lock_acquire",
    "content": "<p>At a high level this is what my function does;<br /><br />disable interrupts and record previous state</p>\n<p>do the usual assert checks</p>\n<p></p>\n<p>check if lock is acquired using while loop and if it is then sleep</p>\n<p><br />turn interrupts back off because they were enabled in sleep at the end (even with this line removed I get the race condition)<br /><br />check the return of thread_sleep<br /><br />outside the while loop set the owner and locked attribute<br /><br />do interrupt set to restore initial previous value<br />return 0 for success<br /><br />Anything here look wrong because I have a race condition?\u00a0</p>\n<p><br />In the odd case, everything seems to print normally but it takes too long and it just hangs at the end. I was thinking that this might be deadlock because we weren&#39;t supposed to handle it until Task 5 so I haven&#39;t handled it yet.<br /><br />I tried doing a check to make sure the current_thread isn&#39;t sleeping on any wait queue before sleeping but then the thread just gets stuck in the while loop</p>",
    "created": "2025-10-08T15:47:13Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "No I am handling the thread_none case. So should I just move on and come back to this later? I thought that we should confirm that the test/lock and test/crash tests pass before moving on?",
          "comments": [
            "<md>As far as I'm aware, you should be able to pass those tests, even without deadlock detection being completed, so I don't think moving on is particularly helpful.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgheacj31u15px",
    "subject": "race condition in test/lock",
    "content": "I am encountering a very rare race condition I think. Around every 5-10% of the time I run this test it prints for much longer than usual and then just hangs at the end or it prints a few lines and then has a seg fault. But the other 95% of the time it works perfectly fine and I dont know why.",
    "created": "2025-10-08T02:54:09Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mghdn8q8jno2p3",
    "subject": "Task 1 Segmentation Fault",
    "content": "When I run test/preemptive, I end up getting a segmentation fault or hang at different points in the execution. Sometimes I get it earlier or later than what is shown in the output below:<br /><br />1: thread 120 passes potato at time = \u00a06.113329<br />1: thread 121 passes potato at time = \u00a06.310415<br />1: thread 122 passes potato at time = \u00a06.433677<br />1: thread 123 passes potato at time = \u00a06.437473<br />1: thread 124 passes potato at time = \u00a06.514723<br />Segmentation fault<br /><br />Any suggestions on how to fix this?",
    "created": "2025-10-08T02:36:11Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mghaplxgt4b48l",
    "subject": "cv_wait",
    "content": "For this function I am having a race condition during the time where the lock is released and then reacquired. I don&#39;t know how to fix it. Are we supposed to call lock_release and lock_acquire in this function or do we manually release and acquire the lock to guarantee atomicity?",
    "created": "2025-10-08T01:14:03Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "When I run the test/signal test sometimes it passes and sometimes it hangs. This leads me to believe that there is a race condition somewhere",
          "comments": [
            "<md>For a race condition to occur like that it must be possible for your cv_wait function to be interrupted. Are you disabling interrupts at the beginning of the function?</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgh5o6rm8og2yl",
    "subject": "Accidentally messed up my commits",
    "content": "i accidently reset my branch and the remote got overwritten. I was able to recover everything locally but I need to force push to restore it on markus. Would it be possible for someone to temporarily enable force push on master or reset the remote repository so i can push normally?",
    "created": "2025-10-07T22:52:59Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "that doesnt work",
          "comments": [
            "nevermind i fixed it."
          ]
        }
      ]
    }
  },
  {
    "id": "mggzs8ftb7dft",
    "subject": "Task 4",
    "content": "Can we use test_and_set to check if the lock is available atomically or do we have to disable interrupts instead?",
    "created": "2025-10-07T20:08:10Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mggs6a1blprkh",
    "subject": "Valgrind Signal test timeout",
    "content": "<p>Hi when I run valgrind test/signal through ssh it works: <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2Fb5588950e631eeaba3998216a94300d460e227f97a214a8e8ec6432183796a79%2Fimage.png\" alt=\"image.png\" /></p>\n<p>But in the markus test I get a timeout error, the program doesn&#39;t seem to end. On markus I got this: <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2Fc8b1486a0fb299c77e1ef0c10b15a17af0a49d8660b98e4b95d1bdbe409c19ff%2Fimage.png\" alt=\"image.png\" /></p>\n<p>The non-valgrind markus test works though: <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2Fe7525f2f66618a6b9c6c044a17dfa111495f42ddc113ddc1cbe2e27fa0060b17%2Fimage.png\" alt=\"image.png\" /></p>\n<p>How do I fix this?</p>\n<p></p>",
    "created": "2025-10-07T16:35:08Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "The output just stops on different lines, I think it just hangs.",
          "comments": [
            "<md>Can you run valgrind on your own test/signal and let us know the result?</md>",
            "The result I got is the first screenshot in my initial post",
            "<md>Ah sorry. Was reading this on my phone. Do you know how long it took approximately? (You can use `time` to find out).</md>",
            "On my laptop, it a couple of seconds",
            "<md>What is it on teach.cs?</md>",
            "Yes, through ssh",
            "<md>Could you upload a copy of the Markus output here? I'm curious what precisely Markus is hanging on.</md>",
            "<p>It stops on different lines on different tests.</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2Fcbc0124babf5eb816af3312bbf1c375424853d30ef7e443fb18d6add3d28edfc%2Fimage.png\" alt=\"image.png\" /></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2F1d02bc93e0356aa3a2e6d5c9b0f53a9664747cbc4d9f0d9229115b517557d081%2Fimage.png\" alt=\"image.png\" /></p>",
            "<md>That is odd. It's possible your interrupt handling is missing/incorrect in some function(s)? That may explain the test stalling at different \"passes\" of the lock.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mggmfe2xd537pe",
    "subject": "T2 Extended",
    "content": "<md>Hi everyone,\n\nA few people were having issue completing T2 in time, so I've pushed the deadline to end of Wednesday. \n\nBest,\n\nJack</md>",
    "created": "2025-10-07T13:54:15Z",
    "tags": [
      "instructor-note",
      "tutorial"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "Thank you",
          "comments": []
        },
        {
          "content": "There is a GOD!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgg0flifpfe19j",
    "subject": "Valgrind issue",
    "content": "Hi, I&#39;m testing with valgrind but I notice that the behaviour of the program is different. When I run test/main the program exits normally but when I run valgrind test/main I hit an assertion error and the test crashes. I&#39;m confused why running it with valgrind would give a different result, especially when test/main is not even preemptive?",
    "created": "2025-10-07T03:38:34Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thanks, I solved it",
          "comments": [
            "<md>Awesome, well done!\n\nOut of curiosity, what was the issue?</md>",
            "I forgot to initialize an attribute to 0 and somehow got lucky for all the other tests."
          ]
        }
      ]
    }
  },
  {
    "id": "mgfp3ejbp224u5",
    "subject": "Confused about disabling interrupts",
    "content": "<p>Hi there,\u00a0</p>\n<p>As i understand it, we need to disable interrupts in thread_yield because we are accessing a shared variable. Assume T1 yields to T2 for this example</p>\n<p></p>\n<p>My question is, when we call thread_yield(thread_any) from interrupt_handler, the signals are already off. When we go to thread_switch to switch to t2 and we restore its context, should the signals still be off? because we are restoring the signal state we were given i.e. off.</p>\n<p></p>\n<p>If not, can we assume that if signals are off when we come into thread_yield then that means that previously they were on and that&#39;s the signal state t2 should restore? (We have no way of checking this when we come into thread_yield)</p>\n<p></p>\n<p>Also in general is it safe to assume that if we see that interrupts are off then that means their previous state was on i.e. we didn&#39;t call interrupt_off() twice?</p>",
    "created": "2025-10-06T22:21:09Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgfmyh8vzuv39n",
    "subject": "where to disable/enable interrupts for task 1",
    "content": "For now I think I need to do this in thread_create, and thread_wait. In thread_create because our global thread array is a shared variable so it needs to be modified atomically. For thread_wait I&#39;m assuming we need it to ensure equal fairness when adding thread to wait queue? I don&#39;t know if im understanding it correctly or if im missing something.",
    "created": "2025-10-06T21:21:20Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgfl9gulgyj52p",
    "subject": "need to call interrupt_init in thread-init?",
    "content": "I would assume no because it says in the comment that ut369 start function handles this but i just want to be sure",
    "created": "2025-10-06T20:33:53Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgfkyod6bsn6i",
    "subject": "disable interrupts in thread_yield or thread_switch",
    "content": "dont know whether to disable them in thread_yield or thread_switch or neither adn instead in thread_wait",
    "created": "2025-10-06T20:25:30Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "you need to ensure atomicity when dequeuing/removing an element from the ready queue.",
          "comments": [
            "<md>So then it seems like `thread_yield` at least should have disabled interrupts. And likely `thread_wait`, since it also deals with ready / wait queue access.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgfkbfauuyt269",
    "subject": "TASK 1 Markus Test",
    "content": "<p>1. output from teach cs</p>\n<p><a href=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm6en8v8h9la4%2F77c4fd6791befe03f6484b20e310a98ad74e65f53d1d1a6734e2d1076d30db2a%2Foutput_teach_cs.txt\" target=\"_blank\" rel=\"noopener noreferrer\">/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm6en8v8h9la4%2F77c4fd6791befe03f6484b20e310a98ad74e65f53d1d1a6734e2d1076d30db2a%2Foutput_teach_cs.txt</a></p>\n<p>2. Feedback output from Markus</p>\n<p><a href=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm6en8v8h9la4%2F2456932eeac2b0c3ca11c645eebf29267508b39148c0f0320e0f62669873df99%2Fmarkus_feedback.txt\" target=\"_blank\" rel=\"noopener noreferrer\">/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm6en8v8h9la4%2F2456932eeac2b0c3ca11c645eebf29267508b39148c0f0320e0f62669873df99%2Fmarkus_feedback.txt</a></p>\n<p>I ran <code>test/.preemptive</code> on teach.cs, and the tests appear to have passed with the following partial output.</p>\n<p></p>\n<p>10: thread \u00a038 passes potato at time = 59.599987<br />10: thread \u00a039 passes potato at time = 59.646626<br />10: thread \u00a040 passes potato at time = 59.693996<br />10: thread \u00a041 passes potato at time = 59.732704<br />10: thread \u00a042 passes potato at time = 59.830517<br />10: thread \u00a043 passes potato at time = 59.834206<br />10: thread \u00a044 passes potato at time = 59.852329<br />10: thread \u00a045 passes potato at time = 59.887676<br />10: thread \u00a046 passes potato at time = 59.929665<br />10: thread \u00a047 passes potato at time = 59.972610<br />10: thread \u00a048 passes potato at time = 59.998493<br />cleaning hot potato<br />preemptive test done</p>\n<p>\u00a0</p>\n<p>However, when I test it on Markus, I got 0 / 12 for the preemptive test. The error message is the following.\u00a0</p>\n<pre>\n<code>ERROR: EOF: not found: [&#39;^interrupt_handler: context at \\\\w&#43;, time diff = (\\\\d&#43;) us\\\\r\\\\n&#39;, &#39;^(\\\\d&#43;): thread\\\\s&#43;(\\\\d&#43;) made it to do_potato\\\\r\\\\n&#39;, &#39;^(\\\\d&#43;): thread\\\\s&#43;(\\\\d&#43;) passes potato at time =\\\\s&#43;(\\\\d*\\\\.\\\\d&#43;|\\\\d&#43;)\\\\r\\\\n&#39;, &#39;^cleaning hot potato\\\\r\\\\n&#39;, &#39;^preemptive test done\\\\r\\\\n&#39;, &#39;^(\\\\w&#43;): error, interrupts disabled\\\\r\\\\n&#39;, &#39;^(\\\\w&#43;): bad (\\\\w&#43;) (\\\\w&#43;)\\\\r\\\\n&#39;, &#39;^try_move_potato: unexpected potato move\\\\r\\\\n&#39;]\nINFO: Run 1 achieved a score of 0\nERROR: TIMEOUT: not found: [&#39;^interrupt_handler: context at \\\\w&#43;, time diff = (\\\\d&#43;) us\\\\r\\\\n&#39;, &#39;^(\\\\d&#43;): thread\\\\s&#43;(\\\\d&#43;) made it to do_potato\\\\r\\\\n&#39;, &#39;^(\\\\d&#43;): thread\\\\s&#43;(\\\\d&#43;) passes potato at time =\\\\s&#43;(\\\\d*\\\\.\\\\d&#43;|\\\\d&#43;)\\\\r\\\\n&#39;, &#39;^cleaning hot potato\\\\r\\\\n&#39;, &#39;^preemptive test done\\\\r\\\\n&#39;, &#39;^(\\\\w&#43;): error, interrupts disabled\\\\r\\\\n&#39;, &#39;^(\\\\w&#43;): bad (\\\\w&#43;) (\\\\w&#43;)\\\\r\\\\n&#39;, &#39;^try_move_potato: unexpected potato move\\\\r\\\\n&#39;]\nINFO: Run 2 achieved a score of 1\nERROR: EOF: not found: [&#39;^interrupt_handler: context at \\\\w&#43;, time diff = (\\\\d&#43;) us\\\\r\\\\n&#39;, &#39;^(\\\\d&#43;): thread\\\\s&#43;(\\\\d&#43;) made it to do_potato\\\\r\\\\n&#39;, &#39;^(\\\\d&#43;): thread\\\\s&#43;(\\\\d&#43;) passes potato at time =\\\\s&#43;(\\\\d*\\\\.\\\\d&#43;|\\\\d&#43;)\\\\r\\\\n&#39;, &#39;^cleaning hot potato\\\\r\\\\n&#39;, &#39;^preemptive test done\\\\r\\\\n&#39;, &#39;^(\\\\w&#43;): error, interrupts disabled\\\\r\\\\n&#39;, &#39;^(\\\\w&#43;): bad (\\\\w&#43;) (\\\\w&#43;)\\\\r\\\\n&#39;, &#39;^try_move_potato: unexpected potato move\\\\r\\\\n&#39;]\nINFO: Run 3 achieved a score of 0\nMark for preemptive test is 0 out of 12\nFAIL&#34; </code></pre>\n<p>Any suggestions?\u00a0</p>\n<p>Thank you\u00a0</p>",
    "created": "2025-10-06T20:07:25Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Thank you for your help. My code doesn&#39;t have printf statements.\u00a0\u00a0</p>\n<p>\u00a0</p>",
          "comments": [
            "<md>I think Piazza allows file uploads. Would you be able to respond with an output file from running the test yourself and on Markus? Just to see if there's something unexpected that is causing the issue.</md>",
            "<md>It appears that run 1 and run 3 both crashed.</md>",
            "<p>I uploaded the outputs for running on teach cs and the feedback output from markus.\u00a0</p>\n<p>Do you see anything unusual?\u00a0</p>\n<p>Thank you!</p>",
            "<md>> ```\n> *** stack smashing detected ***: terminated\n> ```\n\nI found this in your Markus output. That seems to have caused your program to crash, which is probably why you got 0. The fact that this is only happening once in a while makes me think this might mean you haven't disabled / restore interrupts correctly?</md>",
            "Thank you! This one is hard to debug because it does not happen all the time. By the way, do you know why disabling or restoring interrupts might cause stack smashing? I don\u2019t quite see the connection between the two \u2014 just curious.",
            "<md>If an interrupt occurs during one of our thread_* functions where it shouldn't (e.g. thread_create or thread_switch), you can end up with a partially initialised context, or an interruption during a switch. At that point, yielding to / from such a context could cause issues, because the context may store a different value for the RSP / other registers.</md>",
            "Thank you. Your explanation was very helpful."
          ]
        }
      ]
    }
  },
  {
    "id": "mgejjwameud5r6",
    "subject": "T2 - submitting changes",
    "content": "We have all our T2 code in a CSC369 folder but for me that folder is not a repo. All the answers to my T2 questions are inside the code. I cannot push the changes since this folder is not a repo and T2&#39;s code is supposed to be in this folder. This should be fine I am assuming?",
    "created": "2025-10-06T02:58:14Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mgechyslzyp6cn",
    "subject": "A2 non-deterministic heap free",
    "content": "I&#39;ve completed up to Task 3 but when testing with valgrind, I noticed that the same test gave different results for the heap (ie. different sizes of lost memory). Is this because I didn&#39;t properly disable interrupts in the thread library functions? Are there any other issues that this could be caused by?",
    "created": "2025-10-05T23:40:47Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mge6aq0avye3j3",
    "subject": "A2 Preemptive Threads Interrupt Initialisation",
    "content": "I&#39;m getting started with Task 1 in A2 and I can see that interrupt.c already provides many functions for initialisation (which are done in uts369 start). My question was with the set_interrupt function because it appears that its not currently generating periodic signals (are we supposed to change this)?<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2F188eece19d35204bdc82a27624149cac0abbb6e219bb4ef47114149f91b995df%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-10-05T20:47:11Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mge2rmun4io2rq",
    "subject": "Output appears correct, but autograder reports missing lines",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmanll68phl39n%2F166c6c2a595d19362562ae810813406e813fcc8a05bf534a2c6e81b4ec591591%2FScreenshot_5-10-2025_15321_markus.teach.cs.toronto.edu.jpeg\" width=\"874\" height=\"229\" alt=\"\" /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmanll68phl39n%2Ff55f42c6951e85dace68e1970b63e4f51dbcb371ad54ec7e1d0137e237f1f432%2FScreenshot_5-10-2025_1533_markus.teach.cs.toronto.edu.jpeg\" width=\"1067\" height=\"378\" alt=\"\" /></p>\n<p>I believe my program produces the correct output, but I\u2019m still getting errors that say the lines \u201cthread created thread,\u201d \u201cthread limit reached at thread,\u201d and \u201cexiting program with code 42\u201d were not found. I\u2019m not sure what\u2019s causing this. Please help.</p>",
    "created": "2025-10-05T19:08:22Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgdegbmiy1f524",
    "subject": "general assignments question",
    "content": "Hi, just wondering (apologies if this was already discussed)<br /><br />What&#39;s the level of difficulty expected for each assignment? Like if A0 was a 1/10, how would A2... so on rank.\u00a0<br /><br />Also, are all the assignments cumulative/built on the prior assignment?",
    "created": "2025-10-05T07:47:43Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thanks as always :)",
          "comments": [
            "<md>Happy to help \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgd3iqfak7236i",
    "subject": "Tutorial 2- Understanding",
    "content": "<p>I wanted to check if my understanding is correct.<br /><br />When setcontext(&amp;mycontext) is called the process&#39;s signal mask will also be updated from the my_context.uc_sigmask that was saved during getcontext(&amp;my_context).<br /><br />So even though we enable interrupts, they will be disabled again after setcontext, so print statement #3 will print disabled = true.</p>\n<p><br />Also, if we use write inside our signal handler instead of printf (so that we don&#39;t use printf buffers), can we print each number using printf instead of unintr_printf?</p>",
    "created": "2025-10-05T02:41:40Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgcmclhn1h4m3",
    "subject": "Task 1: Preemptive Threading in Assignment 2.",
    "content": "I&#39;m a bit confused about Task 1: <em>Preemptive Threading</em> in Assignment 2.<br />Are we supposed to add an interrupt handler and update our <code>thread.c</code> code to include signal enabling and disabling for mutual exclusion? Thank you.\u00a0",
    "created": "2025-10-04T18:41:00Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgcjxpv8nx522z",
    "subject": "Midterm 1 4a RSP",
    "content": "<p>In 3.1 during setcontext, why is the RSP shifted down by 16 bits?</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2Fe4dab04265cf04182e68c85732c184845ff856f3498815f4f25108a985d93fcc%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
    "created": "2025-10-04T17:33:27Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Sorry I&#39;m still a bit confused. Do we push the return address first, then we push the old rbp and then set rbp to rsp (which points to the old rbp), then push the stack frame of setcontext? So that is why the RSP = RBP &#43; 64bytes (size of setcontext frame)?</p>\n<p>Why would the RSP be higher in 4: after getcontext? Does it have to do with the RIP?</p>",
          "comments": [
            "<md>In 4 we restore all registers, including RSP, to the value they were in 2 (at the time getcontext was called).</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgci3f1dfc518s",
    "subject": "Midterm 1 Q5b Alternate Solution?",
    "content": "<p>Hi, for Q5b of Midterm 1, I did a slightly different execution\u00a0 based on the lost-wakeup problem and I was wondering if it works or not.</p>\n<p>I made Thread 1 acquire the lock, then Thread 2 tries to acquire the lock and runs up until line 6 (so it frees the mutex and is just about to sleep). Then Thread 1 releases the lock and sends a wakeup call to Thread 2 which isn&#39;t sleeping. Then Thread 2 sleeps.\u00a0</p>",
    "created": "2025-10-04T16:41:54Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>From page 18 of the textbook's [chapter on locks](http://pages.cs.wisc.edu/~remzi/OSTEP/threads-locks.pdf):\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fishx6bpf65u1nv%2F3c5d1e674ea1b227c1c8400e2d3d159f5e868d8c3830e37270d3a2df530076a9%2Fimage.png)\n\nThe midterm simplified the problem by incorporating setpark into `thread_wakeup` (unpark) and `thread_sleep` (park).</md>",
          "comments": []
        },
        {
          "content": "<md>I reviewed your midterm booklet and increased your mark to 3/4 for Q5b.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgcf9mchak17cz",
    "subject": "T2 quiz",
    "content": "I was reviewing for A2 and going through content in T2, but just wanted to ask is T2 for completion or correctness on quercus?",
    "created": "2025-10-04T15:22:44Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>All the GXs are for completion, and TXs are for correctness.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgbrda0l7ep2ne",
    "subject": "Survey 2 not released so far?",
    "content": "Hi! Just want to check if survey 2 is gonna be release? It says survey 2 released on Oct 1st on quercus home page. But I don&#39;t see a link for survey 2 posted.",
    "created": "2025-10-04T04:13:44Z",
    "tags": [
      "exercise",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Hi guys, is survey 2 available now? I do not know where I can find the link.",
          "comments": [
            "<md>Still working on it \ud83d\ude41 had other priorities.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgbi6tujcxpdy",
    "subject": "Mutex and Flag in a lock",
    "content": "<p>Can I ask why we need both a mutex and a flag in a lock?</p>\n<p>I have noticed that the flag is to indicate if a critical section is used, and the mutex is to indicate if the wait queue has been accessed. Is this the only reason?</p>",
    "created": "2025-10-03T23:56:47Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgb953xezb558h",
    "subject": "Midterm 1 Q4a/b: question",
    "content": "Hi there,<br /><br />I was looking at the solution &amp; explanation for Q4a/b, why is the saved address for the RIP after getcontext still 0x1185 and not the old RIP (I assume 0x10e2) saved in the getcontext call? Why would it resume execution from 0x1185?<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fk15umadic0b7l2%2F107ff83f3ae222337061447ee47a25f530f114f1c7965ee4fcabacbc2056d807%2Fimage.png\" alt=\"image.pngNaN\" />",
    "created": "2025-10-03T19:43:30Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Oh I see I was misunderstanding the function call trace. I have another question then, if the my_getcontext stack frame no longer exists after setcontext(&amp;uctx) restores the context, how does the 2nd &#34;after get_context&#34; print statement run?\u00a0",
          "comments": [
            "<md>Calling printf would just result in some values being pushed to the stack, and then a call instruction. That is still possible.</md>"
          ]
        },
        {
          "content": "separate question about Q4: if I wrote about the bug that is supposed to be the answer for c/d but wrote it in the part for b) would I be able to get any marks for that?",
          "comments": [
            "<md>Yes. Submit a remark request.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mgat14mij6a2xo",
    "subject": "Testing Tokens A1",
    "content": "I saw that tokens for the automated tests are only available until 12pm on Sunday. I was wondering if the time could be extended until 11:59pm (the max. deadline) on Sunday if we were planning to use up all our grace tokens.",
    "created": "2025-10-03T12:12:30Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mgarbtd62xs34u",
    "subject": "valgrind test",
    "content": "<p>Would like to fix for A2</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkt4padrzxst29p%2F3853bed80df7f4475d901367582c6cf24988b0cb7593e7a1384bc6bb6813b963%2Fimage.png\" alt=\"image.png\" width=\"590\" height=\"122\" /></p>\n<p></p>\n<p>Maybe my thread_end or thread_destroy is not correct? I saw a few posts and have freed any unused structs in create, for example. Any help is appreciated<br /><br /></p>",
    "created": "2025-10-03T11:24:50Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you! I&#39;ll do that",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mgaa7v1clb659t",
    "subject": "Grade distribution &#43; Adjustment questions",
    "content": "<md>Will the grade distribution for the midterm be enabled on Crowdmark at some point? Also, I was wondering how the grades were scaled (ie. flat 20% added for everyone in every section)?</md>",
    "created": "2025-10-03T03:25:52Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mga9awbj89c3ww",
    "subject": "How do we see our test?",
    "content": "I can see the grade on quercus, but I cant see my test itself.",
    "created": "2025-10-03T03:00:14Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mga8so7ajfo1e",
    "subject": "what is compiler optimization",
    "content": "I don&#39;t recall seeing this in the lecture slides or tutorial activities I reviewed. Which lecture was it covered in?",
    "created": "2025-10-03T02:46:03Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "But the T1 doesn&#39;t say this is a result of a compiler optimization; it just says that it&#39;s changing where the compiler is storing the information. Did we learn about what the compiler does in its compilation process to &#34;optimize&#34; storage?",
          "comments": [
            "<md>T1 mentions that you get different results between compiling with -O0 (the default) and -O2. The expectation is that you know this is the optimisation level (something I believe is mentioned in CSC209?) and that you actually tried it to see the difference.\n\nAlso, here's the excerpt of the comment from T1:\n\n```\n/* we declare setcontext_called to be volatile so that the compiler will\n\t * make sure to store it on the stack and not in a register. This is\n\t * ESSENTIAL, or else the code in this function may run in an infinite\n\t * loop (you can try this by removing the volatile keyword, and\n\t * compiling this file with the \"-O2\" flag to the gcc compiler, by\n\t * changing CFLAGS in the Makefile).\n```\n\nThe idea is that you know about `volatile` and the risk with compiler optimisations from T1, and you (hopefully) also applied it in your A1 code.</md>",
            "<p>&gt; The expectation is that you know this is the optimisation level (something I believe is mentioned in CSC209?)<br /><br /></p>\n<p><a href=\"https://www.youtube.com/watch?v=4Py9B6Z99_s\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.youtube.com/watch?v=4Py9B6Z99_s</a></p>\n<p></p>\n<p><a href=\"https://www.youtube.com/watch?v=uJ6KHWH_Gv4\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.youtube.com/watch?v=uJ6KHWH_Gv4</a></p>\n<p></p>\n<p>These are the PCRS videos we used to learn about compilers. There is no mention of optimization, and the most in-depth we get about the compiler toolchain is with respect to the following diagram:</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmcw8yzrn5p2k9%2F2cb4d2971964e3961a134ac6273e507b262599f9f7bc51af79e49ce0bdf0cb27%2Fimage.png\" alt=\"image.png\" width=\"321\" height=\"108\" /></p>\n<p>But the components of this diagram are explained in a very broad sense and are not a key component of the lesson (as this compilation toolchain is explained mainly to motivate how the header files work in C). I feel that there is a disconnect here: if this is the expectation that &#34;we know&#34; this is at the optimization level and it was not covered in 209, where do I learn this?</p>\n<p></p>",
            "* I am not asking for the sake of argument, I just want to know how I can better prepare for the second midterm \ud83d\ude05",
            "<md>That's fair, CSC209 has evidently changed a bit since I took it.\n\nHowever, if we introduce a novel flag this way, I think for future it might be worth doing some research to understand what it is and how it works (by which I mean Google it or ask your favourite LLM). Also as a note, inferring that it is a compiler optimisation shouldn't be too difficult: we tell you to change the flag to `gcc` (the compiler!), and we see different behaviour as a result. But yes, we expected a little bit of exploration into what `volatile` is, and how `-O2` interacts with it.\n\nIf you didn't get it, that's fine too! From what I recall of marking, the majority of people didn't get it, and so those kind of questions are a factor we consider when we curve.</md>",
            "<p>&gt; if we introduce a novel flag this way, I think for future it might be worth doing some research to understand what it is, and how it works</p>\n<p></p>\n<p>I agree with this, but when prepping for a midterm, spending this amount of dedicated time for a single comment in 1 tutorial when we have all the lecture slides, the optional activities, the assignment, and the group activities is not very effective. When I review, should I prioritize the tutorial content over the optional activities and group activities?\u00a0</p>",
            "<md>The point is not to have you prioritise the tutorial content when reviewing. The idea was that when you did the tutorial (and later when you (hopefully) used `volatile` in A1), you did so knowing why it was required, and not just getting through it with trial and error.\n\nAlso, while the comments in T1 were not assessed, the expectation was that you would engage with them and answer them (even if we didn't check your answers), especially when they were asking you questions.\n\nI've been there, I took this class with Jack as a professor myself a year back, and he gave us some challenging questions on our midterm and final too. We don't expect you to trawl through every single line of code and comments from tutorials. But the main purpose of T1 was to introduce you to `getcontext`, `setcontext`, and `volatile`, and how those relate to each other. In a similar vein, we expect you to at least partially understand signals and why we are using them the way we are in T2 and A2.</md>",
            "Thank you!"
          ]
        }
      ]
    }
  },
  {
    "id": "mga30454dd46yb",
    "subject": "Monday Lecture Recordings",
    "content": "When would the lecture recordings for Mondays class pe posted on OCCS?",
    "created": "2025-10-03T00:03:53Z",
    "tags": [
      "logistics",
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg8ua83o67t622",
    "subject": "Post midterm 1 debrief",
    "content": "How is everyone feeling about the first midterm?",
    "created": "2025-10-02T03:12:02Z",
    "tags": [
      "midterm1",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm8ga2f6l802o4%2F8101beac96a64715cda07bc2addc8eb3bb8d4b28cb66328f616cf732b123fee7%2FF9ngn9KagAAQY23.jpg\" width=\"735\" height=\"687\" alt=\"\" />",
          "comments": []
        },
        {
          "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7kuzbsjlwbtf%2F8931e1625460ca425fa53f992864da8872adbba02350371b9b8c7b37012a38ff%2FIMG_1788.webp\" width=\"1688\" height=\"1125\" alt=\"\" />",
          "comments": []
        },
        {
          "content": "<p>don&#39;t ask me</p>\n<p><img src=\"https://northeastanimalhospital.com/uploads/SiteAssets/631/images/news/dog-looks-sad.jpg\" /></p>",
          "comments": []
        },
        {
          "content": "<img src=\"https://www.meme-arsenal.com/memes/479fa55e538eff768c308e5d787cdded.jpg\" alt=\"Create meme &#34;people, crying Tobey Maguire&#34; - Pictures - Meme-arsenal.com\" />",
          "comments": []
        },
        {
          "content": "<md>![Im Cooked Chat Its Over Meme - Im cooked Chat its over Cooked - Discover &  Share GIFs](https://media.tenor.com/A4EYOcvMeBMAAAAe/im-cooked-chat-its-over.png)</md>",
          "comments": [
            "<md>agreed</md>",
            "true"
          ]
        },
        {
          "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkeh8g1hl3mv5mp%2F929ee3d51074b002e628a1835f592f7a958bb9a945687b218721ccf3e63b6363%2Fyellow-octopus-crying-cat-meme_12__2.jpg\" width=\"434\" height=\"500\" alt=\"\" />",
          "comments": []
        },
        {
          "content": "<img src=\"https://pbs.twimg.com/media/EpYCLxqUUAAf5bn.jpg:large\" />",
          "comments": []
        },
        {
          "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fb38592fb21999c970cb12c0c90aa41e0994f05628500bb8e1e9c0a53363ba549%2F7516076.jpg\" width=\"317\" height=\"444\" alt=\"\" />",
          "comments": []
        },
        {
          "content": "<img src=\"https://preview.redd.it/poor-mario-and-bowser-v0-cwz15ia6so9c1.jpeg?auto=webp&amp;s=f3924196a5f66fd1116bc23b57d4c3e3d199d639\" />",
          "comments": []
        },
        {
          "content": "that was cooked",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg8qxuy5qt942n",
    "subject": "Lost laptop",
    "content": "<p>I may have left my laptop in EX 100 (or the top floor near EX 300) after the midterm today at 6-7? I know its unlikely but UTSG isnt my home campus so Im not sure what exactly I can do</p>\n<p></p>\n<p>Edit: found</p>",
    "created": "2025-10-02T01:38:26Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "If anything, you can also contact the lost-and-found office or visit them in person (it&#39;s across from the exam center at the other side of the road).",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg8nvthc9a44ls",
    "subject": "Left my cute purple water bottle (that has a bear) at Exam center TT",
    "content": "Title, section 3:00-4:00pm - Helloo, Is there a lost and found I can find my very cute botttlee<br /><br />ps. hope we didn&#39;t feel too bad after that exammm TT",
    "created": "2025-10-02T00:12:52Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I invigilated the last session, and remember seeing two water bottles. One is on the shelf in the front, one is under one of the desks at the more east side. If not, you can always drop in at the lost-and -found office across from the exam center at the other side of the road.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg88xnpzq9i2ox",
    "subject": "2025 Deferred Final, Q2 d)",
    "content": "<p>Why does performing a kernel-level thread switch not directly require the execution of privileged instructions?</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7t2k2ycs8y6m3%2F3761c342acef8db7cf855bf3e0a825099e40a093dc07d44b0fc788052ae58b62%2FScreenshot_2025-10-01_at_13.10.30.png\" alt=\"Screenshot_2025-10-01_at_13.10.30.pngNaN\" /></p>",
    "created": "2025-10-01T17:14:24Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg82w1vnu6i478",
    "subject": "letter sized aid sheet size",
    "content": "google says letter sized aid sheet is 8.5 x 11 inches. is this correct?",
    "created": "2025-10-01T14:25:11Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "so a little bit smaller than A4, got it!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg7jldt4aei3sv",
    "subject": "E3 Question 5",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54b1fbplk1bc%2Fe6190ed24b9205e1fe333fef83cea2c38b3d75e325ff35d70f3f74fe19b9d1d3%2Fimage.png\" alt=\"image.png\" width=\"401\" height=\"312\" /></p>\n<p>Does this mean system calls are not interrupts, but actually the mechanism that the interrupt uses?</p>\n<p>Since the answer says system calls are a type of exception/trap, which are mechanisms.</p>\n<p>I thought system calls were interrupts, and they were implemented using a trap.</p>",
    "created": "2025-10-01T05:25:01Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg7gselokx557y",
    "subject": "Atomocity &amp; context switching",
    "content": "<p>What dictates atomocity? So I am understanding that if the CPU/hardware considers the code to be a single step, it will completely execute before considering any context switching; whereas, if it is multi-step, context switching can occur between any step.</p>\n<p></p>\n<p><em>Now, what exactly dictates what a step is and whether the CPU can run code fully without context switching? </em></p>\n<p></p>\n<p>For example, there is the spinning lock example provided in Lecture 5. Without the test_and_set functionality, we risk context switching, but after it is implemented this becomes a single step (i.e. no context switching). Why does the hardware recognize the test and set implementation as a single step (no context switching) and the implementation without test and set as multi-step (with context switching)?\u00a0</p>\n<p></p>\n<p><strong>What is the pattern at determining number of steps and understanding where we risk context switching?</strong></p>",
    "created": "2025-10-01T04:06:29Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg7f02yoe9o4yp",
    "subject": "W25 Midterm: sleep lock implementation",
    "content": "I&#39;m confused about the sleep lock implementation in this question. When we release the lock, why do we only mark the calling thread as ready? This still isn&#39;t sufficient for it to enter the critical section, right? Why are we only setting the variable to 0 when the queue is empty?<br /><br />EDIT: Nvm I understand (I was overcomplicating it in my head). We simply just take the calling thread out of the queue and eventually we can reacquire when the queue is empty (starting a new queue later)<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fe588b30c5be767587f3d0b456d45641a822b12d2fdd20abd2bff8bb8ed65b567%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-10-01T03:16:28Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg7dgufyrph38o",
    "subject": "CPU only having a single core",
    "content": "<md>For the exam I was wondering, if we can assume that the CPU only has a single core or will the number of cores within a CPU be specified for certain questions?</md>",
    "created": "2025-10-01T02:33:31Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg79xbyyjh1jv",
    "subject": "General midterm question",
    "content": "<p>Hi all, just wanted to ask for some general advice for this midterm,</p>\n<p></p>\n<ol><li>Do we have any idea of the format of the exam? I am curious whether we should focus more so on theory (similar to the group work), pratical/coding (like assignments), going through memory models, etc.</li><li>What content would be ideal to have on the cheat sheet? Should we reserve space for function call or more broader/general ideas (e.g. what problems does the critical section need to resolve)</li><li>How is everyone studying? I am finishing up reviewing the lectures and directly jumping into the midterm, but wondering whether the assignments are worth our time?\u00a0</li></ol>\n<p></p>\n<p>If anyone can weigh in with thier thoughts, and instructors can share what they can, that would be awesome! :)</p>",
    "created": "2025-10-01T00:54:22Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Same questions</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg7678jr9807e0",
    "subject": "Midterm aid sheet images",
    "content": "are we allowed to put images on our aid sheet provided that the text in the image is not smaller than 10pt?",
    "created": "2025-09-30T23:10:06Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg76237z5wt4c8",
    "subject": "Shared Aid-Sheet",
    "content": "Can we make our aid-sheet together with another student and both have the same aid sheet for the midterm?",
    "created": "2025-09-30T23:06:05Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg7462njv1s3z7",
    "subject": "2023 F Midterm Part 2 Question",
    "content": "<p>One of the MCQs have \u201cwhen one user-level threads blocks, other user-level threads cannot run either\u201d. I missed this one because I thought since API blockings don\u2019t do this, it\u2019s false. However, I see that I was supposed to think of the kernel intervention (due to the invisibility).</p>\n<p></p>\n<p>Is my way of thinking completely wrong? I am genuinely curious if I am misunderstanding the concepts or missing something.</p>",
    "created": "2025-09-30T22:13:12Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg736dezvk41t0",
    "subject": "Sample Answers to Group Activities",
    "content": "<md>Hey everyone! Below is a set of sample answers to G1-3 from class. Note that these aren't the only valid answers, these are just what I came up with while observing discussions. As long as your conclusions are roughly similar / justified, they should be acceptable. If you have any questions (or if you feel I've done something wrong :)), feel free to add a follow up to this note!\n\n## G1: Processes vs Threads\n\n1. (Skipped because this is just asking for your UTORids / student numbers)\n2. The child processes / those created by fork don't share memory, meaning they are all modifying their own copy of the array. They also don't share their results in any way, so we never actually sort the array.\n3. Linux has a variety of ways to limit the amount of system resources available. You may start to run low on / out of memory. Another, more likely limit is the limit on the number of user processes (e.g. on my machine, it is 29,744). Attempting to create more than this many processes will cause `fork` to fail.\n4. There is significant overhead associated with making a new process (i.e. calling `fork`) to sort the array. The `seq` version doesn't face that overhead, and so is faster. In fact, the way things work, we may actually not reach a point where `seq` is slower, because the `fork_*` approaches create a new process for each \"divide\" step in mergesort, and so we end up with _a lot_ of processes, and therefore lots of overhead.\n5. There is little / no difference. In practice, we pay the \"cost\" of setting up the shared memory once at the very beginning. This means the difference in the two versions is relatively minimal, and becomes an increasingly smaller percentage of your runtime as we increase the size of the array we are sorting.\n6. The difference is not huge, but is in favour of the `pthreads` approach. This is because the cost of creating and destroying threads is relatively lower than that of processes. However, it is a smaller difference than it should be in theory because of a variety of optimisations that exist in the OS (some of which, like CoW, which are covered later in the course).\n7. Each recursive call creates a new thread, which is inefficient because we have a long setup and teardown. You can see this if you consider the \"base case\" of mergesort: we create a thread (slow), evaluate an if condition and return (fast), and then teardown the thread (slow). A better approach would be to take a similar approach to a thread pool, where we have a fixed number of threads which are created once, and we use those as \"workers\" to sort parts of the array.\n\n## G2: Lock Implementations\n\n_NOTE:_ if you didn't get these results, that's fine! This is a \"micro-benchmark\", and so it's difficult to get exactly the results we want, because there are too many other factors impacting our results (e.g. if you're running on teach.cs, if all the CSC2099/CSC108/\\<insert other course here\\> folks decide to run their assignment then you'll see a sudden drop in operations per second).\n\n1. Skipped (again, just asking for student numbers).\n2. Skipped (I mean, it asks you take a guess, I'm not sure what I can say here!)\n3. You should see that with a shorter critical section (like a very short one, under 10 ns) the spinlock will outperform the other two, and in particular the blocking implementation is the slowest. As we increase the length of the critical section, the order reverses: block > yield > spin. With a longer critical section, we waste more time spinning / yielding instead of running operations. However, until we reach a certain threshold, the cost of a system call and context switch is higher, which explains why spinlock is \"better\" for a short CS.\n4. With fewer threads, spin > yield > block. This is because we have limited contention, and so its more likely that the lock is free than it is held. This means the cost of making a syscall only to find an unlocked lock (which is what the blocking approach does) is high, and so we see that the spinlock is faster. However, as we increase the number of threads, we have more contention, and so we waste more time spinning / yielding, and so the order flips to block > yield > spin.\n5. The general pattern to note is that as the non-CS work (i.e. the value of `work_ns`) icnreases, the impact of the lock implementation is lower, because we spend less time overall doing things with the lock (and more time in the non-CS work). The spinlock is still faster to acquire, but the difference should be much smaller.\n6. You should see that yield is the least stable. This is because it depends on the OS scheduler for when the thread next gets to run, and so we can have large fluctuations in the performance.\n7. The goal was we wanted you to find that spinlocks typically are better with the least contention (i.e. fewer threads, smaller critical section, more work outside the critical section). Blocking is good at the opposite (and also probably the approach you should take by default). Yielding is all over the place, and ends up being bad because it is effectively a spinlock but without the main advantage of spinlocks (which is avoiding the system call; yield locks make a syscall in the form of `sched_yield`!).\n8. We have a very simplistic workload (we are basically just \"burning\" CPU cycles as our \"work\"). It might be better to have a more varied workload to reflect something more realistic. It might also be a good idea to have more time per test, to avoid the issues of a spike in background activity influencing our tests so much. It might also be a good idea to measure the \"equality\" of the approaches, i.e. the variance in the ops/sec for the threads.\n\n## G3: Concurrency Bugs\n\n1. Skipped (again, just asking for student numbers).\n2. The expectation is that `printer` and `nuller` should access `thd.proc_info` atomically (i.e. only one of them should touch it at the same time). However, we could have `printer` evaluate the `if` condition, and then `nuller` could set `thd.proc_info` to `NULL` before `printer` runs the `fputs` call. You might see a segfault or some garbage output (or just in general, unpredictable / undefined behaviour).\n3. Atomicity violation\n4. Lock `thd.proc_info`, so that either `printer` reads from it and uses it (i.e. executes the `if` statement and its body), or `nuller` can modify it, but not both at the same time.\n5. If multiple threads attempted to \"cancel\" the auction at the same time, then we could end up with unpredictable behaviour. The bug would likely be that a user could attempt to \"cancel\" a transaction multiple times, and end up \"duplicating\" their gold (because the `seller->gold += ...` line happens multiple times).\n6. Atomicity violation\n7. Again, a mutex would be a good solution here, ensuring only one thread can access and modify a `Player` or `Auction` at a time.\n8. (As a note, we are looking at Figure 3 in the attached paper) We could end up with an error being thrown. Between like 4 and 5, we could have another thread run `deleteBlock`. This means that block is removed from `neededReplications` (but our first thread isn't aware of that), and so it has its size set to `Long.MAX_VALUE`. This means when we then attempt to find node in `chooseRandom`, all nodes are too small to store this block, and so we end up throwing a `NotEnoughReplicasException`.</md>",
    "created": "2025-09-30T21:45:26Z",
    "tags": [
      "group-activity",
      "instructor-note",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg7260si6b09u",
    "subject": "final 2025 deferred final Q2d option iii",
    "content": "<md>![3D3E2781-9685-4DCB-9187-843CF6B831AE.jpeg](/redirect/s3?bucket=uploads&prefix=paste%2Flmaqvq1eh1q3hq%2F2fa7feb5a13fd5aec0ed5030f2fe24a42d0817f84189bb570ed6afd916d40572%2F3D3E2781-9685-4DCB-9187-843CF6B831AE.jpeg)\n\nWhy does performing a kernel-level thread switch not require the execution of privileged instructions by the OS? \n\nFrom my understanding, kernel-level threads are being managed and running in the kernel, so is privileged mode not required to change the context associated with a thread switch? \n\nThanks!</md>",
    "created": "2025-09-30T21:17:10Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg71kfuqasfzh",
    "subject": "2024 Midterm Question 7",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllzmguoggvw52v%2F99b037db1768eee95fac9665cefdc8157b4a6092276ddf48c7e9397b300eacbf%2Fimage.png\" alt=\"image.png\" /><br />I just wanted to confirm if my understanding of this question is correct.<br /><br />This will hang because after returning from cv_wait, the running thread already has the lock. Then calling lock_acquire is trying to acquire a lock it already holds, causing the hang?<br /><br />Thank you",
    "created": "2025-09-30T21:00:24Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg7193wy88g6l4",
    "subject": "2022 Fall Midterm Part 6",
    "content": "I saw in another post @276\u00a0that we won\u2019t be tested on deadlocks, but would something like \u201clist the sequence of 1 possible interleaving that will trigger deadlock\u201d (part 6 of the midterm for 2022 fall) come out? I\u2019m a little confused about the answer, but I\u2019m not sure if that\u2019s because the lectures to come will cover it (since certain assumptions seemed to have been taken for the answer).",
    "created": "2025-09-30T20:51:35Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg6zuifbjto221",
    "subject": "Confirming Difference between hardware interrupts and exceptions (software interrupts)",
    "content": "The background is that context switching can happen during a system call which I thought was false but is true.<br /><br />The reason I thought it was true is that I recall it being said that exceptions and also syscalls can be thought of as software interrupts and I thought that they would also trap into an interrupt handler specifically for exceptions or SYSCALLS. <br /><br />I also remember one of the things that an interrupt (perhaps only a hardware interrupt) does is that as maybe the 3rd/4th step it disables future interrupts until the current interrupt has been fully processed.<br /><br />A context switch can occur when there is a hardware timer interrupt to the process, which might occur while the process is running a syscall. If the syscall is a type of interrupt but in software, shouldn&#39;t it cause other interrupts ie the one caused by a context switch to get ignored until the syscall is complete?<br /><br />It seems odd, because what if a context switch occurred while you&#39;re doing a sys call to write data to a file or something?",
    "created": "2025-09-30T20:12:14Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg6z3wrlz8x13d",
    "subject": "G1-3 Solutions",
    "content": "@268 mentions that we should have access to the solutions.<br /><br />I can&#39;t seem to find them. I was wondering where I could access these.<br /><br />Thanks!",
    "created": "2025-09-30T19:51:33Z",
    "tags": [
      "group-activity",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Take a look at @350 now! I've written up some answers for G1-3.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg6ya29371c5fj",
    "subject": "Can&#39;t access lecture slides to study for the midterm",
    "content": "Quercus and other services are currently down and I am unable to access some of the lecture slides. Is there any way they can be uploaded somewhere else?",
    "created": "2025-09-30T19:28:20Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg6rz1yq3mp5op",
    "subject": "Does font type matter?",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllzmgvlz32355l%2F1c7abbe1554707be5ae1b0d1dd09ef755eafa268a2ac14ae1b0ee75aa873b496%2FScreenshot_2025-09-30_at_12.30.51.png\" alt=\"Screenshot_2025-09-30_at_12.30.51.pngNaN\" width=\"197\" height=\"266\" /><br />Some fonts are smaller than others for the same font size (10pts), this is Garamond at 10pts for instance, is there a specific font we have to use?",
    "created": "2025-09-30T16:31:49Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>My personal rule is if I see you pull out a magnifying glass to read it, it's probably too small :D</md>",
          "comments": []
        },
        {
          "content": "can we use colors :D",
          "comments": [
            "<md>Yes</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg6pil6a5g379y",
    "subject": "2025 winter midterm question",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm945i82hts31v%2Fa0d8eeafd355afe9e1729e9952a4abee8303c7eb2e37532cc52f9d4277164916%2Fimage.png\" alt=\"image.png\" /><br />Why is this statement true, because I thought besides overflow, it is there to prevent invalid accesses as well.",
    "created": "2025-09-30T15:23:02Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Ahh thank you!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg6p04o0si02a6",
    "subject": "T1 fails to run after debug for once",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fljsl2ro1eww5m2%2Fed4590502bf38761e7c1f697cbc3cb2a72cbb644f7b60538b576b66bd07d9b31%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p>edit: mb I posted the wrong draft</p>",
    "created": "2025-09-30T15:08:40Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg6ojnedwky16e",
    "subject": "./create error",
    "content": "rbp alignment test completed.<br />creating 1023 threads<br />running 1023 threads<br />create: thread.c:256: thread_exit: Assertion `false&#39; failed.<br />Aborted<br /><br />I know it fails in the very last line (somehow 14/28 on markus) but I dont know how to fix it. All other test passes except memory leak which is also due to ./create.",
    "created": "2025-09-30T14:55:52Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>hi I find I put an assert(error) under thread_exit and after removing that I get a segmentation fault. I then find its caused by able to yield to zombie thread in my ready_queue.\u00a0<br />However, all of my enqueue does not enqueue zombie.\u00a0</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fljsl2ro1eww5m2%2Faefcc5f4f87b70d0840be455ccf2ec7bb02eca6b307ab10a9b92f8e3a9b44dcf%2Fimage.png\" alt=\"image.png\" /></p>\n<p>could this block of code in create.c still pass even my_thread_wait leaves some zombie in the block/ready_queue?</p>",
          "comments": [
            "<md>It could pass even if your implementation would cause zombies in the queue, yes. But for zombies to get into the queue, you would need to have a faulty enqueue logic, or a situation where you have duplicates in the queue, both of which should ideally not be possible.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg6jld75pvi23e",
    "subject": "9-11am office hour cancellation",
    "content": "Hi everyone,\u00a0<div>The 9-11 office hour today will be cancelled due to sickness.\u00a0</div><div><br /></div>",
    "created": "2025-09-30T12:37:14Z",
    "tags": [
      "a2",
      "instructor-note"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg6bsnd2d0t6x0",
    "subject": "Different result with local test and markus test",
    "content": "<p>Hi, my local test has different output on ./test/kill and ./test/exit compare to markus autotester. I&#39;ve commented all the printf statement.\u00a0</p>\n<p></p>\n<p>here&#39;s my local test: <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm8pkmg5pu21pp%2F760b4ec79a6539934431ac154db99ad41758d914b977d808a7fe38c578ffcee8%2Fimage.png\" alt=\"image.png\" /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm8pkmg5pu21pp%2F4d70c5ed13ffe1159c7b6aca2dcb62a496d37215ca2b03952ecc64fdbf78a179%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p>and here&#39;s the markus result</p>\n<p></p>\n<pre>\n<code>Running: scripts/a1-04-kill.py \nkill test\nERROR: EOF: not found: ^kill\\(KILLED\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(ZOMBIE\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^child thread (\\d&#43;) yields.\n\nERROR: EOF: not found: ^kill\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(0\\) = 0\n\nMark for kill test is 6 out of 14\nFAIL</code>\n\n<code>Running: scripts/a1-07-exit.py \nexit test\nERROR: EOF: not found: ^1\\. stack appears to be freed after exit\\.\n\nERROR: EOF: not found: ^wait\\((\\d&#43;)\\) = 0\n\nERROR: EOF: not found: ^2\\. stack appears to be freed after exit\\.</code></pre>\n<p>Can anyone help me on this? Thanks in advance!!</p>",
    "created": "2025-09-30T08:58:56Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>> `kill(KILLED) = -1`\n\nThis line seems wrong to me. Killing a killed thread should be a valid operation, and so this should return 1. As for why Markus can't find anything else, see @94.\n\n> `1. it appears a thread's stack is not freed after exit`\n\nThis line (and also the one beginning with \"2.\") should say \"stack appears to be freed after exit\", and so you aren't actually passing the exit test at all.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg65g0pa3g92xd",
    "subject": "Why does the order of enqueue and setting tid for the thread matter?",
    "content": "In the thread_create function, I was enqueuing the newly created thread before assigning it&#39;s tid value. When the scheduler dequeued that thread, its tid points to garbage values. If I assign the tid before enqueuing, everything works. Since we\u2019re passing pointers and we initilaized all sub-threads before running them, I thought initialization order wouldn\u2019t matter, why would this be a problem?",
    "created": "2025-09-30T06:01:10Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg61nek1vj14r0",
    "subject": "E5: Q12",
    "content": "<p style=\"text-align:left\">The proposed test-and-set spinlock is just as fair as the spinlock using ordinary instructions. The performance when acquiring an uncontended lock will be worse than the spinlock using ordinary instructions. \u00a0</p>\n<p style=\"text-align:left\"></p>\n<p style=\"text-align:left\">Why is the test and set performance worse?</p>",
    "created": "2025-09-30T04:14:56Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5zzg5pp7p2og",
    "subject": "Threads: Stack",
    "content": "Why is the stack for a thread not shared and also not exclusive? Is it because an initial thread needs to create it and destroy it?",
    "created": "2025-09-30T03:28:18Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<md>Correct me if I'm wrong but isn't that what guard regions are for?</md>",
          "comments": [
            "I think guard regions only protect against minor stack overflow and not against direct access from another thread",
            "<md>Guard regions can only protect against stack overflow. They do not protect against arbitrary memory corruption.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg5zz6jow9l44n",
    "subject": "context switch hardware support",
    "content": "during a context switch, does the order in which the CPU (and later restores in iret) saves the PC, SP, and SR matter?",
    "created": "2025-09-30T03:28:06Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5yuftb6lm7nu",
    "subject": "Registers/interrupts on the exam",
    "content": "<p></p>\n<p>Is a question like this (Fall 2023, Q3) in the scope of the exam? We learned a bit about registers already but I&#39;m not sure if we need to know how they&#39;re handled with interrupts.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7sa12qqfoszi%2F3f1f5a7786cfc31ee717c6c16e269848c9bd63148d04f1a13c1729d9bca5b877%2Fimage.png\" alt=\"image.pngNaN\" width=\"337\" height=\"377\" /></p>\n<p></p>",
    "created": "2025-09-30T02:56:25Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>This question definitely has a chance of showing up.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg5xfgmalre385",
    "subject": "E3",
    "content": "Explain why there needs to be a separate system call table, rather than just one big interrupt vector table? i.e., why two levels of indirection instead of just one?<br /><br /><br />",
    "created": "2025-09-30T02:16:47Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg5t3k3niqw6dl",
    "subject": "Calculator on midterm?",
    "content": "Why do we need a calculator for the midterm?",
    "created": "2025-09-30T00:15:33Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5swnq2kvg1hn",
    "subject": "What is the answer of this question form 2022 past exam?",
    "content": "<p><a href=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9ulkpmaft1vx%2F4bfeb55209f3bc4e2e7f6b5542a7e4dae2967465ce6f0200c8bacb6f9ad2a119%2FIMG_5842.jpeg\" target=\"_blank\" rel=\"noopener noreferrer\">IMG_5842.jpeg</a></p>\n<p></p>\n<p>Since interrupt and exception are included, I thought syscall is included, or does it fall under interrupt? Isn\u2019t exception also an interrupt?</p>",
    "created": "2025-09-30T00:10:11Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5pfqmxri17cq",
    "subject": "E4 Q6 Context switching in Kernel multi-threads vs multi-process",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvat06d6p06m9%2F3cec9fd9c8377cf6cede5e4af849a37dbcff806a0df84ad57a69b0ac7b213ad4%2FScreenshot_2025-09-29_at_6.26.24_PM.png\" alt=\"Screenshot_2025-09-29_at_6.26.24_PM.pngNaN\" /></p>\n<p>Why are context switches for kernel-level multithreading not faster than multiprocessing context switches? Does the fact that threads share memory not affect the speed of context switch at all? If they are not faster, are they the same speed because the underlying mechanism for context switch are the same?</p>",
    "created": "2025-09-29T22:33:03Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5pba2pa3r3j7",
    "subject": "Question about Midterm &#34;Cheat Sheet&#34;",
    "content": "I usually study using white boards by drawing/writing a mind map of the course content so far. I see that we&#39;re supposed to type in min font 10 OR handwrite, but are we allowed to include pictures of handwritten content?",
    "created": "2025-09-29T22:29:35Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5msi14mb26uf",
    "subject": "L7 Readers Writers question",
    "content": "<md>In lecture 7, Jack shows us this code for the readers writers problem implemented using semaphores, and then asks us if we can implement it using locks instead. The video cuts out right after he asks it, so I'm not sure what the answer is, but I think it is true, because if we have two locks, one for updating readcount and the other for switching modes, we can copy the same behaviour. If so, why did we need to use semaphores for this? Could someone clarify, because I'm a bit confused. Thank you!\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Flm9db849tmd57e%2F524b4eab1e91837da9f07dd367bca071c1f31d8eac8b79b6cbaa1c2c45e9b7be%2Fimage.png)</md>",
    "created": "2025-09-29T21:18:59Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5mhcp36sw1fc",
    "subject": "L8: Concurrency Bugs clarification",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54b1fbplk1bc%2Feaa9449f0f4ec513ac0c1a15fb502463185091ba98c452a9ca3a779397ce6ce4%2Fimage.png\" alt=\"image.pngNaN\" width=\"512\" height=\"288\" /></p>\n<p>At around 12:20 during the lecture, what question was asked? Jack&#39;s answer seems to say that if\u00a0both threads were running on one core, then we don&#39;t need mutual exclusion (?)\u00a0But I thought even on one core we can have race conditions\u00a0between the two threads, if there is no mutual exclusion.</p>\n<p></p>",
    "created": "2025-09-29T21:10:19Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5k64nkhd52ps",
    "subject": "floating point exception",
    "content": "I got FPE when running create test on markus but it doesn&#39;t show up when I test on my owm machine. I&#39;ve checked through piazza and observed that the problem is likely about the byte alignment in my thread_create function. Here is how I did it: <br />I first goes to the top of the allocated stack by adding THREAD_MIN_STACK to the address returned from malloc, and I subtract a number from that address (if needed) to make it a multiple of 8, then I further subtract 8 if it is a multiple of 16 and set it to rsp. Now rsp should be a multiple of 8 but not 16, so later after pushing rbp, it becomes a multiple of 16 (since rbp is 8 bytes) and is then copied to rbp so rbp should also be a multiple of 16.<br /><br />I think my approach for byte alignment above is promising and can&#39;t figure out the issue, so I don&#39;t know how can I manage to fix the FPE. Also I don&#39;t understand why I can pass all tests perfectly without errors on my computer but get FPE when testing on markus.",
    "created": "2025-09-29T20:05:36Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I casted the type of void* to long long int as performing the mod. And I can&#39;t even be sure it is a byte alignment issue because I can create a thread successfully under that setting. The FPE only arises when the thread is exiting. I tried to manualy set a return address at rsp but it doesn&#39;t work. However everything works fine when running the tests under ssh teach.cs lab environment remotely on my computer.",
          "comments": [
            "<md>Maybe @261_f6 might help?</md>",
            "Thanks for pointing that out, that was exactly the situation I got: I first declare a ucontext_t object and call getcontext on the address of it, then copy it to my own tcb&#39;s field called uc after initializing its uc_mcontext. Now I switching to directly call getcontext on &amp;(my_tcb.uc) immediately after creating my_tcb so that there&#39;s no intermediate ucontext_t object exists, and such modification helps my code pass the tests on markus which I am happy to see. However, now I am no longer able to pass the tests on my own machine and getting the same FPE as it was on markus before!! Now I am completely confused and can&#39;t think anymore. This discrepancy is just so bizarre and I have no idea what&#39;s going on behind the scene. Also I wonder why copying from an intermediate ucontext_t object causes the FPE.",
            "<md>There is some strangeness with the fields / padding that are using in the `ucontext_t` struct. If you want to copy from an intermediate struct, you're likely better off using `memcpy` to make a byte-for-byte copy (the compiler seems to get clever and avoid copying some bytes, but that turns out to be a problem).\n\nWhen you say your \"own machine\", do you mean running on teach.cs over SSH? Or are you actually running this locally on your computer?</md>",
            "I mean running on teach.cs using ssh. I basically complete the entire assignment under teach.cs environment and don&#39;t have a local copy of repository on my computer.",
            "<md>Hmm I'm not sure why it would give you a SIGFPE on teach.cs but not Markus. This might be something worth going to Jack's OH for, because you probably want to have this \"fixed\" before you start working on A2.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg5j6derc5r50i",
    "subject": "E4 Q6 Kernel threads vs multi-processes",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmoalvdkkho1ax%2Fa97cc47034a13e8987f13f3d5696fa7533b12b61904941a391cc8bbb9efbc87f%2Fimage.png\" alt=\"image.pngNaN\" /><br />I&#39;m confused as to why kernel threads are not higher performing than multi-processes, and why they also don&#39;t benefit more from multi-cores. Kernel threads should allow for user code to be split up and spread out to multiple cores for fast execution.\u00a0",
    "created": "2025-09-29T19:37:48Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5ij45tqpk1h3",
    "subject": "Calculator on midterm",
    "content": "<md>I know we are allowed to bring calculators on the midterm but I am not sure why, so far in all of the coursework we didn't have to actually make any calculations aside from aligning stack pointers and keeping track of semaphore counts, am I missing something?</md>",
    "created": "2025-09-29T19:19:43Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5h8r4nv926m0",
    "subject": "id",
    "content": "<p>Apologies, this maybe a bad question, but do we need t-cards for the midterm (or is any other identity good for verification)?</p>\n<p></p>\n<p></p>",
    "created": "2025-09-29T18:43:40Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg5fbkw3dy62wz",
    "subject": "Have we covered Reference counting, Turnaround time",
    "content": "<p>Hello, I am going over past midterms.</p>\n<p>Have we covered reference counting and turnaround time?</p>",
    "created": "2025-09-29T17:49:52Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Reference counting was covered in L7, so it can show up.</md>",
          "comments": []
        },
        {
          "content": "<p>Oh yeah</p>\n<p>now i remember</p>\n<p>reference counting</p>\n<p></p>\n<p>Thanks!</p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg5ctd2v8904ha",
    "subject": "No add starter files to repo button on Markus for A2",
    "content": "<md>Hello,\n\nI\u2019m not seeing the option to add the starter code to user respository.\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fkt66j4tvr44d8%2F44371ece537ac5a55302103d75a4429c1d8c6f5c8761ccec1dda09f0654157c7%2Fimage.png)</md>",
    "created": "2025-09-29T16:39:43Z",
    "tags": [
      "a2",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>I've flagged this to Jack; unfortunately only he has the permissions to fix this.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg5acwb28ke2cy",
    "subject": "yield test case A1",
    "content": "<p>Hi, I&#39;m getting 14/18 for yield test, I&#39;ve checked with @183 and my output matches with what was shown. However, this is what I got on marking/tester.log. I&#39;m not sure where the final error occurs in my code as my yield exited with code 0.</p>\n<pre>\n<code>------- scripts/a1-06-yield.py -------\n\nhello: hi again\nrepeat: yield(1) = 1\nhello: hi again\nrepeat: yield(ANY) = 1\nrepeat: yield(ANY&#43;KILLED) = 1\nrepeat: yield(ANY&#43;ZOMBIE) = -3\nhello: sayonara\nonce: yield(ANY) = 2\nrepeat: yield(ANY&#43;FREED&#43;ZOMBIE) = -3\nrepeat: yield(1) = -1\nmain: yield(NEGATIVE) = -1\nmain: yield(TOOBIG) = -1\nmain: yield(NOTFOUND) = -1\nmain: yield(0) = 0\nvictim: yield(1) = 1\nvictim: yield(1) = -3\nvictim: yield(ANY) = 3\nerror: &#39;NoneType&#39; object has no attribute &#39;group&#39;\n\n------- scripts/a1-07-exit.py -------</code></pre>",
    "created": "2025-09-29T15:30:56Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "oh yes you are right, ill try to fix that bug",
          "comments": [
            "it is fixed :) thank you!",
            "<md>Happy to help \\:) and well done!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg586fpq3ir5xx",
    "subject": "E5 Question 3",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54b1fbplk1bc%2Fd42eb267d7143da301d22b70aaa32bbe7cebc0c6f39f9f1ac3012f37651ecb5b%2Fimage.png\" alt=\"image.png\" width=\"389\" height=\"406\" /></p>\n<p>Why is\u00a0it not possible?</p>",
    "created": "2025-09-29T14:29:55Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg4kiyjbtqa4k1",
    "subject": "create error",
    "content": "<p>What does this mean</p>\n<p></p>\n<p>rbp alignment test completed.<br />creating 1023 threads<br />create: test/create.c:157: main: Assertion `thread_ret_ok(child[ii])&#39; failed.<br />Aborted</p>",
    "created": "2025-09-29T03:27:49Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<p>Ok its actually kind of like that. Basically from debugging I found out that in the create.c test</p>\n<p></p>\n<p>we create 128 threads</p>\n<p></p>\n<p>we then reap them\u00a0</p>\n<p></p>\n<p>and then create Total Threads -1</p>\n<p></p>\n<p>for some reason in my locla table and counter it tracks the threads correctly as 897 (it stops here)</p>\n<p></p>\n<p>but in my queue it has not removed the 128 threads from previous call when we reapred them but removed it from my params</p>\n<p></p>\n<p>Thats what call this issue because the queue is full 128 &#43; 897 &gt; hit the max\u00a0</p>\n<p></p>\n<p>kill, yield, and exit looks like it is functional so it could be I&#39;m not destroying them correctly?</p>",
          "comments": [
            "<md>Yeah, that seems like you might not be destroying them correctly. I'm also surprised those threads have wound up in your queue again; in thread_yield do you check if the thread is runnable / not a zombie before you add it to the queue?</md>",
            "ok I think I forgot to clean up the scheduler itself when destroying a thread? I think its passing now let me double check this",
            "because logically what I had for yield, kill and exit made sense and it was setting up the flags correctly just not destroying the thread",
            "omg after commenting out my 70&#43; print statements everything passed\u00a0",
            "<md>Similar to @310 then I guess!\n\nBut hey, well done for solving it! \\:)</md>",
            "Thank you! Wouldn&#39;t be possible without your support! I was getting the flags mixed up before and wasn&#39;t destroying properly. Gotta lock in on the midterm now ;)",
            "<md>Happy I could help \\:)\n\nGood luck on the midterm! :muscle:</md>"
          ]
        },
        {
          "content": "<p>yea I do,\u00a0</p>\n<p></p>\n<p>I pretty much check the tids if they are valid, for yeilding to any thread I get one from the ready queue. If its not any thread, we remove the thread we want with that tid. I then check if the current thread is runnable and add it back to the queue and update the thread we switched to before the thread switch. I do check if for curr thread is runnable before adding it to queue to avoid killed or zombie threads from being added back to the queue</p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg4dzw0tpyf1os",
    "subject": "create.c thread switch",
    "content": "<p>Hi, currently I&#39;m having an issue with the thread switch with create.c which looks like<br /><br />stack appears to be dynamically allocated.<br />created thread 1<br />Current thread is 0<br />Switching from thread 0 to thread 1<br />my_tid: 1, actual = 1<br />Thread 1 returning from thread_main with exit code 0<br />Total threads remaining: 1<br />Thread 1 exited with code 0<br />Current thread is 1<br />Switching from thread 1 to thread 0<br />Switched to thread 0<br />CURRENT THREAD IS 0<br />waiting for thread 1<br />THE CURRENT THREAD IS 0<br />Looking for thread with tid 1<br />Thread 0 status is 1<br />Thread 1 status is 0<br />Thread 0 queue is 0<br />Thread 1 queue is 0<br />Current thread is 0<br />No thread found with tid 1, returning THREAD_INVALID<br />Yielded to thread 1, got return value -1<br />create: thread.c:518: thread_wait: Assertion `ret == tid&#39; failed.<br />Aborted</p>\n<p></p>\n<p>What i understand so far</p>\n<p>yield Thread 1\u00a0</p>\n<p>Thread 0 -&gt; Thread 1 and then remove Thread 1 from queue, Then add thread 0 to queue, with current thread pointing to Thread 1</p>\n<p></p>\n<p>Then when exiting Thread 1, yield any thread</p>\n<p></p>\n<p>Thread 1 exits</p>\n<p></p>\n<p>thread 0 continues execution and removed from queue andcurrent thread which is Thread 0</p>\n<p></p>\n<p>If the queue is empty when we yield I assume we just return the tid itself?</p>\n<p></p>",
    "created": "2025-09-29T00:25:01Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "ok hmm now it I somehow got it yielding back and forth lol (I am using a volatile int flag but definently messed up something)",
          "comments": [
            "<md>Yeah, it seems likely you're not using the flag correctly. It might be helpful to look at T1's main function? If you remove all the prints, it outlines the structure you should have for thread_switch with respect to the getcontext/setcontext functions and the flag variable.</md>"
          ]
        },
        {
          "content": "<p>ok I was going down a wrong path before somehow which helped me fix create but not yield because I was messing around the scheduler which affected kill() I had a weird case where threads were removed from my tables but not scheduler which was because my yield and the way the thread is killed and exited was wrong. But I&#39;m back tracking now because this implementation was yielding right but I don&#39;t think I managed the flags correctly for Zombie so hopfully this should work now. It makes sense because thread 0 wait on thread 1 but no yield because its not runnable makes sense so hopefully I can fix this flag.\u00a0</p>\n<p></p>\n<p>Will update soon. Thank you so much</p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg4aghrduzr5mk",
    "subject": "Grace Tokens &amp; MarkUs Tests",
    "content": "<p>I have a question about how the grace tokens work. For the current homework, I only managed to finish part of it and I didn\u2019t submit the finalized version of some files because I ran into issues with my code. I\u2019ve decided to focus on studying for the exam for a bit before continuing the assignment, and I plan to use grace tokens to finish it during the week. If I submit it at a random time later in the week, will the grace tokens apply automatically, or do I need to do something specific to make sure they\u2019re in effect?</p>\n<p></p>\n<p>Also, since we need to complete A1 fully before being able to work on A2, I wanted to check: if I submit something that only passes MarkUs tests partially, does that block me from starting A2? Should I plan to come to office hours and work through finishing A1 before A2 is released?</p>\n<p></p>\n<p>Thank you!</p>",
    "created": "2025-09-28T22:45:57Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg49t4avwsn75m",
    "subject": "G3 group",
    "content": "Hii, anyone got space for me for G3? My discord is bluepenguins\u00a0",
    "created": "2025-09-28T22:27:47Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg48ksiq16m54h",
    "subject": "Comprehensive Test Cases",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00l500orq6h6%2Fe59ead51a8a911f4ee759dd371a18b1428289b7b2be3b2952504dd5bd34673a8%2FScreenshot_2025-09-28_at_5.51.19_PM.png\" alt=\"Screenshot_2025-09-28_at_5.51.19_PM.png\" /></p>\n<p>Have the comprehensive test cases mentioned in the A1 document been released yet?</p>",
    "created": "2025-09-28T21:53:19Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg481t5jtsg2zc",
    "subject": "How to practice for the long answer questions on the midterm",
    "content": "I&#39;m going over the midterms from the previous years, and most of the long answer/coding based questions are related to topics we haven&#39;t covered yet. Since we don&#39;t have direct long answer practice problems related to Lecs 1-7, I&#39;m wondering what the best way to be prepared is?",
    "created": "2025-09-28T21:38:33Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Have you found any? I&#39;m struggling to find any long questions that I can practice with.",
          "comments": [
            "<md>@332</md>",
            "To add to this - Winter 2025 Q6, Fall 2023 Q4, Fall 2022 Q4!",
            "<md>I'm not sure how you're doing Winter 2025 Q6, because we haven't covered that content yet! Maybe you meant Q5?\n\nSimilarly I don't think you've covered the covered the content for Fall 2023 Q4.\n\nFall 2022 you should be able to do Q3 for sure, and maybe Q4 (although I think that is L09 content?).</md>",
            "<p>I did mean Q6 - it&#39;s just implementing a lock right? I was able to solve it using the content from lec 5. To clarify, this is the deferred exam for Winter 2025.</p>\n<p>For Fall 2023 Q4, that&#39;s from the worksheet in Lec E6 (the code that was posted to Markus)!</p>",
            "<md>Ah you're talking about the finals! I thought you were talking about the midterms :D</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg47z0res1s3cc",
    "subject": "Tests Dont Pass",
    "content": "<p>Hi, I have spent countless hours this week coding A1 but I still have bugs.</p>\n<p></p>\n<p>I finally passed /test/fcfs successfully, but to my dissapointment the MarkUs fcfs tests return 0/5.</p>\n<p>How do my local tests pass but not MarkUs&#39;s (assuming the same tests were used)?</p>\n<p></p>\n<p>Here is a summary of what output I get when running ./test/fcfs</p>\n<p><code></code></p>\n<p>[Thread creation output for threads 1-9]<br />[Thread yield round-robin output showing all threads running once]<br />yield returned 1<br />[kill messages for threads 1-9]<br />----------------------<br />[Print showing threads 1-9 as ZOMBIE/killed]<br />Thread 0 waiting for thread 1<br />target = 1<br />Yield loop ended<br />Destroying thread 1<br />Reaped ZOMBIE 1<br />----------------------<br />[Print showing threads 2-9 as ZOMBIE/killed, thread 1 gone]<br />Thread 0 waiting for thread 2<br />target = 2<br />Yield loop ended<br />Destroying thread 2<br />Reaped ZOMBIE 2<br />----------------------<br />[Repeating pattern for threads 3-9...]<br />Thread 0 waiting for thread 3<br />target = 3<br />Yield loop ended<br />Destroying thread 3<br />Reaped ZOMBIE 3<br />...<br />----------------------<br />Thread 0 waiting for thread 9<br />target = 9<br />Yield loop ended<br />Destroying thread 9<br />Reaped ZOMBIE 9</p>\n<p><code></code></p>\n<p>FCFS scheduler is working.<br />exiting thread 0 with exit code 0</p>\n<p></p>\n<p>On MarkUs, I get this (fcfs test is 0/5):</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm8lurzdgnf5hn%2F3953581008a7453bbfc25adcfa65039cfccf82edfe394c10c486cc1a6cc3486a%2Fimage.png\" alt=\"image.pngNaN\" width=\"638\" height=\"11\" /></p>\n<p></p>\n<p>How can my local test pass but not on MarkUs?</p>\n<p>Any help would be appreciated!</p>",
    "created": "2025-09-28T21:36:23Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<p>To the student above:<br /><br /></p>\n<p>YES THAT FIXED IT TYSM</p>\n<p></p>\n<p></p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg47ejkqs777ml",
    "subject": "Resoved",
    "content": "<md>Resoved</md>",
    "created": "2025-09-28T21:20:28Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg47bt8acnj4di",
    "subject": "Exercise 7",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9ulkpmaft1vx%2F4510ee66dc8927a69f6d3e1f336f61007898ba325e6e7f1670cb8b59b83bbd82%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p></p>\n<p>The answer for this is CV, but doesn&#39;t CV and semaphore both rely on sleep and signal to wake up?</p>",
    "created": "2025-09-28T21:18:20Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg47532lxx5cw",
    "subject": "create logic",
    "content": "<p>Having a bit of trouble here<br /><br />I&#39;m debugging this block and was trying to understand trace the yields</p>\n<p></p>\n<div>\n<div>if ((size_t)minfo.uordblks &lt;= allocated_space) {</div>\n<div>printf(&#34;it appears that the thread stack is not being&#34;</div>\n<div>&#34;allocated dynamically\\n&#34;);</div>\n<div>}</div>\n<div>else {</div>\n<div>printf(&#34;stack appears to be dynamically allocated.\\n&#34;);</div>\n<div>}</div>\n<br />\n<div>int ret = thread_yield(tid);</div>\n<div>assert(ret == tid);</div>\n<div>printf(&#34;GOES HERE\\n&#34;);</div>\n<div>my_thread_wait(tid);</div>\n<div>printf(&#34;STOP HERES&#34;);</div>\n<br /><br />so we essentially yield T1 and go from current thread T0 and switch to T1 with the context switch and T1 being active now with the first thread yield. Then when we wait() we check if T1 is runnable\u00a0</div>\n<div></div>\n<div>Heres what I&#39;m confused about (Maybe I just overlooked the answer right in front of me ;( )<br />but if T1 just switched and the current status is that its running, it should be runnable so we yield again\u00a0</div>\n<div>and switch? unless the queue itself should be empty so we dont switch?\u00a0</div>",
    "created": "2025-09-28T21:13:06Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg44z8nzza86qm",
    "subject": "Can&#39;t reattempt exercise 4 thread.",
    "content": "I can&#39;t reattempt it after attempting it once, while all exercise are meant to be repeatable.\u00a0",
    "created": "2025-09-28T20:12:34Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg429yurc3w33o",
    "subject": "infinite loop getcontext",
    "content": "<p>hello!\u00a0I&#39;m wondering how to handle the second return of getcontext().</p>\n<p></p>\n<p>When I&#39;m in thread_yield() I call getcontext() and then proceed with the rest of the work (e.g. updating currently running thread tid, updating ready queue, etc.) and then proceed with the context switch. The problem is that when I return back to the thread that called setcontext(), it resumes where I initially called getcontext() and then goes through all the same steps in thread_yield() and ends up switching back to the other thread! And it goes on and on forever.\u00a0</p>\n<p></p>\n<p>Any advice on how to fix this? Should I have some sort of if statement following getcontext to make sure I&#39;m not repeating the same code after my second return?</p>",
    "created": "2025-09-28T18:56:56Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg40lx1rlaou",
    "subject": "Valgrind ready_queue",
    "content": "nvm figured it out",
    "created": "2025-09-28T18:10:14Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg3zwnzept014a",
    "subject": "valgrind error messages",
    "content": "<p>My code passes all the valgrind tests (and all other tests) but i&#39;m checking the logs and i see a bunch of invalid write messages like the one below. They are occurring in thread_exit and thread_switch. How do i fix this issue?</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm0z0felwam5o9%2F844cffbf3ab47e5fc42194b4993e0603dd81d919ad361d27bf00c0ceb7a1dfb0%2FScreenshot_2025-09-28_at_1.48.01_PM.png\" width=\"400\" height=\"102\" alt=\"\" /></p>",
    "created": "2025-09-28T17:50:36Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "thank you KING!!",
          "comments": [
            "<md>You're very welcome \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg3z92udsy468r",
    "subject": "I have same leak problem across all tests",
    "content": "==49010== LEAK SUMMARY:<br />==49010== \u00a0 \u00a0definitely lost: 0 bytes in 0 blocks<br />==49010== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks<br />==49010== \u00a0 \u00a0 \u00a0possibly lost: 0 bytes in 0 blocks<br />==49010== \u00a0 \u00a0still reachable: 1,048 bytes in 1 blocks<br />==49010== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks<br />==49010== Rerun with --leak-check=full to see details of leaked memory<br /><br />I dont know what is still reachanble.",
    "created": "2025-09-28T17:32:16Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "nevermind i solved it",
          "comments": [
            "<md>Just so other students know, what was the issue?</md>",
            "i wasnt free all my stacks from the global thread array"
          ]
        }
      ]
    }
  },
  {
    "id": "mg3ytjajp6v16s",
    "subject": "Lost Wake Up Problem",
    "content": "<p>Hi, I\u2019m having trouble understanding the role of the lock when using condition variables.</p>\n<p>From what I\u2019ve learned, the parent thread acquires the lock, checks the condition, and then call cv_wait.\u00a0But inside cv_wait, the lock is released before the thread goes to sleep. So it feels like the parent just acquires the lock and then immediately gives it up.</p>\n<p>If the parent is going to release the lock anyway, why do we need the lock in the first place? What problem would occur if we tried to use condition variables without holding a lock around the check and the wait?</p>\n<p>I\u2019m also confused about the wakeup part: when a waiting thread is signaled, how does it wake up and re-acquire the lock if pthread_mutex_lock() isn\u2019t explicitly called again in the while loop?</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flk5fz7ugn6k5ic%2Ff14a38561bbd0d41efb8c42900033dd87cef7908387a8b7a94d03d3bf4b9389e%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
    "created": "2025-09-28T17:20:10Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Oh makes sense now.\u00a0You release the lock before the parent sleep because you want to allow the other thread i.e the child to access the variable and change it to 1 so that the parent wakes up.<br /><br />",
          "comments": [
            "<md>Yep!\n\nA minor nitpick, changing the variable isn't what wakes up the parent, instead it's the call to cv_signal.</md>",
            "Oh yes, the variable change itself doesn\u2019t wake the parent that\u2019s done by cv_signal. The purpose of updating the variable is to make sure that if the child runs and signals before the parent reaches the while loop condition check, the condition will already evaluate to false. That way , the parent will see the updated state and skip sleeping, avoiding a lost wake up?",
            "<md>Yeah, exactly!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg3yswme6ei34u",
    "subject": "Valgrind errors",
    "content": "==4336== 256610 errors in context 258 of 259:<br />==4336== Invalid read of size 4<br />==4336== \u00a0 \u00a0at 0x10B3CA: thread_wait (thread.c:389)<br />==4336== \u00a0 \u00a0by 0x10954D: my_thread_wait (create.c:64)<br />==4336== \u00a0 \u00a0by 0x109DC3: shoulder_stand (create.c:217)<br />==4336== \u00a0 \u00a0by 0x10AEA0: thread_stub (thread.c:229)<br />==4336== \u00a0Address 0x4a7bff4 is 32,596 bytes inside a block of size 32,768 alloc&#39;d<br />==4336== \u00a0 \u00a0at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so) \u00a0\u00a0<br />==4336== \u00a0 \u00a0by 0x10AF7C: thread_create (thread.c:253)<br />==4336== \u00a0 \u00a0by 0x109446: my_thread_create (create.c:46)<br />==4336== \u00a0 \u00a0by 0x109E30: thread_1_main (create.c:230)<br />==4336== \u00a0 \u00a0by 0x10AEA0: thread_stub (thread.c:229)<br />==4336==<br />==4336==<br />==4336== 256610 errors in context 259 of 259:<br />==4336== Invalid write of size 4<br />==4336== \u00a0 \u00a0at 0x10B3C7: thread_wait (thread.c:388)<br />==4336== \u00a0 \u00a0by 0x10954D: my_thread_wait (create.c:64)<br />==4336== \u00a0 \u00a0by 0x109DC3: shoulder_stand (create.c:217)<br />==4336== \u00a0 \u00a0by 0x10AEA0: thread_stub (thread.c:229)<br />==4336== \u00a0Address 0x4a7bff4 is 32,596 bytes inside a block of size 32,768 alloc&#39;d<br />==4336== \u00a0 \u00a0at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so) \u00a0\u00a0<br />==4336== \u00a0 \u00a0by 0x10AF7C: thread_create (thread.c:253)<br />==4336== \u00a0 \u00a0by 0x109446: my_thread_create (create.c:46)<br />==4336== \u00a0 \u00a0by 0x109E30: thread_1_main (create.c:230)<br />==4336== \u00a0 \u00a0by 0x10AEA0: thread_stub (thread.c:229)<br />==4336==<br />==4336== ERROR SUMMARY: 3896207 errors from 259 contexts (suppressed: 0 from 0)<br /><br /><br />I am running into Valgrind test failures and am unsure how to debug them. I am currently at 75/80, but with this many errors, it\u2019s definitely a major bug. Any advice on how to track down and fix such large-scale memory issues would be appreciated.",
    "created": "2025-09-28T17:19:41Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<pre>\n<code>LEAK SUMMARY:\n==2176==    definitely lost: 0 bytes in 0 blocks\n==2176==    indirectly lost: 0 bytes in 0 blocks\n==2176==      possibly lost: 0 bytes in 0 blocks\n==2176==    still reachable: 40,960 bytes in 2 blocks\n==2176==         suppressed: 0 bytes in 0 blocks\n==2176== Rerun with --leak-check=full to see details of leaked memory\n==2176== \n==2176== For lists of detected and suppressed errors, rerun with: -s\n==2176== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 121545 from 15)</code></pre>",
          "comments": [
            "Is it the still reachable which is causing an issue?"
          ]
        },
        {
          "content": "LEAK SUMMARY:<br />==5574== \u00a0 \u00a0definitely lost: 0 bytes in 0 blocks<br />==5574== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks<br />==5574== \u00a0 \u00a0 \u00a0possibly lost: 0 bytes in 0 blocks<br />==5574== \u00a0 \u00a0still reachable: 32,768 bytes in 1 blocks<br />==5574== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks<br /><br />Leak summary after running valgrind on test/main",
          "comments": []
        },
        {
          "content": "<p>One more update:</p>\n<pre>\n<code>Running: scripts/a1-02-valgrind.py \nvalgrind test\nERROR: EOF: not found: All heap blocks were freed -- no leaks are possible\nMark for valgrind test is 0 out of 5\nFAIL\n</code></pre>\n<p>This is what I see on markus</p>\n<p></p>",
          "comments": []
        },
        {
          "content": "Nevermind...",
          "comments": [
            "<md>Just for other students (and honestly my own curiosity!) what was the error?</md>",
            "<p>Because of my exit solution, I was not freeing threads that never called switch (but should have been freed).</p>\n<p>Additionally, I initialized the scheduler in my init\u00a0function, which was unnecessary. The memory allocated for the scheduler was never freed, which caused the following issues</p>\n<p><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmf12lmje973un%2Fda9002afc64ab983c6b5a5345f14654282ba0c13b879d11473e6d8919b6ec27f%2Fimage.png\" alt=\"image.pngNaN\" /></p>"
          ]
        },
        {
          "content": "<pre>\n==47226== LEAK SUMMARY:\n==47226== \u00a0 \u00a0definitely lost: 3,604,480 bytes in 110 blocks\n==47226== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks\n==47226== \u00a0 \u00a0 \u00a0possibly lost: 196,608 bytes in 6 blocks\n==47226== \u00a0 \u00a0still reachable: 2,408,472 bytes in 1,067 blocks\n==47226== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks</pre>\n<p>Confused on how this is happening even though I&#39;m calling free in the right places and error checking after each malloc?</p>",
          "comments": [
            "<md>I'm a little concerned at leaking that amount of memory... Are you sure the test didn't segfault / otherwise end prematurely earlier in the output?</md>",
            "Main does fail after destroying 512 threads and fails ret==tid in thread_wait, but it\u2019s rather difficult to debug given that everything else works\u00a0",
            "<md>What are ret and tid when it fails the assertion?</md>",
            "-1 and 3",
            "<md>I'm curious why your thread_yield returns -1 on that thread. If the thread doesn't exist, you should have returned -1 earlier in wait. So this seems like thread_get thinks the thread is available, and thread_runnable thinks the thread should be runnable, but then when we go to switch to it, thread_yield can't find it.</md>",
            "I think my implementation only fully worked if I\u00a0<strong>only</strong> check whether the thread is exited or not inside thread_runnable. Guess I&#39;ll head to OH, but are the memory leaks a huge hindrance for A2?",
            "<md>They aren't a hindrance as such, but I'm pretty sure we also have a Valgrind test for A2.</md>"
          ]
        },
        {
          "content": "What does it show under heap summary? You could potentially backtrack from there.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg3ygyfhkwp4vq",
    "subject": "Free Zombie Logic",
    "content": "When I exit a thread, it keeps chaining the destroying and I wanted to know where my logic is incorrect. First when a thread exits, it will store it as a global variable &#34;zombie&#34; and then yield to THREAD_ANY. Then the thread will switch to a new thread. In the thread_stub function, before the new threads function is called, it will check if zombie is not null and if it isn&#39;t it will destroy the zombie thread. But then it too will also exit causing an endless cycle of destroying.",
    "created": "2025-09-28T17:10:24Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Where else does setcontext jump too?<br /><br />The cycle was that a thread would exit, the next thread would free it, then exit, the next thread would free it etc.",
          "comments": [
            "Nvm, added freeing between getcontext and switchcontext checking that it switched first and it works. TYSM.",
            "<md>Well done on figuring it out! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg3x8hhjahz5q3",
    "subject": "error for kill",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkew31wgv1xr642%2F47257950195d29dfc90ca92ec6f892af61be4fd351e8c31547c090680c26db33%2FScreenshot_2025-09-28_at_12.35.06_PM.png\" alt=\"Screenshot_2025-09-28_at_12.35.06_PM.png\" /></p>\n<p>i&#39;m getting this error for kill tests. the last 2 print statements are not getting printed as a result. does anyyone know what might be the root cause of this issue?</p>",
    "created": "2025-09-28T16:35:49Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg3v0anm41q2bx",
    "subject": "failing 7/14 for kill but dont know why",
    "content": "<p>wolf:~/Desktop/rafailo6/A1/test$ ./kill<br />kill(SELF) = -1<br />kill(NOTFOUND) = -1<br />kill(NEGATIVE) = -1<br />kill(TOOBIG) = -1<br />kill(1) = 1<br />kill(KILLED) = 1<br />did killed thread run before exit? yes<br />kill(ZOMBIE) = 1<br />child thread 2 yields.<br />kill(2) = 2<br />did killed thread run before exit? no<br />kill(0) = 0<br /><br />On markus I get 7/14. This is the only test that fails for me<br /><br /></p>\n<pre>\n<code>Running: scripts/a1-04-kill.py \nkill test\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(ZOMBIE\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^child thread (\\d&#43;) yields.\n\nERROR: EOF: not found: ^kill\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(0\\) = 0\n\nMark for kill test is 7 out of 14\nFAIL</code></pre>\n<p><br /><code>I dont know why</code></p>",
    "created": "2025-09-28T15:33:27Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "yeah @94 wasnt very helpful. Can I ask what the correct output for the kill test is?",
          "comments": [
            "<md>I've included it because you've asked, but I'm fairly certain if you add the ability for a thread to detect it is killed on first run you should pass the tests. \n\n```\nkill(SELF) = -1\nkill(NOTFOUND) = -1\nkill(NEGATIVE) = -1\nkill(TOOBIG) = -1\nkill(1) = 1\nkill(KILLED) = 1\ndid killed thread run before exit? no\nkill(ZOMBIE) = 1\nchild thread 2 yields.\nkill(2) = 2\ndid killed thread run before exit? no\nkill(0) = 0\n```\n\nNote that some of the numbers on the left might be different, depending on how you allocate TIDs (i.e. it doesn't have to be `kill(1) = 1` strictly, it could be something else too).</md>"
          ]
        },
        {
          "content": "oh my god that was it!!! THANK YOU",
          "comments": [
            "<md>Happy to help \\:) And well done!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg3t3qko9o05lr",
    "subject": "Looking for group for G3",
    "content": "<p>Hi all, looking for a group for G3. My discord is adelmuursepp__</p>\n<p></p>\n<p>Thanks!</p>",
    "created": "2025-09-28T14:40:09Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "Hey dmed you!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg3a8k9kpgouc",
    "subject": "pthread error when i run ./main test",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkew31wgv1xr642%2Fdb4b26f584d1b02a465ef542cf3b27ac86e6e4ee0dda1c54f8fd967ee5d088b7%2FScreenshot_2025-09-28_at_1.50.29_AM.png\" alt=\"Screenshot_2025-09-28_at_1.50.29_AM.pngNaN\" /></p>\n<p>Getting this error when i run gdb ./main. all of my create and exit tests pass but most of my yield tests are not passing and i think this oculd be the reason why? I&#39;m not really sure what this error means, did anyone get somethign similar?<br /><br />I&#39;m thinking this maybe has something to do with &#34;off by one &#34; errors i am seeing but i&#39;m not sure why. in thread_create i find the first NULL thread space and occupy it (going from 0 to THREAD_MAX_THREADS - 1). am i supposed to start this from 1 instead because of the main user thread already in space 0?</p>",
    "created": "2025-09-28T05:52:01Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg37jhum57p6nm",
    "subject": "thread_switch running infinitely",
    "content": "I think I handled get and set context correctly but it seems the all thread is running at once when I test it. what could be the potential reason? any help is greatly appreciated!<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fktdp9a3f3p555z%2F5623dd0a0c7b1bb8d616269a5b9f40a253d276ffcb169ea38bb0d66edd19df9f%2FScreenshot_2025-09-28_at_12.24.18_AM.png\" alt=\"Screenshot_2025-09-28_at_12.24.18_AM.png\" /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fktdp9a3f3p555z%2Fb36e51266fb92057577bd92745bc4c6a69d4507c8aabbf55527b88d2a8cac6ad%2FScreenshot_2025-09-28_at_12.24.00_AM.png\" alt=\"Screenshot_2025-09-28_at_12.24.00_AM.png\" />",
    "created": "2025-09-28T04:36:32Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg373tqclg2zt",
    "subject": "Strange segfault when calling setcontext",
    "content": "<p>I have confirmed that the stack pointer is aligned correctly and the program counter is set to the address of the thread stub function for a newly created thread. However, calling setcontext() to switch to any thread always results in a segfault. At the bottom of the error message it appears the program counter has somehow ended up in the thread_destroy function instead, which is placed right above thread_stub, though the address that is shown next to it is still the same as thread_stub&#39;s. Is there a reason this may be happening, or is there perhaps something I am doing incorrectly?</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9fin7ta396ib%2F82bdc94991439cc3c3ca9a7e00fd3b54f6363d66ce226a9ef839679854c92c7e%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
    "created": "2025-09-28T04:24:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I malloc THREAD_MIN_STACK bytes for the new thread stack, then add THREAD_MIN_STACK to the pointer returned by malloc to get to the highest address. After that I subtract by modulo 16 and add an offset to make sure rbp will be 16 bit aligned, and put the result in REG_RSP\u00a0",
          "comments": [
            "I think I solved the issue, I had aligned_sp as type int instead of type long",
            "<md>Well done on finding a solution! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg36fhv6wqs3dl",
    "subject": "Markus is down",
    "content": "so I am going to sleep zzzzz",
    "created": "2025-09-28T04:05:26Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg34m84hsgw2o5",
    "subject": "Midterm Aid Sheet",
    "content": "<p>Just to confirm, a one-sided aid sheet is allowed for the midterm, right?</p>\n<p></p>\n<p>Well actually thinking about, I guess it won&#39;be much useful for 50m short midterm though haha</p>",
    "created": "2025-09-28T03:14:41Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "It says on Quercus that the font size needs to be 10pt at minimum and can be handwritten. How do we make sure our handwriting is at least 10pt?",
          "comments": [
            "<md>Most people can\u2019t write 10pt fonts. It\u2019s really small.</md>",
            "I will challenge myself to reach the lower limit on handwriting size, then\u2026",
            "lol",
            "<md>From my personal experience taking this course (and in most of my other CS courses), the process of making the aid sheet (and forcing yourself to review the content) often ends up being more useful than the actual aid sheet in the exam.\n\nBut also I look forward to seeing how small you can write :D</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg33ixriy7c42q",
    "subject": "getting ret == parent_tid failed in yield test",
    "content": "wolf:~/Desktop/rafailo6/A1/test$ ./yield<br />hello: hi again<br />repeat: yield(1) = 1<br />hello: hi again<br />repeat: yield(ANY) = 1<br />repeat: yield(ANY&#43;KILLED) = -3<br />repeat: yield(ANY&#43;ZOMBIE) = -3<br />hello: sayonara<br />once: yield(ANY) = 2<br />repeat: yield(ANY&#43;FREED&#43;ZOMBIE) = -3<br />repeat: yield(1) = -1<br />main: yield(NEGATIVE) = -1<br />main: yield(TOOBIG) = -1<br />main: yield(NOTFOUND) = -1<br />main: yield(0) = 0<br />yield: test/yield.c:37: patricide: Assertion `ret == parent_tid&#39; failed.<br />Aborted",
    "created": "2025-09-28T02:44:08Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "i&#39;m having the same problem as OP, i&#39;ve added a screenshot of my gdb output. From my understanding, the function is calling thread_yield on a tid that has been marked to be killed ie the next time it runs its just to clean up so it can exit safely. Based on the description of thread_yield, we&#39;re supposed to only yield to threads that are runnable (and a thread with killed state isnt runnable). In my case ret = -1 i.e. THREAD_INVALID because you&#39;re trying to yield to a thread that isn&#39;t runnable. I thought this was how thread_yield should behave so I would really appreciate some clarification! Thank you!!!<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmasq6s3i593j8%2Fb612eb584fff1a682aae0b4b34c44fc0afc8a31c565beb78df100b06096d720a%2Fimage.png\" alt=\"image.png\" width=\"646\" height=\"368\" />",
          "comments": [
            "<md>> and a thread with killed state isnt runnable\n\nThis is the issue! A thread that is killed is _runnable_, it just has the additional behaviour that when it next runs, it must exit immediately instead of running its assigned function.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg328nsregg2ky",
    "subject": "getting error in setcontext() in thread_switch()",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkew31wgv1xr642%2Feaceb5efb3455dac65ab61b14cfc9fc9de07bef3327b56dac6c339e567f2314e%2FScreenshot_2025-09-27_at_10.01.37_PM.png\" alt=\"Screenshot_2025-09-27_at_10.01.37_PM.png\" /></p>\n<p>I&#39;m not really sure why this keeps happening, but this is causing most of my tests to fail. I&#39;m not too sure what this error means of how to debug it.</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkew31wgv1xr642%2F61df5e228268bf89d1366b137ceacda9fa5e0365d433e69c73176ff54e70c7c9%2FScreenshot_2025-09-27_at_10.04.50_PM.png\" alt=\"Screenshot_2025-09-27_at_10.04.50_PM.png\" /></p>\n<p>For example, picture 2 happend when i try to run ./create test cases and its happening in the call to thread_switch. basically, i do not get into this line: &#34;printf(&#34;rbp alignment test completed.\\n&#34;);&#34;<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkew31wgv1xr642%2Faf6dbc4bf531e6dbb430305a8b1ebe88f27181fd0668fc5452157400391afbb5%2FScreenshot_2025-09-27_at_10.07.06_PM.png\" alt=\"Screenshot_2025-09-27_at_10.07.06_PM.png\" /></p>\n<div>\n<div>The last picture is the test case for yield.<br /><br />Does anyone know why this might be happening? Right now only about 34 test cases are passing and i&#39;m pretty sure this is the issue.</div>\n</div>",
    "created": "2025-09-28T02:08:09Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I align the top of the stack to 16 bytes (unsigned long stack_top = (unsigned long)stack &#43; THREAD_MIN_STACK;)<br />\u00a0and then subtract 8 to store a fake return address",
          "comments": [
            "<md>If you attempt to backtrace from that SIGFPE, what does it show you?</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg31k98irz4640",
    "subject": "create tests failed",
    "content": "<p>I have passed 26 out of 28 tests in Create, but I couldn&#39;t figure out the reason. Does anyone know what the potential reason could be? I got a segmentation fault, but the gdb does not give any valuable answers. I think I didn&#39;t get any exited thread rerun?</p>\n<pre>\n<code>Running: scripts/a1-05-create.py \ncreate test\nERROR: EOF: not found: ^exiting program with code 42\n\nERROR: program was killed with signal = 11\nMark for create test is 26 out of 28\nFAIL</code></pre>",
    "created": "2025-09-28T01:49:10Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>thread limit reached at thread 1023</p>\n<p>Program received signal SIGSEGV, Segmentation fault.<br />thread_destroy (dead=&lt;error reading variable: Cannot access memory at address 0x455672578&gt;) at thread.c:191<br />warning: Source file is more recent than executable.<br />191 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 thread_table[tid].id = -1; // Mark as unused<br />(gdb) bt<br />#0 \u00a0thread_destroy (dead=&lt;error reading variable: Cannot access memory at address 0x455672578&gt;) at thread.c:191<br />Backtrace stopped: Cannot access memory at address 0x455672598<br />(gdb)\u00a0</p>",
          "comments": [
            "<md>This looks like stack corruption. Show the thread id of the current running thread. Do you handle freeing the stack correctly?</md>",
            "<p>(gdb) p current_thread-&gt;id<br />$1 = 0</p>\n<p></p>\n<p>My ./test/exit all passed, so I guess I freed the stacks correctly. But my valgrind test does not pass, so I guess i didn&#39;t free the last thread-&gt;stack. But I couldn&#39;t figure out where the problem is. In thread_end, I iterate through every thread to check if the stack is freed or not.</p>\n<p></p>\n<p></p>",
            "<md>This one is really strange. I will need to see it in person since it is memory corruption.</md>",
            "I figured out the valgrind test. It is because I call schedule_init and schedult_end in my thread_init and thread_end, which double malloc a ready_queue. That extra read_queue is not freed at the end. I deleted the schedule_init and schedule_end, and I passed the valgrind test."
          ]
        },
        {
          "content": "<p>The good news is that I debugged the SEGFAULT. In thread_destroy(dead), I add a check if the dead == zombie_to_clean, if it does , then set zombie_to_clean == NULL. That fixed the SEGFAULT.</p>\n<p></p>\n<p>The bad news is that I don&#39;t know why this works.</p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg315awt8tw1yk",
    "subject": "Allocating memory",
    "content": "Can I confirm that the only place that we have to allocate memory is thread-&gt;stack? And the only places we need to free the stack are when an exited thread-&gt;stack is freed before the following thread run as well as the last thread-&gt;stack to be free at the end?",
    "created": "2025-09-28T01:37:33Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2zqqavj0477e",
    "subject": "A1 - Modifying the RIP, stack size",
    "content": "1) Are we allowed to modify the RIP of a killed thread? My implementation uses it to make them exit when they run.<br /><br />2) Can I malloc more than THREAD_MIN_STACK for my stack to account for the subtractions I did to align the stack?",
    "created": "2025-09-28T00:58:13Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2z61ickkv1ra",
    "subject": "thread_exit question",
    "content": "when a thread calls thread_exit, do we put it back in the ready_queue in thread_exit before we context switch to another thread?",
    "created": "2025-09-28T00:42:08Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2xxo4w9pv10a",
    "subject": "Can pthread_cond_broadcast always be used in place of pthread_cond_signal?",
    "content": "<p>The distinction between signal and broadcast is that signal picks any sleeping thread if any are available and then puts it back on the ready queue while broadcast does this for all of the threads.</p>\n<p></p>\n<p>The reason you would use broadcast is to avoid deadlock a specific thread picked by signal makes progress.</p>\n<p></p>\n<p>Does that mean that anytime you could use signal, you could just use broadcast instead? In that case, what is really the benefit of using signal anyways?</p>",
    "created": "2025-09-28T00:07:38Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2xhoh54ns670",
    "subject": "End of create.c",
    "content": "I&#39;m super close but still struggling with the end of the create tests. After recursively calling shoulder_stand, the waits should reap them all. I get to around the 2nd thread, but after that there are no more threads in the queue, apparently and it calls ut469 exit before the final secret returning. Do you know what the expected behaviour is and any probable cause?<br /><br />(There were more print statements for reaping all of them, but I only included &lt;8 for simplicity)<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fca26b122db77017d3a64e43ef521df091aedffed6ed07e5adc2ef5ad49cc791d%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-09-27T23:55:12Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2F285512cc379fb053b087baa142cd42e02a4227d3271cd2886ad90ca205cd2011%2Fimage.png\" alt=\"image.png\" /><br />I&#39;m getting this now but still failing the tests<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2F22cee3dfc0d1b8e3cdd3595c37db57a62cc0844b81f7d57addb6f4d8e70ff748%2Fimage.png\" alt=\"image.png\" />",
          "comments": [
            "it was an off by one error, I realised @94 mentioned the same thing!",
            "<md>Well hey, well done for figuring it out \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg2xce1fc7z7n2",
    "subject": "issue with exit.c mallinfo()",
    "content": "<md>im running into this issue with mallinfo() in function create\\_then\\_exit() in exit.c. I've been using gdb to check the stack allocations and they look correct as well. is it something wrong with my stack alignment?\n\nMy context switches seem to be working properly, and i'm freeing in both thread\\_stub and in the second return from thread\\_switch.\n\n\u00a0![](/redirect/s3?bucket=uploads&prefix=paste%2Flm0z0felwam5o9%2F5a739557b94c6af899a2cd20690de1d7f2d2804ee4465efb1fcbfea61bb21b39%2FScreenshot_2025-09-27_at_7.45.29_PM.png)</md>",
    "created": "2025-09-27T23:51:05Z",
    "tags": [
      "a1",
      "no_history",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "thanks so much! i got it",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2vxmsyqqk542",
    "subject": "Modifying Thread Context",
    "content": "<p>Even though I read through the A1 page a couple times before starting, I completely forgot that we\u2019re not supposed to use \u201cmakecontext\u201d and \u201cswapcontext&#34; while writing the code. I need to rewrite my thread_yield and thread_create, and I\u2019m feeling a bit stuck because it seems really complex in my head. Could anyone give some advice on how to approach this or break it down?\u00a0</p>\n<p>Thanks in advance!</p>",
    "created": "2025-09-27T23:11:37Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you for your response! I\u2019ll try this right away. I just have one small question: would the MarkUs tests automatically fail if I use makecontext and swapcontext? I want to test the code before changing their implementation and see if any failures are due to that.",
          "comments": [
            "<md>I don't think the MarkUs tests are setup to detect this and report it to you, but we definitely have a filter to check for the use of `swapcontext` / `makecontext`, and so you would run afoul of that when it comes time to calculate your final mark for this assignment.\n\nSo basically, you're safe to use it while you're switching away from using it, just ensure that your final submission doesn't use it!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg2vbc6ftob55a",
    "subject": "G3 cases",
    "content": "Hello, I was wondering where I could find the code snippets for G3. I don&#39;t see it in the assignment description anymore",
    "created": "2025-09-27T22:54:16Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2u863z3o02sn",
    "subject": "A1 create test error",
    "content": "stacks of threads 1 and 2 are too close<br />create: test/create.c:186: main: Assertion `0&#39; failed.<br /><br />I keep running into this error and unsure how to debug?<br /><br />Some commands ive ran:<br />(gdb) p threads[1]-&gt;stack;<br />Invalid character &#39;;&#39; in expression.<br />(gdb) p threads[1]-&gt;stack<br />$2 = (void *) 0x555555973cf0<br />(gdb) p threads[2]-&gt;stack<br />$3 = (void *) 0x55555596b8d0<br /><br />(gdb) p labs((long)threads[1]-&gt;stack - (long)threads[2]-&gt;stack)<br />$6 = 33824",
    "created": "2025-09-27T22:23:49Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "(gdb) p stack_array<br />$23 = {0x7fffffffaff4, 0x0 &lt;repeats 1023 times&gt;}<br /><br />I see the issue not sure where it went wrong at the moment.<br />My stack_array is fully empty from create.c",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2t8nzaxmk29v",
    "subject": "setcontext()",
    "content": "<p>what could be the reason a set context() faill if it is not because a EXITED thread got runned?</p>\n<p>I always run into infinite loop and when I kill the process, I got this error:</p>\n<p></p>\n<p>getcontext () at ../sysdeps/unix/sysv/linux/x86_64/getcontext.S:108<br />warning: 108 \u00a0 \u00a0../sysdeps/unix/sysv/linux/x86_64/getcontext.S: No such file or directory<br />(gdb) bt<br />#0 \u00a0getcontext () at ../sysdeps/unix/sysv/linux/x86_64/getcontext.S:108<br />#1 \u00a00x000055555555714f in thread_switch (next=0x555555563ce0 &lt;thread_table&#43;31744&gt;) at thread.c:115<br />#2 \u00a00x000055555555728a in thread_yield (want_tid=-2) at thread.c:169<br />#3 \u00a00x000055555555626f in hello (msg=0x7ffffffe5ce0 &#34;hello from thread \u00a030&#34;) at test/main.c:241<br />#4 \u00a00x0000555555557379 in thread_stub (thread_main=0x5555555561ed &lt;hello&gt;, arg=0x7ffffffe5ce0) at thread.c:205<br />#5 \u00a00x0000000000000000 in ?? ()</p>",
    "created": "2025-09-27T21:56:13Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I set volatile setcontext_called to be 0, and check if setcontext_called is 0, then change setcontext_called to be 1 before calling setcontext().",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2rp2gx5x91ko",
    "subject": "Is G3 still only based on completion?",
    "content": "<p>I just noticed that theres no note about it being graded on just completion like in G1 and G2, I was wondering if the same applies for G3.</p>\n<p></p>\n<p>Thanks!</p>",
    "created": "2025-09-27T21:12:59Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2rl0za5qp1sy",
    "subject": "Explain the Concepts of Deadlock, Livelock, and Starvation?",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllzmgvlz32355l%2Fbf0501c0dd5ec81933980e7c28527c39a56b223c9fe5c4e42a3867771709524f%2FScreenshot_2025-09-27_at_17.07.39.png\" alt=\"Screenshot_2025-09-27_at_17.07.39.pngNaN\" width=\"477\" height=\"227\" /></p>\n<p></p>\n<p>From my understanding of the slide, a deadlock is when threads want to enter their critical section but the scheduler doesn&#39;t let any of them for whatever reason and starvation is when a thread requests to enter its critical section but the scheduler keeps postponing it in preference of another thread.<br /><br />What is a livelock and also what are some concrete cases where deadlock, livelock, and starvation actually occur in code?</p>",
    "created": "2025-09-27T21:09:50Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2pfig9yht6pf",
    "subject": "Is fork() a system call?",
    "content": "Hi, I was wondering if fork() is considered a system call or not in this course. In the answers for E3, fork() is considered a system call but in lecture I remember hearing that it was not a system call, and that it called clone() which is a system call.",
    "created": "2025-09-27T20:09:33Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<md>Assume it is a system call for this course.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2otlyas4a3vc",
    "subject": "Thread_kill()",
    "content": "<br />I have been stuck on this for a long time. Any help would be greatly appreciated.<br /><br />Whenever I yield to a thread that has been killed, the program crashes with a segmentation fault. This happens because thread_yield() calls thread_exit() for the killed thread, which in turn calls thread_switch() to switch contexts. Inside thread_switch(), getcontext(&amp;prev-&gt;context) and setcontext(&amp;next-&gt;context) are called, where prev is the killed thread and next is the initial thread. The setcontext() call then triggers the segmentation fault.",
    "created": "2025-09-27T19:52:32Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>By \u201cthread_yield calls thread_exit for the killed thread\u201d<br />I mean that yield checks if next_thread-&gt;state == KILLED and then sets current_thread = next_thread and calls thread_exit(THREAD_KILLED).</p>\n<p></p>\n<p>Here is my result from gdb ./kill:</p>\n<pre>\nkill(SELF) = -1\nkill(NOTFOUND) = -1\nkill(NEGATIVE) = -1\nkill(TOOBIG) = -1\nkill(1) = 1\nkill(KILLED) = 1\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x000055555555eac0 in ?? ()\n(gdb) backtrace\n#0 \u00a00x000055555555eac0 in ?? ()\n#1 \u00a00x000055555555eac0 in ?? ()\n#2 \u00a00x00007fffffffe5a8 in ?? ()\n#3 \u00a00x00007fffffffe480 in ?? ()\n#4 \u00a00x0000555555555502 in main () at test/kill.c:67\nBacktrace stopped: frame did not save the PC</pre>",
          "comments": [
            "<md>You seem to be having an issue with when we try and yield to a killed thread (or at least that's the part of the test the segfault is in). I would take a look at your thread_exit I guess? Add an `assert(false)` at the bottom, just to ensure that you aren't somehow able to return to an exited thread (that's what causes this kind of issue sometimes). This might also be stack corruption, in which case you might have to go to someone's office hours, because stack corruption is incredibly difficult to debug over Piazza \\:(.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg2oshvce1wgr",
    "subject": "Anyone else find coding in the console and Nano exhausting?",
    "content": "<p>Hi everyone,</p>\n<p>This is a bit out of context, but I wanted to know if I\u2019m alone in this\u2014does everyone else find it a bit exhausting to write code directly in the console or edit files in Nano? I know it\u2019s important to be able to do this, but I still find it tiring at times and hard to look forward to. I just wanted to hear everyone\u2019s thoughts\u2014how does everyone manage it? Does everyone have any tips or tricks to make coding this way less overwhelming?</p>",
    "created": "2025-09-27T19:51:40Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg2o9uefj7f77o",
    "subject": "Dont know why i get this error when i run ./exit",
    "content": "wolf:~/Desktop/rafailo6/A1/test$ ./exit<br />1. stack appears to be freed after exit.<br />wait(1) = -1<br />2. it appears that a thread&#39;s stack is not freed after exit<br /><br />I ran it in valgrind and everything gets cleaned up properly. My only suspicion is that maybe one thread isnt freeing its stack in the right function/location<br /><br />==19596== HEAP SUMMARY:<br />==19596== \u00a0 \u00a0 in use at exit: 0 bytes in 0 blocks<br />==19596== \u00a0 total heap usage: 9 allocs, 9 frees, 103,384 bytes allocated<br />==19596==\u00a0<br />==19596== All heap blocks were freed -- no leaks are possible<br />==19596==\u00a0<br />==19596== For lists of detected and suppressed errors, rerun with: -s<br />==19596== ERROR SUMMARY: 18 errors from 18 contexts (suppressed: 0 from 0)",
    "created": "2025-09-27T19:37:09Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "i think the problem is that i dont know how to free th estack of the last running thread",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2nquvxot9yz",
    "subject": "E4 re-attempt",
    "content": "Hello,<br /><br />i was wondering if multiple attempts could be allowed for E4 since I would like to use it to practice for the midterm<br /><br />",
    "created": "2025-09-27T19:22:24Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2n5orqok0mj",
    "subject": "appointment booking",
    "content": "is it possible for me to book an appointment for help with this assignment?",
    "created": "2025-09-27T19:05:56Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Do you have a specific issue for the assignment as of now?\u00a0",
          "comments": [
            "I have many that I need help fixing"
          ]
        },
        {
          "content": "<md>Can I also book an appointment please if you have time?</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2my5brdu14uc",
    "subject": "kill tests",
    "content": "<p>I gdb&#39;ed ./kill because it kept on returning that the killed thread had run. I found out that setcontext() was changing the killed state back to a running state. I tried putting getcontext() in the kill function to update the context so that the state = killed, but it running it gives me seg fault (though the original problem is solved).</p>\n<p></p>\n<p>I&#39;m not sure how I should make the killed thread &#34;not run&#34; in yield, are my approaches incorrect? Any help would be appreciated!</p>",
    "created": "2025-09-27T19:00:04Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "You shouldn&#39;t need to call getcontext in thread_kill. I&#39;d say check the places you set the state of a thread as READY and see if a killed state was mistakenly changed at one of these places\u00a0",
          "comments": [
            "I dont think this is the case because when I look ar gdb, it changes from killed to running when setcontext is executed. Before setcontext its state is killed.",
            "<md>GDB doesn't understand how to find the \"next\" instruction after a `setcontext` call, and so it effectively \"continues\" until it next hits a fault / breakpoint. That means what the other TA said is actually possible your error.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg2mx3tpltx2h9",
    "subject": "Group Assignment Answer",
    "content": "@86 says we can have the answer for the group assignment.\nMay I ask where we can find that? I want to double-check my answer to review for the midterm.",
    "created": "2025-09-27T18:59:15Z",
    "tags": [
      "group-activity",
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "have they been posted now?\u00a0",
          "comments": [
            "<md>I have asked Jack about it, and will update you when I get a response!</md>",
            "<md>Take a look at @350 now! I've written up some answers for G1-3 \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg2mgesxat135q",
    "subject": "Confused about how to implement thread_exit and thread_end",
    "content": "<p>Im stuck on these two functions. I dont know how to properly write them. Inn thread_exit i set the exit code and state of the current thread, and then check if there is another thread on the ready queue. If there isnt, then I I dont know what to do. I know I should call ut369_exit, but i dont know if i need to do something before that. If there is one on the ready queue, we simply just call thread_switch right?</p>\n<p></p>\n<p></p>",
    "created": "2025-09-27T18:46:17Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2lmcfem784q9",
    "subject": "Case 3 for the G3",
    "content": "<p>My group didn&#39;t finish case 3 in class, and we resumed it today, but we couldn&#39;t the question description. What if the case 3 question?</p>\n<p></p>\n<p>Sincerely</p>",
    "created": "2025-09-27T18:22:54Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg2k2p0qcpb3h8",
    "subject": "Am I supposed to malloc a stack for the initial thread?",
    "content": "<md>I've been able to pass a lot of tests without malloc-ing a stack in thread_init, but I am wondering if this is incorrect.\nThanks!</md>",
    "created": "2025-09-27T17:39:37Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg2jux1zt251uf",
    "subject": "is the current thread runnable?",
    "content": "",
    "created": "2025-09-27T17:33:35Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg2gts8vf465vu",
    "subject": "Searching for a Group for G3",
    "content": "<p>Hi,</p>\n<p></p>\n<p>I&#39;m looking for a group to do G3 with. My discord is nada_v</p>",
    "created": "2025-09-27T16:08:43Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "dmed you!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg2fyxiz2cf1bw",
    "subject": "Thread_exit()",
    "content": "Should I be calling thread_yield() or thread_switch() inside of thread_exit()?",
    "created": "2025-09-27T15:44:43Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg1xpkja2tg4fa",
    "subject": "SIGFPE, Arithmetic exception",
    "content": "<p>Hi, I have a question about <code>setcontext</code>. I added a lot of <code>printf</code> statements, and the last one appears right before the <code>setcontext</code> call, so I\u2019m fairly sure the error happens there. What\u2019s strange is that when I checked the registers, <code>RSP</code>, <code>RBP</code>, and even <code>RIP</code> all point to the expected locations (see images attached). Also, <code>RBP</code> is 16-byte aligned (last digit is 0), which I assume should be what&#39;s needed since I&#39;m not calling a new function in the context I want to switch to (just continuing where that thread left off, so no moving rbp or rsp). So where could I be going wrong? Or is it possible I made a mistake earlier that leads to this issue?</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7uitjhj77k2gj%2F6b552c4a7571f38371b9f585812183193db1a2af6c134c391cde78593edaa6f1%2Fimage.png\" alt=\"image.png\" /></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7uitjhj77k2gj%2Fd9a7e1aa6d641e72eece70eaae0a19c1689628677a1facc478b1cf7247442fe2%2Fimage.png\" alt=\"image.png\" /><br />The image above shows that <code>RIP</code> is pointing to <code>0x555555556357</code>, which is exactly the <code>getcontext</code> instruction, so I was hoping it would return there.</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7uitjhj77k2gj%2F9c6818d8ae247733d17af5e0d79bb2eec3c01c44b9423213066bd92437c0545e%2Fimage.png\" alt=\"image.png\" /></p>\n<p>Below is the full printed context. Note that <code>cur_thread-&gt;context</code> is a <code>ucontext_t</code>.</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7uitjhj77k2gj%2F2b3c0aaf2c7c486c3c71a35e696df7d587837924e417c6900fce461f1fa01a06%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p></p>\n<p>This is what I got after running that setcontext<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7uitjhj77k2gj%2F76933d98b57188cc3792cbbc8a217ccc799b476ff06d60bcc482d604e27f624b%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
    "created": "2025-09-27T07:13:34Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Thanks for the guidance! However, I&#39;ve done all of them before, and it&#39;s still giving me this issue T_T",
          "comments": []
        },
        {
          "content": "i am gettin the same issue, not really sure what to do",
          "comments": []
        },
        {
          "content": "<md>Same \ud83e\udd72</md>",
          "comments": []
        },
        {
          "content": "It&#39;s hard for me to say what the issue could be without looking at any of the source code but the only advice i&#39;d have for debugging this is to set a breakpoint at the instruction following getcontext and call continue when you reach the setcontext line. If it still gives you an error then I would guess the error is most likely in your thread_create. However, like i said, it&#39;s difficult for me to say what the error could be without looking at the code",
          "comments": []
        },
        {
          "content": "<md>Adding a print statement to the beginning of thread_yield\n```\nprintf(\"yield from %d to %d \\n\", thread_id(), want_tid);\n```\nSeems to magically fix the error for me and I have no idea why</md>",
          "comments": []
        },
        {
          "content": "<p>I found the issue, everyone. I had a meeting with the professor, and it turns out this is a very subtle problem that you might also be facing.</p>\n<p></p>\n<p>In <code>thread_create</code>, you might be doing something like this:</p>\n<p>ucontext_t uc;<br />// assigning uc the appropriate values<br />thread-&gt;context = uc;</p>\n<p></p>\n<p></p>\n<p>Apparently, copying from <code>uc</code> to <code>thread-&gt;context</code> causes issues with the floating-point state. You should not do this.</p>",
          "comments": [
            "<md>I'm not sure I would have found that in a million years :0 well done for figuring it out!</md>",
            "Props to Prof. Jack Sun! \ud83c\udf89",
            "<md>Sorry for reviving an old discussion but I believe this is the cause:\n\nIn ucontext_t, there is a field that points to something in itself. Specifically, if you have ucontext_t `uc` the `uc.uc_mcontext.fpregs` is a pointer that is supposed to point to `uc.__fpregs_mem`. Because this is a pointer, when you copy the struct, either using `=` or `memcpy`, it will not set it up properly. So you either have to add `uc.uc_mcontext.fpregs = &uc.__fpregs.mem` or call getcontext directly on the field in `struct thread` to not have this problem.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg1wf80ir136g",
    "subject": "valgrind freaking out, is it possible to fix this?",
    "content": "<md>i pass all the tests and there aren't any memory leaks, but valgrind keeps bugging me with invalid read errors. is this something to worry about, or is it just a side effect of us doing weird things with context?\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Flkydx5avy8x426%2F1948644d902bb9f83bd40cdebceaf0d3324abd9a81df92469fd862497dc6455d%2Fimage.png)\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Flkydx5avy8x426%2F86d78c33ba0467ac3e978662214e5fea24ba44ed2f12dcef8646bd9e86081c98%2Fimage.png)</md>",
    "created": "2025-09-27T06:37:31Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg1qooxa4kl7pf",
    "subject": "Thread_yield action",
    "content": "I not too sure about the logic for thread_yield, please correct if im wrong. so if I call thread_yield(1) it will put thread 0 on pause and add it to the queue. Then it will start run thread 1, after thread 1 is done, it goes to run thread 0 (assuming only those two threads in the queue). then after thread 0 is finished, it returns to thread 1 and then thread 1 return the want_id (which is 1) back to the caller? Am I right about the return, I got confused here, especially the part that thread 1 finish running and wait for thread 0 to also finish then return to the caller, or thread 0 returns to the caller right away.\u00a0",
    "created": "2025-09-27T03:56:55Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg1pebthky56zy",
    "subject": "create.c Final few tests",
    "content": "I&#39;m failing the last few tests in create.c, and I&#39;n not sure why (or what the expected output is)?.\u00a0 After I call thread_exit(0) at the end I go into thread_1_main and shoulder_stand, and I&#39;m not sure if this is correct<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fe95eb66c5b595e99cb0a6b6cc8aa10078d82608272826ad8e4be77f1bfacfb25%2Fimage.png\" alt=\"image.png\" /><br /><br /><br />",
    "created": "2025-09-27T03:20:52Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg1elxtrsuy3iv",
    "subject": "Leo&#39;s OH zoom link",
    "content": "<p>Hi, I wonder is the zoom link for today&#39;s OH correct? It says it&#39;s scheduled for Oct 20 at 7pm.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fksoq64swkq2k2%2F613206e14475331a18ba52e152af821a8b50c30a720a4e840a9fbeed691f1bfd%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fksoq64swkq2k2%2Ffd3dadc49ef83d9ede3dff9d7a180f4b7c2d2f2651036379d841944b687ac7f9%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
    "created": "2025-09-26T22:18:51Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I am using that link",
          "comments": [
            "Sorry, it was updated. https://utoronto.zoom.us/j/86496299285",
            "Hi, I&#39;m in the waiting room :)"
          ]
        },
        {
          "content": "is anyone also stuck in waiting room?",
          "comments": [
            "The TA lets you in one by one so when its your turn he&#39;ll bring you into the meeting"
          ]
        }
      ]
    }
  },
  {
    "id": "mg1eh2ujgoyhk",
    "subject": "How to fix Case 2: about.html, Space between heading and collapse",
    "content": "I dont understand why I am getting this error. my margin-bottm for the header is 16px but there is an extra bit of space between the top purple dotted line and the im currently taking text. I think this is the issue, but when I removed display:flex and replaced with display:inline-block it looked better but i got the same error on markus<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm7vt5rmuzn3z8%2Fc2bf601f02d611d1e880f60e0555dd5b3e39e34cbcd66209a2e10839da06ba27%2FScreenshot_2025-09-26_at_6.12.58_PM.png\" alt=\"Screenshot_2025-09-26_at_6.12.58_PM.pngNaN\" />",
    "created": "2025-09-26T22:15:05Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<md>I love a good 309 error \\:D</md>",
          "comments": []
        },
        {
          "content": "<md>I definitely don\u2019t know anything about this assignment.</md>",
          "comments": [
            "<md>The assignment definitely doesn't look familiar at all \\:D</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg1cw23echo4l3",
    "subject": "hwo to free all memory",
    "content": "<p>I am running into a valgrind issue, and neither of the TA in 2270 know how to fix it? My exit tests pass, but not valgrind test. I checked all the thread_id&#39;s stack and thread in thread_end.\u00a0Basically, when I run valgrind ./test/basic, it gives me the following error.\u00a0</p>\n<p>==64541==\u00a0<br />==64541== HEAP SUMMARY:<br />==64541== \u00a0 \u00a0 in use at exit: 8,192 bytes in 1 blocks<br />==64541== \u00a0 total heap usage: 3 allocs, 2 frees, 17,408 bytes allocated<br />==64541==\u00a0<br />==64541== LEAK SUMMARY:<br />==64541== \u00a0 \u00a0definitely lost: 8,192 bytes in 1 blocks<br />==64541== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks<br />==64541== \u00a0 \u00a0 \u00a0possibly lost: 0 bytes in 0 blocks<br />==64541== \u00a0 \u00a0still reachable: 0 bytes in 0 blocks<br />==64541== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks</p>",
    "created": "2025-09-26T21:30:44Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg1ansb94965c2",
    "subject": "Question about buffer functions",
    "content": "Do we need to know the coding implementation of the buffer functions? Is this something that is testable or are we fine as long as we understand how it works.",
    "created": "2025-09-26T20:28:19Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg1a5c4wlte6v8",
    "subject": "Issue with test case file compilation???",
    "content": "I made a modification to my test file and now it will not let me compile the file. The executable is also gone. <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00lb4p3u56zq%2F98d4c69b47619194d197f1ed561da4efa35912be917b3bba7ae287323ba5dde8%2Fimage.png\" alt=\"image.pngNaN\" />",
    "created": "2025-09-26T20:13:58Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "yep nvm I got it",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg182qiexmb2ls",
    "subject": "what is thread_destroy&#39;s purpose?",
    "content": "I am perhaps mixing this up with thread_end but is thread_destroy just supposed to destroy the tcb representing the &#34;dead&#34; thread argument?",
    "created": "2025-09-26T19:15:58Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "thank you!",
          "comments": [
            "<md>Happy to help \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg0ylc26awm4ug",
    "subject": "Tests all failing...",
    "content": "<p>On Markus only my basic tests pass (and a few others in create and kill). I finished the &#34;coding&#34; part and am using gdb to debug. I think my yield function is the problem, but I can&#39;t really figure out what the issue is with it.\u00a0</p>\n<p></p>\n<p>Whether I run the provided tests on the terminal or with gdb, the yield function is where they all get stuck in an infinite loop.</p>\n<p></p>\n<p>What can I do? I can&#39;t visit office hours due to UTM commutes, so I feel pretty hopeless right now.\u00a0</p>",
    "created": "2025-09-26T14:50:29Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I don&#39;t have any advice for debugging but in case you didn&#39;t check there&#39;s an online office hours tonight from 6-9 PM as well",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mg0bb14tip25qx",
    "subject": "Failing on ssh but passing on markus",
    "content": "<p>When I SSH into the lab PCs and run the create and yield test cases, they always fail with a Floating point exception. But when I submit to MarkUs, the same tests pass.</p>\n<p></p>\n<p>Why is there this difference? Is the issue on my side and my code or with MarkUs?</p>",
    "created": "2025-09-26T03:58:37Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "No, I wasn&#39;t at your office hours. For stack cleanup, when a thread exits via thread_exit(), I mark it as a zombie but don&#39;t free its stack immediately. Instead, I free the zombie\u2019s stack either in thread_stub before starting the new thread\u2019s thread_main, or right after a context switch in thread_yield. Is there something wrong in this flow? I dont see how this could be causing a floating point error",
          "comments": [
            "<md>That flow seems correct to me. I don't think that's the cause of your error.</md>",
            "When I debug with GDB, the error happens on a call to setcontext, so my assumption is that the thread\u2019s context is somehow getting corrupted. I don\u2019t think it\u2019s a stack alignment issue though, since in that case I\u2019d expect it to fail much earlier with a segmentation fault instead of making it as far as it does. Im curious as to why it would work on markus though and not when running it on the lab pc.",
            "<md>Are you doing something funky with `thread_kill`? Just checking.</md>",
            "No, not that I\u2019m aware of. In my thread_kill, all I do is mark the thread\u2019s state as killed and then re-enqueue it so that on its next turn it knows to call thread exit on itself.",
            "Also, as a side note, I\u2019m currently not able to SSH into the lab machines or access MarkUs. Are the systems down right now?",
            "<md>I'm able to get in (just tested!) so it might be a connection issue on your end?</md>",
            "Finally fixed it! Turns out it was a stack alignment issue all along. Still not sure why markus passed it though.",
            "Hey, would you mind sharing what the issue was? I\u2019m getting the same error and have been debugging it for hours. Thanks!",
            "<md>Anon. Poet:\n\nWell done for solving it! \\:)</md>",
            "<md>Anon. Calc:\n\nIt was likely an issue with how they handled the initial alignment of the stack pointer in thread_create. They may not have been moving the stack pointer to the \"top\" of the section malloc provides, or may not have been appropriately aligning it.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg0b3luyk4k7g1",
    "subject": "what happens when an exited thread tries to switch to another exited thread?",
    "content": "Should this be possible?",
    "created": "2025-09-26T03:52:51Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "but an exited thread yields to the next available thread though, right? just not any specifically (sorry if it seems like I&#39;m rewording what you already said :P)",
          "comments": [
            "<md>It does do that, but where does that \"next\" thread come from? It has to come from the scheduler, and the scheduler can't (or rather, shouldn't) have any zombies.</md>",
            "Yep that makes sense. I&#39;m somehow miraculously enqueuing exited threads even when I have asserts wrapping all enqueues kek",
            "doing the exact same thing even though it\u2019s not supposed to enqueue zombies\u00a0",
            "<md>A useful tip might be to do something like an assert(scheduler remove current thread == NULL) in thread_exit? Just make sure a zombie doesn't exist in the queue in the first place.</md>",
            "atp i&#39;ve lost the plot on all the different execution paths for the edge cases, but what helped me was making sure i\u00a0<em>removed\u00a0</em>the threading that called exit.",
            "<md>*Technically* you shouldn't need to do that, but hey, if that's what makes your code work...</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg0ae16w2xv5fl",
    "subject": "seg fault in ./test/create",
    "content": "<p>It seems that GDB cannot find valid information about the address:</p>\n<p></p>\n<p>Program received signal SIGSEGV, Segmentation fault.<br />0x00007fffffffec77 in ?? ()</p>\n<p>(gdb) bt<br />#0 \u00a00x00007fffffffec77 in ?? ()<br />#1 \u00a00x763d4c4155534956 in ?? ()<br />#2 \u00a00x3d4c564c48530069 in ?? ()</p>",
    "created": "2025-09-26T03:32:58Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>what does falling off the end of thread_exit mean?\u00a0</p>\n<p></p>\n<p>Also, in thread_destroy, I free a thread-&gt;stack and the thread itself. In thread_exit, thread_stub and thread_yield, I free the previous thread-&gt;stack and set the thread to be NULL</p>",
          "comments": [
            "in thread_end, I free all the thread-&gt;stack and the thread itself.",
            "<md>By \"falling off the end\", I mean a thread that yielded during thread_exit (i.e. a zombie thread) somehow gets switched to, and so it continues and \"returns\" from thread_exit. I call it \"falling off the end\" because that shouldn't ever happen.\n\nI'm not sure you should need to free the thread stack in all those places actually. You should only need the next thread to free the previous thread's stack, and then to free the last thread's stack in thread_end.</md>",
            "I think this is the reason, but I couldn&#39;t find the reason why the EXITED thread is switched to. I checked if the thread is runnable before swich to, and I mark EXITED status to be non runnable and I set the Thread-&gt;status == EXITED in thread_exit."
          ]
        },
        {
          "content": "I think this is the reason, but I couldn&#39;t find the reason why the EXITED thread is switched to. I checked if the thread is runnable before swich to, and I mark EXITED status to be non runnable and I set the Thread-&gt;status == EXITED in thread_exit.",
          "comments": [
            "<md>Do you check if the current thread is exited before re-enqueuing it in `thread_yield`?</md>",
            "yes, i checked if it is runnable",
            "<md>As a temporary fix, maybe try having something like `assert(scheduler->remove(current_thread) == NULL)` in `thread_exit`? If you hit that assertion, then you know you're enqueuing the thread when you shouldn't.</md>",
            "I didn&#39;t hit that line. But sometimes assert(0) got hit after setcontext.",
            "<p>also it jumps form 7 to 0 when it prints debug printings</p>\n<p>thread 9 exiting with code 9<br />thread 8 exiting with code 8<br />thread 7 exiting with code 7<br />thread 0 exiting with code 0</p>",
            "<md>If you're hitting that assertion, that means setcontext is likely failing for some reason?</md>",
            "<blockquote>\n<p>also it jumps form 7 to 0 when it prints debug printings</p>\n</blockquote>\n<p><br />Hey, did you figure this out? I found that mine ends up jumping from 3 to 0 instead of going to 2 next...<br />If you don&#39;t mind, could you share what the issue was if you did figure it out?</p>",
            "I haven&#39;t yet unfortunately, was doing 373 assignment."
          ]
        }
      ]
    }
  },
  {
    "id": "mg0ad1xafb23ky",
    "subject": "test Kill output",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2Fc797ae0af768f75593db7f66696fc96233a0d53c787e71592ac922c79aec3fde%2FScreenshot_2025-09-25_at_11.31.51_PM.png\" width=\"497\" height=\"312\" alt=\"\" />What is wrong with this output? How should I go about fixing it?<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2F37e4db77b9d7d85b1bbbc4d8a1cc71495e1fb7c56065d47d930cb080e853ab96%2FScreenshot_2025-09-25_at_11.30.33_PM.png\" width=\"942\" height=\"516\" alt=\"\" />",
    "created": "2025-09-26T03:32:12Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "How do I not run it before exiting it. Don&#39;t I have to switch to that thread first and then exit it from there?",
          "comments": [
            "Nvm figured it out. After getcontext and before setcontext I check if it has been killed.",
            "do you check for killed twice?\u00a0",
            "<md>Anon. Gear:\n\nWell done for figuring it out! \\:)</md>",
            "<md>Anon. Poet:\n\nWhat do you mean by twice? If you mean in two different places, then I would probably advise taking that approach. You can _technically_ check once and still have correct code, but it's a little more complex to do.</md>",
            "figured it out! I wasn\u2019t checking where the threads that haven\u2019t been run before resume.\u00a0",
            "<md>Well done on the debugging! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg09i6xske63hc",
    "subject": "Thread kill question",
    "content": "I&#39;m trying to understand the logic behind thread_kill. If I have a setcontext() in thread_exit, where does that setcontext() point back to? I know for newly created threads the setcontext() is used to go to their stub functions, but for pre-existing threads that have been marked as killed, where does the setcontext() bring them to?",
    "created": "2025-09-26T03:08:12Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Ok so it would be the last get_context (except for newly created ones cus we manually set the register to point to the stub function)?",
          "comments": [
            "<md>Exactly!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg08gue19o05yl",
    "subject": "Confused about where to free memory",
    "content": "<p>How should I go about freeing memory. In my thread destroy, I simply free the thread if its a zombie thread and in thread end I go around and free all threads that still have a stack</p>\n<p><a href=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2F4804747f1d046241476ed42916802b9ce5a4fa5a6b79742e6dbbea695a313f54%2FScreenshot_2025-09-25_at_10.37.42_PM.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2F4804747f1d046241476ed42916802b9ce5a4fa5a6b79742e6dbbea695a313f54%2FScreenshot_2025-09-25_at_10.37.42_PM.png\" alt=\"\" /></a></p>",
    "created": "2025-09-26T02:39:10Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Should I be storing the previous thread somewhere? Because I cannot just free it in thread switch correct?",
          "comments": [
            "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2F53b866ed08262956385193272048adb6de72d15d4edf8cdadaf12853e1c5cfd5%2FScreenshot_2025-09-25_at_11.35.47_PM.png\" width=\"2292\" height=\"1284\" alt=\"\" /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2F3cd025bbb9eccc9f876201e0d7990eaa097be41226c9f0b682e8b06512dd0c51%2FScreenshot_2025-09-25_at_11.36.04_PM.png\" width=\"1630\" height=\"1012\" alt=\"\" />",
            "<md>These Valgrind errors are just Valgrind not understanding that we are using malloc'd memory as a \"stack\". As long as Valgrind doesn't complain about memory leaks, you should be good.\n\n> Should I be storing the previous thread somewhere? Because I cannot just free it in thread switch correct?\n\nProbably, yes.</md>"
          ]
        },
        {
          "content": "what could the 8192 bites comes from? I got\u00a0 my exit test passed but not valgrind.",
          "comments": [
            "<md>The `--leak-check=full` flag might help determine that, it shows where the allocation was.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg06tmxs9ku1ix",
    "subject": "stacks too close",
    "content": "<p>It always show that stacks of threads 896 and 897 are too close, but I set the\u00a0</p>\n<div>\n<div>uc_stack.ss_size = THREAD_MIN_STACK; what other reason could it be?</div>\n</div>",
    "created": "2025-09-26T01:53:07Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "it seems those two stacks are NULL",
          "comments": [
            "I looked up @202, but it seems not my issue"
          ]
        },
        {
          "content": "<p>to add some context, from 0 to 1023, I got NULL stack from 897-906</p>\n<p>(gdb) set $i=0<br />(gdb) while $i&lt;1023<br />\u00a0&gt;if (stack_array[$i] == 0)<br />\u00a0 &gt;print $i<br />\u00a0 &gt;end<br />\u00a0&gt;set $i=$i&#43;1<br />\u00a0&gt;end<br />$5 = 897<br />$6 = 898<br />$7 = 899<br />$8 = 900<br />$9 = 901<br />$10 = 902<br />$11 = 903<br />$12 = 904<br />$13 = 905<br />$14 = 906</p>",
          "comments": []
        },
        {
          "content": "Actually, it is something wrong with my thread_runnable, I didn&#39;t set a zombie to be runnable thread. Issue solved.",
          "comments": [
            "<md>I assume you mean a zombie to be **non** runnable?</md>",
            "I didn&#39;t set a zombie to be runnable, and I set it to be runnable. That fix the issue.\u00a0",
            "shouldn&#39;t zombie threads (i.e killed threads) be runnable still?",
            "killed and zombie aren&#39;t the same. zombie means they are waiting to be reaped, killed means they are allowed to run one more time and then call exit",
            "<md>Okay cool. I misunderstood you I think. For absolute clarity: zombies should be unrunnable, and killed should be runnable.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg05k0sw6j01ka",
    "subject": "what are we supposed to set uc_llink to in thread_create?",
    "content": "Also are we supposed to use uc_sigmask?",
    "created": "2025-09-26T01:17:39Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mg04wvk6m6f3w7",
    "subject": "Warning in A1",
    "content": "Are we required to eliminate all warnings for A1? I\u2019m seeing this warning in the tester log, but all tests pass. Do I need to change my code to remove this warning, or is it acceptable as is?<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00l6728es6kj%2F35d21bb5c1403f0c9fb7589c0249d72de888579bda0e796f0eea1b9d318f524b%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-09-26T00:59:39Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "So the warnings will not affect our grades?",
          "comments": [
            "<md>Correct, everyone gets those warnings. The important part is about not leaking memory.</md>",
            "<md>Yep, the student is correct. These warning will have no bearing on your grade.</md>",
            "I see. Thank you!"
          ]
        }
      ]
    }
  },
  {
    "id": "mg04tw0hgxq7at",
    "subject": "Unsure what to do with a zombie in thread_yield",
    "content": "After marking a thread a zombie, how exactly are you supposed to handle it in thread_yield if it comes in the queue. Or are you supposed to remove it from queue?",
    "created": "2025-09-26T00:57:20Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<md>One thing to check might be to just add an assertion in `thread_yield` that ensures the next thread you get from the scheduler is non-zombie / runnable? That might give you some more direction too.</md>",
          "comments": [
            "kill(SELF) = -1<br />kill(NOTFOUND) = -1<br />kill(NEGATIVE) = -1<br />kill(TOOBIG) = -1<br />kill(1) = 1<br />kill(KILLED) = 1<br />did killed thread run before exit? yes<br />kill(ZOMBIE) = 1<br />child thread 2 yields.<br />kill(2) = 2<br />did killed thread run before exit? no<br />kill(0) = 0<br /><br /><br />Additionally this shows that a killed thread is run before exiting\u00a0",
            "<md>Those two \"did it run before exit\" are to check for 1) kill before first run and then yielded to 2) run once then killed then yielded to for a second time. So you're likely not handling one of those cases correctly.</md>",
            "okay so it&#39;s the killed before first run and then yielded to test. Is the general process supposed to be thread_kill marking it, then thread_yield notices it and calls exit on it, making it a zombie and switching to a new process? Unsure why its failing when it&#39;s never run",
            "<md>You've got the right idea. The main insight is that before the thread stars running `fn`, it should realise it has been killed and exit instead.\n\nNote that nobody can \"call exit on a thread\", only the thread itself can call exit.</md>",
            "after using gdb, for some reason the new thread\u2019s state resets to READY/RUNNING (after being marked as to kill) when switching threads while the pre-existing thread maintains TO KILL state which is why the new thread never exits. unsure how exactly to fix this",
            "<md>It's possible your logic for where you change it might be flawed? So if you have a check that says \"if runnable then change state to ready/running\" that would conflict with killed as a state (because killed is also a runnable state).</md>",
            "if killed is a runnable state when would that evaluate to true? since you can only kill another thread and runnable is used to check the current thread before queuing it.\u00a0<br />(I never put killed as a runnable state so I don\u2019t see how it would change the states to running/ready there)\u00a0",
            "also unsure why this only happens with threads that haven\u2019t been run before but threads that have, maintain their state\u00a0",
            "<md>I guess this doesn't apply to you, but the logic I've seen some people do is:\n\n```\nif next is runnable:\n    Change state to ready\nHandle if next is killed\n```\nAnd so if killed is a runnable state, you lose that information.</md>",
            "<md>One thing to consider: when we call setcontext, we move to one of two places. One is in thread switch; where is the other? Do you handle \"am I killed\" in both places?</md>",
            "the thread stub?",
            "<md>Correct! That's the other place you can end up if you call setcontext. So you should ideally handle \"am I killed\" in both places.</md>"
          ]
        },
        {
          "content": "wow, this helped me so much, thank you for making it clear where to check for a thread being killed. I was only checking it in one place. Thanks!",
          "comments": [
            "<md>Glad we could help! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg03d8cd22119s",
    "subject": "Understanding automated testing",
    "content": "Sorry if this is a dumb question, but if the test fails like this<br /><br />ERROR: EOF: not found: ^1\\. stack appears to be freed after exit\\.<br /><br />Does that mean its looking for that line to be printed. And for the fcfs test, if it doesnt find that line the test fails?",
    "created": "2025-09-26T00:16:23Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg0373dpbsr7a0",
    "subject": "./test/exit",
    "content": "when we free the ZOMBIE thread, I assume we just need to free the stack and the thread itself right? For other stuff like *parg, *fn, should we free them as well?\u00a0",
    "created": "2025-09-26T00:11:37Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Since I cannot check what the previous thread is, can I just save the zombie in global and check if there is zombie everything I yield?",
          "comments": [
            "<md>That is a valid approach, yes. Just be sure not to end up with double frees or similar errors!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mg02ydzfdce32h",
    "subject": "Need help with this function",
    "content": "All of my problems come from this function and i dont know whats wrong with it;",
    "created": "2025-09-26T00:04:51Z",
    "tags": [
      "a1",
      "no_history",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mg00g65lj8557j",
    "subject": "Create.c segmentation fault",
    "content": "<md>I've gotten all my tests to pass except for create.c. I've been trying to figure out where the issue is, but nothing is working. I was hoping someone would know how I can approach debugging the issue or know what the issue could be? I'd appreciate some help, thanks!\n```\nRunning: scripts/a1-05-create.py \ncreate test\nERROR: program was killed with signal = 11\nMark for create test is 27 out of 28\nFAIL\n```\n![Screenshot_2025-09-25_at_6.50.20_PM.png](/redirect/s3?bucket=uploads&prefix=paste%2Fl7kuzvfvrmn29n%2Fd55cf667333cc036441e4f264904721bb57212552c3662378278fbbd037ee9f7%2FScreenshot_2025-09-25_at_6.50.20_PM.png)\nThis is when I run with valgrind:\n![Screenshot_2025-09-25_at_7.04.48_PM.png](/redirect/s3?bucket=uploads&prefix=paste%2Fl7kuzvfvrmn29n%2F70e3d3e7f65e96cb3cdff88f632d15041ab401b2a0f839cabfcc28e5a972f607%2FScreenshot_2025-09-25_at_7.04.48_PM.png)</md>",
    "created": "2025-09-25T22:54:41Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Hmmm, doesn't seem to hit that assert line...\nBut I noticed something strange: when TID 0 is reused and we switch to it, the `stack_allocated` field is `true` just before the `getcontext` call. Immediately after the `getcontext`, that same field flips to `false`, even though `getcontext` should only be saving into the context of the current thread (TID 1 in this case)`. Maybe I'm misunderstanding something or missing some information about reusing TID 0.</md>",
          "comments": [
            "<md>I'm assuming you don't have the issue of stack corruption? I.e. you are adding an offset to the pointer returned from malloc in thread_create?</md>",
            "<md>Yup, I do add an offset to the pointer from malloc</md>",
            "Maybe check if it is possible in your code that a thread_switch yield to a thread that has exited and with stack freed",
            "<md>I'm not sure, but now I get a different seg fault point and I'm not sure where next is becoming NULL, I debugged and checked if thread yield ever passes in a NULL pointer to thread_switch and it doesn't\n\n```\nthread 1022 created thread 1023\nthread limit reached at thread 1023\nexiting program with code 42\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x00005555555576dd in check_if_killed () at thread.c:106\n106             if (curr_thread->state == KILLED)\n(gdb) backtrace -full\n#0  0x00005555555576dd in check_if_killed () at thread.c:106\nNo locals.\n#1  0x00005555555577ce in thread_switch (next=0x0) at thread.c:146\n        __PRETTY_FUNCTION__ = \"thread_switch\"\n        switched = true\n#2  0x0000000000000000 in ?? ()\nNo symbol table info available.\n```</md>",
            "<md>Also, how is this related to allowing tid 0 to be reused? I'm asking this because the segmentation fault only occured after I allowed 0 to be reused and that is all I have to go off of other than the gdb backtrace.</md>",
            "Isthe problem solved? If not, maybe check if @248 is related",
            "<md>No, I haven't solved the problem :(\nI took a look at @248 and I'm still unsure what is happening, I only ever enqueue when the thread is runnable.</md>",
            "<blockquote>\n<p>thread_switch yield to a thread that has exited and with stack freed</p>\n</blockquote>\n<p>This might be the issue but I&#39;m not too sure where it&#39;s happening, are there any hints on how this could be happening?</p>",
            "<p>Turns out I forgot to check if the stack was NULL before I freed, but I did have an extra boolean to see if I allocated it or not. But now I don&#39;t get a segmentation fault, but I get a different exit code now:</p>\n<pre>\n<code>Running: scripts/a1-05-create.py \ncreate test\nERROR: program exited with status = 2\nMark for create test is 27 out of 28\nFAIL</code></pre>",
            "<p>Did you see any errors when you run ./test/create?</p>\n<p></p>",
            "No, but when I debug it seems like there are threads still exiting after the thread that returns 42 from\u00a0thread_1_main"
          ]
        }
      ]
    }
  },
  {
    "id": "mfzz2u5rbwm2dq",
    "subject": "READY and RUNNABLE",
    "content": "I am wondering why should we keep the status of thread RUNNING and READY, but not combine them into RUNNABLE. Since the current thread and thread in the queue are both runnable. Can I just have a global variable to track the current running thread&#xff1f;",
    "created": "2025-09-25T22:16:20Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "should we have a status UNUSED then? Since once the thread is created, they are put in the queue. If the status is UNUSED, then the thread is just simply not created.",
          "comments": [
            "<md>Again, the specific details are your choice. I've seen a variety of approaches people take, and none are necessarily better than the other!\n\nSome folks allocate the thread structs on the heap, and so they prefer using NULL for unused. Others keep it all in the global data section, and so have an \"unused\" state. In the end ~~it doesn't even matter~~ it's up to you!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfzywj3smyt69l",
    "subject": "Clarification on Producer/Consumer Semaphores",
    "content": "Hi Professor, In the slides the producer starts with <code>sem_wait(full)</code> and the consumer starts with <code>sem_wait(empty)</code>, but in the textbook it\u2019s the opposite. The two swap the meaning of \u201cempty\u201d and \u201cfull.\u201d Which convention should we follow? Thanks!<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7rtoljj5235ip%2F8ae6da613c1d02ee695a45efbd7278c6db80c685a3692c866a29d266207e1def%2Fimage.png\" alt=\"image.pngNaN\" width=\"733\" height=\"610\" /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl7rtoljj5235ip%2F0fa33c498b3b1df6292a5f5d8a75fb48a83d5180220d7618a4d6d3cb608a68c2%2Fimage.png\" alt=\"image.pngNaN\" width=\"744\" height=\"360\" />",
    "created": "2025-09-25T22:11:26Z",
    "tags": [
      "exercise",
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfzxk7nwqmh67e",
    "subject": "test/kill exited with status = 216",
    "content": "<p>I got the same output of the TA showed in @220, but one test of ./test/kill is failing because\u00a0</p>\n<pre>\n<code>program exited with status = 216</code></pre>\n<p>I don&#39;t know what does this mean.</p>",
    "created": "2025-09-25T21:33:51Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I figured out the issue. In my thread_kill, I update the RIP to thread_exit, but didn&#39;t update the RDI to be THREAD_KILLED. So the arg(exit code) that passed into the thread_exit(exit_code) is wrong.",
          "comments": [
            "<md>Well done for debugging that \\:)\n\nThat's also an interesting (but totally valid) approach to take, I don't typically see too many people doing that!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfzsjd4fd19402",
    "subject": "Is the mark on markus the final mark on this assignment",
    "content": "I have a decent score on markus. If I try to fix my exit tests, everything else breaks. I&#39;m getting cooked so hard so Im thinking do i jus hug this mark?\n\nIf anyone can help tho, I&#39;m just confused as to what the exiting flow should be. If you yield to a zombie thread, its supposed to free the stack but not destroy it? I just need some leads",
    "created": "2025-09-25T19:13:14Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>As for the help: the idea is that if you have an exiting thread, it needs to yield to \"any other thread\". Whatever this next thread is, it should free the stack of the previous thread (i.e. the one that exited). There are a couple different places this next thread could start running when we call setcontext, so you need to handle this in all those places.</md>",
          "comments": []
        },
        {
          "content": "nvm answered in the Instructor note.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfzphejkv4w1i3",
    "subject": "thread exit Markus",
    "content": "<p>Been seeing the error below on markUs for my exit tests, but I make sure I destroy the current thread (and free memory starting at the beginning of the TCB stack) after it gains control post yielding to the next available thread, so I&#39;m not sure why I ain&#39;t passing these :(</p>\n<pre>\n<code>\nRunning: scripts/a1-07-exit.py \nexit test\nERROR: EOF: not found: ^1\\. stack appears to be freed after exit\\.\n\nERROR: EOF: not found: ^wait\\((\\d&#43;)\\) = 0\n\nERROR: EOF: not found: ^2\\. stack appears to be freed after exit\\.\n\nMark for exit test is 0 out of 5\nFAIL</code></pre>",
    "created": "2025-09-25T17:47:43Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Seeing the same thing on local",
          "comments": [
            "<md>What is the output when you run it? Like when you run `test/exit`?</md>",
            "<pre>\n1. it appears that a thread&#39;s stack is not freed after exit\nwait(1) = 0\n2. it appears that a thread&#39;s stack is not freed after exit</pre>",
            "<md>I want to clarify what you meaning your post by \"destroy the thread\". The idea is that when a newly-zombified thread (or more simply, a recently exited thread) yields, the next thread that is chosen to run should free the zombie thread's stack. Destroying the thread is not something you need to do (it is done by thread_wait).</md>",
            "&lt;333333333333333 that was it. Passing exit now, tysm :)",
            "<md>Well done for figuring it out! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfzpbchml0u496",
    "subject": "create.c yielding",
    "content": "In create.c, thread 0 yields to thread 1 so that it can check_my_tid. Is thread 1 supposed to continue executing the main function, since thread_stub only contains the initial function before it calls exit?",
    "created": "2025-09-25T17:43:01Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfzoualtgf31w1",
    "subject": "Stack too close",
    "content": "<p>While running main, I run into an issue where my threads have a stack that is too close together. First I allocate THREAD_MIN_STACK to a pointer and then do stack &#43; THREAD_MIN_STACK &#43; alignment, to get to the top of the stack and aligning it. When I run main, I get that my stack is nil.</p>\n<p></p>\n<p>How do I ensure that I dont get this issue?<br /><br /></p>",
    "created": "2025-09-25T17:29:45Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfznz6use3g2u5",
    "subject": "./test/create result",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllzmgufu7o0523%2F45ed0699fc24290f68310f133ed61937e71bc9418f1e8b79e25ed7299bd4aa28%2Fimage.png\" alt=\"image.png\" /></p>\n<p></p>\n<p>im not sure why this bugs appears or how to fix it i believe it may be due to my yield function but could it be something else ?\u00a0</p>",
    "created": "2025-09-25T17:05:34Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I fixed that issue of marking them as reusable and you&#39;re right it was THREAD_NOMORE but after I fixed that nothing changed I got the exact same output in the test even though I keep track and mark tids as reusable.",
          "comments": [
            "hey did you figure it out? running into the same problem",
            "<md>This specific assertion being hit means you're getting an error returned from thread_create. Using GDB, you can find what error it was, and that might be helpful?</md>",
            "I already found out that it indeed was THREAD_NOMORE so i suspected it was like you said, my TIDs not being freed but after I added that functionality I still wasn&#39;t able to solve it and got the same issue so I&#39;m confused.",
            "just solved it, it was a off by one error for me that was caused by wrong checking of the number of threads"
          ]
        },
        {
          "content": "<p>thread 1021 created thread 1022<br />thread 1022 created thread 1023<br />thread limit reached at thread 1023<br />exiting program with code 42<br />[Inferior 1 (process 49230) exited with code 052]<br /><br />I got here and have gotten this</p>\n<pre>\n<code>ERROR: EOF: not found: ^thread (\\d&#43;) created thread (\\d&#43;)\n\nERROR: EOF: not found: ^thread limit reached at thread (\\d&#43;)\n\nERROR: EOF: not found: ^exiting program with code 42\n\nMark for create test is 24 out of 28\nFAIL</code></pre>\n<p><br /><code>and i feel so close yet so far, could i get some hints on this TT</code></p>",
          "comments": [
            "<md>This looks like an off by one type of error. When you search for a valid TID, do you start at 0 or 1?</md>",
            "I started at 1",
            "Should I start at 0..",
            "Okay after I started at 0, the test works but is it actually because I reaped 0 somewhere?\u00a0<br /><br />But when I actually search for a free TID i should be starting at 1?",
            "<md>So the way the \"shoulder stand\" part of the test works is that thread 0 creates thread 1, and then thread 0 exits. Thread 1 then creates and waits for a thread, and that thread creates and waits for a thread etc. This is like a sort of stack of threads waiting for each other, and once we hit the thread limit, they all come tumbling down (returning from wait and exiting). \n\nThe important part is the tester expects there to be 1024 prints, because all the IDs from 0-1023 are free (0 is free because the \"original\" main function exited).</md>",
            "<md>Just for clarity: any thread ID from 0-1023 should be usable if it is free. It just so happens that _most of the time_, thread 0 is the one that \"lives the longest\" (I.e. first one and also is responsible for cleanup at the end) and so the TID 0 is not reused. But that's not a rule, it's just a pattern that happens in some of the tests.</md>",
            "Ohhhhhhhhhhhhhhhhhhh, THANK YOU SO MUCHHHHHH.\u00a0<br /><br />PLEASE TAKE A REST ITS 10:38pm now but THANK YOU!!!!",
            "<md>Well done for fixing it by the way! \\:)\n\n> PLEASE TAKE A REST ITS 10:38pm now but THANK YOU!!!!\n\nI appreciate the concern :) (It is 00:04 whoops)</md>"
          ]
        },
        {
          "content": "It means it can&#39;t find these at the end of my file right but when I run<br /><br />gdb test/create I get<br /><br />thread 1022 created thread 1023<br />thread limit reached at thread 1023<br />exiting program with code 42<br />[Inferior 1 (process 19068) exited with code 052]<br /><br /><br /><br />",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfzmy1gzn223vc",
    "subject": "Purpose of thread_end?",
    "content": "What is the purpose of thread_end? It says to assume that all threads are either freed or zombies but currently I remove freed threads from my thread table I&#39;m maintaining of all threads. Also, is it possible for zombie threads to still have their stack allocated when thread_end is called? Also is it possible that once a trhead becomes a zombie that thread_end can be called right away?",
    "created": "2025-09-25T16:36:41Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfzlannpyv967e",
    "subject": "create.c thread yielding twice",
    "content": "stack appears to be dynamically allocated.<br />switches to functionmy_tid: 1, actual = 1<br />my_tid: 1, actual = 0<br />create: test/create.c:118: main: Assertion `ret == tid&#39; failed.<br />Aborted<br /><br />When my thread switches to tid = 1, it runs function that&#39;s supposed to return the tid and then switches back to tid = 0, causing an assertion failure.\u00a0",
    "created": "2025-09-25T15:50:30Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "It&#39;s switching to tid = 1 and running check_my_tid. As soon as it&#39;s done, it calls thread_exit (through the thread_stub), which switches to tid = 0 without executing the rest of main, resulting in the assertion error.",
          "comments": [
            "Did you fix this? I think I have a similar situation. But this only occurs when I try to free my thread structure.\u00a0 so weird.\u00a0",
            "<md>Anon Calc:\n\nI'm not sure why thread 0 would be executing the check my TID function. That function was only assigned to thread 1 to run. I have a feeling there might be some context corruption going on here? You might accidentally be writing into both the thread 0 and the thread 1 contexts instead of just the thread 1 context.</md>",
            "<md>Yanling Cai:\n\nWhen are you attempting to free your thread structure? That is something that should only be done by thread_wait (via a call to thread_destroy).</md>"
          ]
        },
        {
          "content": "<p>having the same exact issue\u00a0</p>\n<p></p>\n<p>Ive been trying to debug this for last couple of hours</p>",
          "comments": [
            "i was just returning the wrong tid in my case lol so it seemed like they were executing two different threads at once"
          ]
        }
      ]
    }
  },
  {
    "id": "mfzkg4w32rfj8",
    "subject": "in main.c, why should thread be invalid when attempting to destroy itself?",
    "content": "My TA and I are confused",
    "created": "2025-09-25T15:26:46Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfzjv24xp8m22t",
    "subject": "Question about valgrind kill test",
    "content": "I get this result from valgrind:\n\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F40deb7fd3560ec2c3fd7770fe62330aaee33c7644b952e5d88f7661b77f14a65%2Fimage.png\" alt=\"image.png\" />\n\nBut my kill.c test on markus is 8/14. And it says I exit with a signal 11. I dont understand?",
    "created": "2025-09-25T15:10:23Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfzfu3x0uoz3km",
    "subject": "OH Going to Happen?",
    "content": "<p style=\"text-align:left\">Saw there were OH for 9am, room is locked and no one is there.<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkt8t26sjl525mp%2F9c6734879691fbe8d83cca7e2953a0e5733eace6cbce28978d2c95543b794c31%2Fimage.png\" alt=\"image.png\" width=\"277\" height=\"199\" /></p>",
    "created": "2025-09-25T13:17:40Z",
    "tags": [
      "logistics",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfzffx8ceb92ly",
    "subject": "Office hours location for Sherwin",
    "content": "Hello this is my first time attending office hours and I just wanted to confirm, is Sherwins office hours being held from 11-1 today at BA2270?",
    "created": "2025-09-25T13:06:38Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfz5hycxbbx6dq",
    "subject": "Three questions about A1",
    "content": "Here are my questions:<br />1. do we assume that the main thread will eventually call thread_exit() at the end, or it will just finish all the code and then return implicitly (in this case all the running threads will be shut off right?)?<br />2. if a thread calls thread_exit() while no threads are in ready_queue (i.e. other threads may be blocked or zombies etc.), do we treat the calling thread as the final thread and call ut369.exit()?<br />3. if the final thread is calling thread_exit(), since its stack must be freed first before calling ut369.exit(), how would that be possible (because we have to make sure the calling thread is running before calling ut369.exit() in order to pass in the exit_code) ?",
    "created": "2025-09-25T08:28:17Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thanks so much for your clarification. In fact I was thinking something similar to your response to the third question but I remember that the comment on the function we wrote says we may assume all threads are either freed or in zombie state when the function is called, which makes me think the final thread&#39;s stack should be freed before that function (as well as ut369_wait) is called, so I can&#39;t free that stack inside the function, otherwise the assumption is broke. That&#39;s how I actually got stuck there.",
          "comments": [
            "<md>Yeah, it's a little hard to see. But when the setcontext call in ut369_exit is executed, we move away from the stack of the caller to a different stack. That means any of the functions called after that setcontext call are executing on a different stack, so we are allowed to free the stack of the thread ourselves.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfyx003m5ng3gx",
    "subject": "what if a killed thread can&#39;t be scheduled due to a full queue?",
    "content": "do we just return THREAD_NOMORE in this case, or THREAD_INVALID?",
    "created": "2025-09-25T04:30:22Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfytz43ye9f3n6",
    "subject": "kill.c testing",
    "content": "I thought i got the testing down but on markus i got:\n\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2Faba0996f1f6f40aacaef38b8d2810612ae3b7138883b6537be987770e7902e3a%2Fimage.png\" alt=\"image.png\" />\n\nmy terminal output is like this:\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F88df3e30eec462b1d79fe00d5d2d221a45455a1052dd66c3dfa01bb4f7934ed7%2Fimage.png\" alt=\"image.png\" />\n\n\ni dont really know how to debug this issue i thought my program terminated fine",
    "created": "2025-09-25T03:05:42Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Wait killing killed and zombie threads isnt invalid?",
          "comments": [
            "<md>Killing an exited thread is fine, and does nothing (as the handout details). Killing a killed thread just means marking it to exit again, which is sort of pointless, but still valid.</md>"
          ]
        },
        {
          "content": "Also is it possible to post the desired output when running kill test itd help a lot",
          "comments": [
            "<md>```\nkill(SELF) = -1\nkill(NOTFOUND) = -1\nkill(NEGATIVE) = -1\nkill(TOOBIG) = -1\nkill(1) = 1\nkill(KILLED) = 1\ndid killed thread run before exit? no\nkill(ZOMBIE) = 1\nchild thread 2 yields.\nkill(2) = 2\ndid killed thread run before exit? no\nkill(0) = 0\n```\n\nI believe the numbers aren't strictly required to be the same (the third last line could have a different ID for example).</md>"
          ]
        },
        {
          "content": "OKok, but zombie and killed thread should both js return the respective tid? i was returning invalid",
          "comments": [
            "<md>Yes. You only return THREAD_INVALID when the victim is a non existent thread or the current thread (the handout details this I believe?).</md>"
          ]
        },
        {
          "content": "so im kind of stuck rn, where should i go from here\n\nRunning: scripts/a1-04-kill.py \nkill test\nERROR: EOF: not found: ^child thread (\\d&#43;) yields.\n\nERROR: EOF: not found: ^kill\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(0\\) = 0\n\nERROR: program was killed with signal = 11\nMark for kill test is 8 out of 14\nFAIL\n\nlike my output matches what you sent but I don&#39;t know where the other marks are",
          "comments": [
            "<md>The signal 11 means your code hits a segfault somewhere.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfysisen28z42z",
    "subject": "Are we supposed to modify uc_stack of our thread contexts?",
    "content": "<md>e.g. should we set uc_stack.ss_size?</md>",
    "created": "2025-09-25T02:25:01Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Is this only for uc_stack.ss_size?",
          "comments": [
            "<md>You don't need to modify anything in `uc_stack` at all.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfyshg7oav4uj",
    "subject": "test/create",
    "content": "<p>I test/create doesn&#39;t work as expected, it doesn&#39;t fail, but it seems doesn&#39;t run completely, this is all I got from /test/create, what could the problem be?</p>\n<p></p>\n<p>wolf:~/luping4-10/A1$ ./test/create<br />stack appears to be dynamically allocated.<br />my_tid: 1, actual = 1</p>",
    "created": "2025-09-25T02:23:58Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "It exits: [Inferior 1 (process 18831) exited normally]",
          "comments": [
            "<md>It's possible that you're hitting the \"call ut369_exit if no threads left in the system\" case of thread_exit too early?</md>"
          ]
        },
        {
          "content": "Just a follow-up on this, but what do you mean too early if there aren&#39;t any threads left in the system?\u00a0",
          "comments": [
            "<md>thread_exit is supposed to call ut369_exit if there are no more threads left in the system (I.e. everything is a zombie or unused). If your detection logic for this is faulty, you might call ut369_exit prematurely, and shutdown while there are still threads to run.</md>",
            "<p>I got this after the setcontext call:\u00a0</p>\n<pre>\nint error = setcontext(&amp;next-&gt;thread_context); // Context switch \n(gdb) next\nmy_tid: 1, actual = 1\n[Inferior 1 (process 40037) exited normally]</pre>",
            "<md>It might be helpful to set a breakpoint in thread_exit at the ut369_exit call, and see if / when you hit that?</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfys66vb6rc3yq",
    "subject": "fcfs test MarkUs",
    "content": "<p>My output when I run the fcfs test:<br /><br />thread_stub running for tid 1<br />thread_stub running for tid 2<br />thread_stub running for tid 3<br />thread_stub running for tid 4<br />thread_stub running for tid 5<br />thread_stub running for tid 6<br />thread_stub running for tid 7<br />thread_stub running for tid 8<br />thread_stub running for tid 9<br />FCFS scheduler is working.<br /><br /></p>\n<pre>\n<code>Running: scripts/a1-03-fcfs.py \nfcfs test\nERROR: EOF: not found: ^FCFS scheduler is working.\n\nMark for fcfs test is 0 out of 5\nFAIL</code></pre>\n<p><br /><code>This is what MarkUs gives me. Can&#39;t figure out what I&#39;m doing wrong.</code></p>",
    "created": "2025-09-25T02:15:13Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>I&#39;m also running into this lol, even on local it says</p>\n<pre>\nfcfs: queue.c:67: queue_push: Assertion `!node_in_queue(node)&#39; failed.\nAborted</pre>\n<p>wondering if the behavior for a queue that&#39;s already a member of another thread is different for A1 than it was in A0 (i.e do I need to replace the assert with smth else)<br />EDIT: issue was in thread_kill.</p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfyrxo3lqdo5rl",
    "subject": "Midterm 1 Coverage Reduction",
    "content": "<md>Hi everyone,\n\nBecause the afternoon sections will not be able to complete L8: Deadlock, it will not be included in the upcoming midterm (midterm 1).\n\nMidterm 1 will cover lecture material from L1 to L7 only.\n\nLet me know if you have any questions.\n\nBest,\n\nJack</md>",
    "created": "2025-09-25T02:08:35Z",
    "tags": [
      "instructor-note",
      "midterm1",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfyqcvrglfx4ca",
    "subject": "Infinite loop get/setcontext",
    "content": "I am getting an infinite loop in thread_switch when i try to call get and set context for the kill.c test file...\n\ni have been debugging for hours and I dont know what to change anymore.",
    "created": "2025-09-25T01:24:26Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "are u specifically referring to the volatile variable thing?",
          "comments": []
        },
        {
          "content": "<md>Yep</md>",
          "comments": [
            "im abt to cook holon",
            "<md>:cook:</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfypgxd1wwr3gb",
    "subject": "Can OH be hosted via Zoom tomorrow?",
    "content": "I wont be able to make it to university tomorrow so I was wondering if any of the OH can be hosted online?",
    "created": "2025-09-25T00:59:35Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I am going to need something sooner sir, I am struggling with this assignment.",
          "comments": [
            "<md>Unfortunately I don't think we can have an online OH with such short notice. I'm happy to help over Piazza as much as possible, and I think you might have to use a grace token or two for this, but there's lots of OH on Monday and Tuesday as well.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfyor3jtspt67d",
    "subject": "Can&#39;t View G3 Answers after submission",
    "content": "<md>For G3, is there a way to be able to see what we've answered after we have submitted? \n\nThanks!</md>",
    "created": "2025-09-25T00:39:30Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfyoqbexus954s",
    "subject": "When is `check_my_rbp` in `A1/test/create.c` ever supposed to return?",
    "content": "<md>When is `check_my_rbp` in `A1/test/create.c` ever supposed to return? My test is running infinitely because of the `while(true)` that never breaks...\n```\nvoid check_my_rbp(const char * name)\n{\n\u00a0 \u00a0 int ret = thread_id();\n\u00a0 \u00a0 char str[28];\n\n\u00a0 \u00a0 printf(\"hello, %s\\n\", name);\n\n\u00a0 \u00a0 /* we cast ret to a float because that helps to check\n\u00a0 \u00a0 \u00a0* whether the stack alignment of the frame pointer is correct */\n\u00a0 \u00a0 sprintf(str, \"%3.0f\", (float)ret);\n\n\u00a0 \u00a0 while (true) {\n\u00a0 \u00a0 \u00a0 \u00a0 ret = thread_yield(THREAD_ANY);\n\n\u00a0 \u00a0 \u00a0 \u00a0 /* thread 0 should be alive throughout this test */\n\u00a0 \u00a0 \u00a0 \u00a0assert(thread_ret_ok(ret >= 0));\n\u00a0 \u00a0 }\n}\n```</md>",
    "created": "2025-09-25T00:38:53Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>I don't understand, do you mean that the thread in the infinite loop will yield to thread 0 which will kill the thread in the infinite loop?</md>",
          "comments": [
            "<md>Yes. The idea is that \"at some point\" (which is really defined by the scheduler being used) thread 0 gets to run again. And that goes into the loop and, for each thread, calls kill on it and then calls wait to reap it.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfynznmxdg24w0",
    "subject": "Ready Queue in A1",
    "content": "Is the ready queue supposed to be implemented as a new global variable in thread.c? I&#39;m confused because there&#39;s a ready_queue variable in fsfs.c and rand.c, but I don&#39;t understand how to enqueue to them from the thread.c file.",
    "created": "2025-09-25T00:18:09Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfyk2hixu9hq",
    "subject": "thread_yeild",
    "content": "I dont understand thread_yeild behaviour. The test expects us to let it run killed threads. Can it run zombies? \n\nis it like every thread that is runnable , should be yieldable?",
    "created": "2025-09-24T22:28:23Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfyjfabk2t16rh",
    "subject": "Question about kill test line 68",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F04cea0bbc4a44fbb0b766ce99c9400d486aaafef45c7f8549467d46f5ae8f299%2Fimage.png\" alt=\"image.png\" />\n\nwhy should the ret value be the tid of the thread thats already been killed. Secondly, why does my test just hang here?",
    "created": "2025-09-24T22:10:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfyia9ec6sc6tr",
    "subject": "create.c exiting immediately",
    "content": "stack appears to be dynamically allocated.<br />thread_stub running for tid 1<br />my_tid: 1, actual = 1<br />thread_stub finished tid=1<br /><br />I am queuing tid = 0 before switching so I can&#39;t tell why it decides to just exit.\u00a0",
    "created": "2025-09-24T21:38:26Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "never mind, it&#39;s giving me a segmentation fault there instead of exiting now. Is it likely to be how the thread is initialized/offset?",
          "comments": [
            "<md>Possibly, or your code might be \"falling off the end\" of thread_exit?</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfydn5xy4df4py",
    "subject": "yield test problem",
    "content": "<p>I got yield test result like this</p>\n<p>hello: hi again<br />hello: hi again<br />repeat: yield(1) = 1<br />repeat: yield(ANY) = -3<br />repeat: yield(ANY&#43;KILLED) = -3<br />repeat: yield(ANY&#43;ZOMBIE) = -3<br />hello: sayonara<br />once: yield(ANY) = 2<br />repeat: yield(ANY&#43;FREED&#43;ZOMBIE) = -3<br />repeat: yield(1) = -1<br />main: yield(NEGATIVE) = -1<br />main: yield(TOOBIG) = -1<br />main: yield(NOTFOUND) = -1<br />main: yield(0) = 0<br />victim: yield(1) = 1<br />victim: yield(1) = -1<br />victim: yield(ANY) = -3</p>\n<p>and on the markus it shows</p>\n<pre>\n<code>yield test\nERROR: EOF: not found: ^repeat: yield\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^hello: hi again\n\nERROR: EOF: not found: ^repeat: yield\\(ANY\\) = None\n\nERROR: EOF: not found: ^repeat: yield\\(ANY\\&#43;KILLED\\) = None\n\nERROR: EOF: not found: ^repeat: yield\\(ANY\\&#43;ZOMBIE\\) = -3\n\nERROR: EOF: not found: ^hello: sayonara\n\nERROR: EOF: not found: ^once: yield\\(ANY\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^repeat: yield\\(ANY\\&#43;FREED\\&#43;ZOMBIE\\) = -3\n\nERROR: EOF: not found: ^repeat: yield\\(None\\) = -1\n\nERROR: EOF: not found: ^main: yield\\(NEGATIVE\\) = -1\n\nERROR: EOF: not found: ^main: yield\\(TOOBIG\\) = -1\n\nERROR: EOF: not found: ^main: yield\\(NOTFOUND\\) = -1\n\nERROR: EOF: not found: ^main: yield\\(0\\) = 0\n\nERROR: EOF: not found: ^victim: yield\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^victim: yield\\(None\\) = -1\n\nERROR: EOF: not found: ^victim: yield\\(ANY\\) = (\\d&#43;)\n</code></pre>\n<p>I tried to change it but it shows even worse result than this..</p>",
    "created": "2025-09-24T19:28:30Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "never mind, i see @183 and fixed it.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfycdja8fdp4cw",
    "subject": "thread_yield &#34;calling thread remains runnable&#34;",
    "content": "I&#39;m confused how the thread would be rendered unable to run while executing thread_yield\u00a0<em>before</em> we context switch to the thread we&#39;re yielding to? isn&#39;t the current thread always going to be runnable in that case, so we always schedule it?",
    "created": "2025-09-24T18:53:02Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "can the current_thread ever be runnable after thread_exit though?",
          "comments": [
            "<md>No it shouldn't be runnable. \n\nBut whether or not thread_yield should handle that depends on how you implement the \"If there are other threads in the system, one of them should be run\" part of thread_exit.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfybghe0ffx68k",
    "subject": "Q on thread_exit",
    "content": "&#34;A thread that is created later should be able to reuse this thread&#39;s identifier, but only after this thread has been reaped (via\u00a0<code>thread_wait</code>). &#34; does this mean that a thread must have wait called on it at least once before it can be exited?",
    "created": "2025-09-24T18:27:19Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfy8yjsou92125",
    "subject": "i can&#39;t connect to vscode ssh",
    "content": "I get this prompt\n\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F76fec65b449bd9bae3b8ac1b036ae33e6dbcb954d6294fa09b0f77b8f358d3dd%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-09-24T17:17:24Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfy4qf6zfoo5iw",
    "subject": "Create test fail",
    "content": "<p>Hi,<br /><br />I have failed the create test, and from my logfile, I received this error:</p>\n<pre>\n<code>Running: scripts/a1-05-create.py \ncreate test\nERROR: EOF: not found: ^thread (\\d&#43;) created thread (\\d&#43;)\n\nERROR: EOF: not found: ^thread limit reached at thread (\\d&#43;)\n\nERROR: EOF: not found: ^exiting program with code 42</code></pre>\n<p><br />From a previous piazza post, I understand that the issue might be me missing a line of standard output.\u00a0<br /><br />By comparing output with the TA this morning, I found out the mismatch is happening at the point. Here, 1023 thread should create thread 0. <br /><br />Any suggestions where could the problem be? I have <span style=\"text-decoration:underline\">not</span> hard coded my thread_create to only have non-zero tid&#39;s. <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkthyynklwuk6xy%2Ffc890d9a507e9f5febdbafa6878b788293d9947c8f79d60b60781c14e3861713%2Fimage.png\" alt=\"image.png\" /><code></code></p>",
    "created": "2025-09-24T15:19:06Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfy1b8sp2w97lw",
    "subject": "stacks to close error when running create.c test",
    "content": "<md>```text\nhello, thread 57\nhello, thread 89\nhello, thread  3\nhello, thread 110\nhello, thread 82\nhello, thread 63\nhello, thread 12\nhello, thread 64\nhello, thread 39\nhello, thread 109\nhello, thread 18\nhello, thread 29\nhello, thread 38\nhello, thread 86\nrbp alignment test completed.\ncreating 1023 threads\nrunning 1023 threads\nstacks of threads 3 and 4 are too close\ncreate: test/create.c:186: main: Assertion `0' failed.\nAborted\n```\n\n\nI am getting this error when I run .create.c test with rand. Is this a stack alignment issue in thread_create?</md>",
    "created": "2025-09-24T13:43:19Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>```text\nBreakpoint 1, main () at test/create.c:184\n184                                     printf(\"stacks of threads %d and %d \"\n(gdb) print ii\n$1 = 3\n(gdb) print jj\n$2 = 4\n(gdb) print stack_sep\n$3 = 0\n(gdb) print stack_array[ii]\n$4 = (long *) 0x0\n(gdb) print stack_array[jj]\n$5 = (long *) 0x0\n(gdb) print THREAD_MIN_STACK\nNo symbol \"THREAD_MIN_STACK\" in current context.\n```\nWhen the failure happens (stacks of threads 3 and 4 are too close), I paused in GDB and checked stack_array[3] and stack_array[4]. Both were NULL, so the stack_sep calculation became 0. My understanding is fact() is supposed to write an address into stack_array[tid], it looks like those threads never actually ran to set their entries. Not sure if this is directly related to the failure, but I thought it might be useful context.\n\nI'm a little lost about why this is happening.</md>",
          "comments": []
        },
        {
          "content": "<md>figured it out, thanks for your help</md>",
          "comments": [
            "<md>Just to help other students, would you mind telling us what the error was?\n\n(I say \"to help other students\", it is mainly for my curiosity!)</md>",
            "<md>Of course! \n\nThe failure happened because my iintial assumption was I could use stackp == NULL and the global in_queue to determine if this thread was still alive/zombie. That broke in two cases: (1) tid 0 always has a NULL stack since it uses the process stack, so I couldn\u2019t tell if it had exited, and (2) with the RAND scheduler, in_queue isn\u2019t maintained, so a finished thread could still look runnable. \n\nTo my understanding, the effect was that some threads never actually ran fact() to write into stack_array[tid], leaving entries NULL. when the test compared stack addresses, two NULLs looked would result in that too close error. \n\nTo be honest I was confused and just took the lazy way out and added an explicit zombie flag in the TCB, set it in thread_exit, and used that in thread_runnable. That gave a consistent, scheduler independent way to know when a thread is done, so RAND stopped picking dead threads and the stack-spacing check passed.</md>",
            "<md>Your \"lazy way out\" is a good approach, and how I would probably do it too! \n\nWell done for debugging all of that! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfxkwgoqtjs7ce",
    "subject": "Freeing Thread Stack",
    "content": "<p>Responses to similair posts about where to free the stack here on piazza revolve around how we should free As stack when B resumes but before B resumes in its assigned function.\u00a0</p>\n<p></p>\n<p>I dont understand that because isnt a setcontext() call supposed to resume B from where it yielded or to thread_stub if its a new thread. I dont understand how to capture that middle ground where A isnt running, B is running but is not in its assigned function.</p>",
    "created": "2025-09-24T06:03:55Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Wait, is that be design or do we have to implement &#34;B resuming from some function inside thread.c&#34;. For new threads I understand its the stub function, what about for older threads?</p>\n<p></p>\n<p>Also follow up, i have the getcontext() and setcontext() logic in thread_switch, is that ok or would that be problematic for what we are discussing?</p>",
          "comments": [
            "<md>I'll throw that question back to you: on the first run, setcontext caused the thread to start in the stub. What happens on subsequent runs? Where did the thread save the context (i.e. call `getcontext`) last?\n\n> Also follow up, i have the getcontext() and setcontext() logic in thread_switch, is that ok or would that be problematic for what we are discussing?\n\nThis is okay.</md>",
            "The thread saved its context in thread switch. This is where it called get_context()",
            "<md>Exactly, and so that's where it resumes from. So for new threads, we \"resume\" from the `thread_stub` function, and for older threads we resume from the `getcontext` call in `thread_switch`.</md>",
            "Thank you so much! It worked.",
            "<md>Well done! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfxflpa0rbi3t4",
    "subject": "Thread_kill expected behaviour",
    "content": "This part in the kill.c test was a little confusing to me. We first call thread_kill on the thread we created (twice). But eventually, we try to yield with the killed thread? So we switch to a killed thread. This shouldnt run its on function, but we still return from thread_yield with its ID? Where should we handle trying to switch to a killed thread?<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fff8bd7df05669f5476d86f865530c9ce9fe0a18a831886631832e5b801e3c7ab%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-09-24T03:35:35Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfxfgyand792un",
    "subject": "Help with thread_yield",
    "content": "<p>Im not sure why I can&#39;t seem to get thread_yield to work this is what i get after doing the ./yield test\u00a0<br />hello: hi again<br />hello: hi again<br />hello: hi again<br />hello: hi again<br />hello: hi again<br />infinitely printing this statement<br /><br /></p>\n<p>is this due to my incorrect usage of set/getcontext or is this another issue\u00a0</p>",
    "created": "2025-09-24T03:31:54Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>I\u2019m getting the same issue. Running the tests with fcfs works perfectly. But rand gets me the same infinite loop for yield tests</md>",
          "comments": [
            "<md>nvm fixed it. issue was with which queue functions i was calling</md>",
            "sorry how did you fix it? what did you change?\u00a0",
            "running into the same problem"
          ]
        }
      ]
    }
  },
  {
    "id": "mfxc3oq12x3mz",
    "subject": "Create test not yielding back to main thread?",
    "content": "My create test is failing, and I&#39;m unsure what the cause is / how to approach this.<br /><br />It passes the initial assertions, then it creates the 128 threads properly. I addded debugs and I get<br /><em>Created thread 1 with tid 1</em><br /><em>....</em><br /><em>Created thread 128 with tid 128</em><br /><br />But then I call the first yield:<br /><em>About to yield to thread 0 (tid=1)<br /><br /><br /></em>And then I just get the following and it hangs:<br /><br /><em>hello, thread \u00a00</em><br /><em>hello, thread \u00a01</em><br /><em>...</em><br /><em>hello, thread 126</em><br /><em>hello, thread 127</em><br /><br />What is the expected output?",
    "created": "2025-09-24T01:57:36Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "But that&#39;s after. It should still call thread_yield multiple times, right? It&#39;s calling it once and in that one time calling it ends up iterating through all the threads.<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fea908fb8dccbc7f08b096a7e2e49d26cd35323bc4aed9dac6d593debae64dff0%2Fimage.png\" alt=\"image.png\" /><br />this part never runs. Im not exactly sure what the issue is\u00a0",
          "comments": [
            "<md>Not seeing any output from the other yields is normal, because all the threads are setup to print something only the first time they run.\n\nHowever, not seeing your print statements is an issue. It seems like you might not be putting the initial thread into the scheduler in `thread_yield`? Or what's also possible is that you do put it back in, but you don't correctly handle the \"second return\" of `getcontext`?</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfx6wo7ggi94p4",
    "subject": "create test printing my_tid: 1, actual = 1 forever",
    "content": "Hi I need help debugging this",
    "created": "2025-09-23T23:32:11Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "could you provide more information as to what part of the code you changed that led to this behavior? It sounds like the first thread created for the check_my_tid function gets re-run time after time.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfx6e0okpa37nk",
    "subject": "Weekly Resume Reviews",
    "content": "<p>Hi everyone,</p>\n<p></p>\n<p>Starting September 22, DCS Ambassadors (upper-year CS students with experience in tech internships and research) will be hosting weekly resume review sessions to support students applying for internships and new grad opportunities.</p>\n<p></p>\n<p>Get feedback on your resume from peers who have gone through the process themselves!</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fishx6bpf65u1nv%2Fe617b487a71b7d9a521bdb0f6ec4215f5f6b9d35fe144c25a30d2bd29679e1b5%2Fdcs-ambassador.png\" width=\"2667\" height=\"1493\" alt=\"\" /></p>\n<p></p>",
    "created": "2025-09-23T23:17:40Z",
    "tags": [
      "instructor-note",
      "logistics",
      "pin"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfx0xb40mb34uf",
    "subject": "Valgrind Memory Leak",
    "content": "<p>I&#39;m stuck on this memory leak for the whole day and could not find the last allocs that is not freed.\u00a0</p>\n<p>Based on the size 1016 bytes, it should be a stack that i dont free?\u00a0</p>\n<p>Thank you!</p>\n<p></p>\n<p>==39644== HEAP SUMMARY:<br />==39644== \u00a0 \u00a0 in use at exit: 1,016 bytes in 1 blocks<br />==39644== \u00a0 total heap usage: 9 allocs, 8 frees, 111,584 bytes allocated<br />==39644==\u00a0<br />==39644== 1,016 bytes in 1 blocks are definitely lost in loss record 1 of 1<br />==39644== \u00a0 \u00a0at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)<br />==39644== \u00a0 \u00a0by 0x10A6FF: thread_create (thread.c:302)<br />==39644== \u00a0 \u00a0by 0x1094B1: main (exit.c:48)<br />==39644==\u00a0<br />==39644== LEAK SUMMARY:<br />==39644== \u00a0 \u00a0definitely lost: 1,016 bytes in 1 blocks<br />==39644== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks<br />==39644== \u00a0 \u00a0 \u00a0possibly lost: 0 bytes in 0 blocks<br />==39644== \u00a0 \u00a0still reachable: 0 bytes in 0 blocks<br />==39644== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks<br />==39644==\u00a0<br />==39644== For lists of detected and suppressed errors, rerun with: -s<br />==39644== ERROR SUMMARY: 29 errors from 25 contexts (suppressed: 0 from 0)</p>",
    "created": "2025-09-23T20:44:43Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<div>\n<div>Line 302 of thread.c allocates memory for a new thread.\u00a0</div>\n</div>\n<p></p>",
          "comments": [
            "<md>It seems like the student answer might be right then? You may be allocating a new thread struct, then checking for an available TID. When that check fails, you forget to free the thread struct you allocated earlier.</md>",
            "<p>Thank you.\u00a0</p>\n<p>But I make sure that there is an available TID first before allocating the memory.\u00a0 \u00a0This bug is too hard to fix.\u00a0</p>\n<p></p>",
            "I fixed it! Thank you!!!",
            "<md>Just for other students (I'm going to be honest, it's mainly for my curiosity!), what was the bug?</md>",
            "<p>REVISED.\u00a0</p>\n<p>Actually it&#39;s that I did not free the initial thread at thread_destroy</p>\n<p></p>\n<p>But then, if i freed the initial thread, my ./create would fail at\u00a0</p>\n<p>init thread reaped<br />create: thread.c:484: thread_wait: Assertion `ret == tid&#39; failed.\u00a0\u00a0</p>\n<p></p>\n<p>fix one bug and then introduce another bug.\u00a0</p>",
            "I&#39;m having this problem too!!\u00a0<br />1,032 bytes in 1 blocks are definitely lost in loss record 1 of 1<br />==820== \u00a0 \u00a0at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)<br />==820== \u00a0 \u00a0by 0x10AEEE: thread_create (thread.c:289)<br />==820== \u00a0 \u00a0by 0x1099F5: main (main.c:118)<br /><br />If you find a fix, please let me know...",
            "ok, will let you know.\u00a0 I&#39;m stuck at 75/80.\u00a0",
            "I am also stuck at 75/80 with the same ret==tid failure lol, any tips?",
            "I want to help but I can\u2019t be 100% sure what I did to fix it. I did noticed that I forget to initialize one of the structure members in thread_create. This structure member is used in thread_yield.\u00a0",
            "<md>That line failing is a sign that you're somehow yielding to a thread, but then not returning it's TID. My first instinct would be to look carefully at what you return and when from `thread_yield`.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfx0ekw148p79t",
    "subject": "Cannot use getcontext",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvasy384l66h0%2F69d7c6f0d6402efc264d45ece5ce1349e9d91a9046c23474dcc85fe65a8e3eb5%2FScreenshot_2025-09-23_at_4.29.01_PM.png\" width=\"2854\" height=\"132\" alt=\"\" />When I use gdb I get this warning, is it an issue?",
    "created": "2025-09-23T20:30:09Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfwwyr4kitpjk",
    "subject": "Valgrind issue",
    "content": "Hi,\u00a0<br /><br />Like the earlier posts, I am also facing issues with valgrind. According to the output, 2032 bytes are still reachable at 2 places.<br /><br />Clearly, the space still reachable in the heap is greater than the THREAD_MIN_STACK, and since it is also at 2 places.<br /><br />I do realize that this picture is not enough, but any leads?<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkthyynklwuk6xy%2Fefaf13b9f67134a8af9b3a34113efd08b3b3ae418cc5e9476f836572b110f248%2Fimage.png\" alt=\"image.pngNaN\" />",
    "created": "2025-09-23T18:53:51Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfwwssywjp05go",
    "subject": "To Hooman: follow up on the problem with the automated tests for A1",
    "content": "Hello,<br style=\"font-style:normal;font-weight:400;text-decoration:none\" /><br style=\"font-style:normal;font-weight:400;text-decoration:none\" />I was the student that was here during the 9am office hours. I was wondering if there was any follow up to seeing what the auto tester sees because I cannot debug what&#39;s wrong on my own end. I tried compiling and then running it on my own Linux laptop and they all ran completely fine. Any help is much appreciated.<br style=\"font-style:normal;font-weight:400;text-decoration:none\" /><br style=\"font-style:normal;font-weight:400;text-decoration:none\" />Thank you!",
    "created": "2025-09-23T18:49:14Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Hello professor, by that do you mean the course email or the course email?",
          "comments": [
            "<md>It's likely either would do, but I think he means his email and not the course one.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfwnn0cqi9f4dq",
    "subject": "A1: Pushing RBP onto stack",
    "content": "do we even need this ? Our threads simply point to thread_stub, execute thread_main and then hit thread_exit, so it doesn&#39;t make much sense to return\u00a0<em>back</em> to where we were creating our thread. Not sure if this is a stupid question :o",
    "created": "2025-09-23T14:32:47Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfwmriglmfy7o6",
    "subject": "./create segfault after first thread creation",
    "content": "<pre>\nwolf:~/student_id/A1/test$ ./create\nstack appears to be dynamically allocated.\nmy_tid: 1, actual = 1\nSegmentation fault</pre>\n<p>is this a stack alignment issue by any chance?</p>",
    "created": "2025-09-23T14:08:17Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>I\u2019m now getting a floating point exception in place of the segfault when I call setcontext within thread_exit, not sure if that\u2019s progress</p>\n<p></p>\n<p>EDIT: if I subtract 8 bytes from the sp I get a segfault, and without it I get an FPE</p>",
          "comments": [
            "<md>When you do a `backtrace` in GDB, where is the segfault coming from? Specifically just the `printf` call? Or is it the `return` after or something like that?</md>",
            "well I&#39;m not using backtrace i&#39;m stepping through breakpoints, the segfault occurs after the setcontext on the new thread&#39;s context (provided that the new thread&#39;s context isn&#39;t uninitialized in the case of the startup thread) then it takes me back to thread_stub. Not sure if this helps :( actively debugging it myself atm<br />program flow would be: check_my_tid -&gt; prints -&gt; returns -&gt; thread_exit called -&gt; switch context -&gt; back to thread_stub to run check_my_tid again -&gt; segfault)",
            "<md>> provided that the new thread's context isn't uninitialized in the case of the startup thread\n\nYou never should have a thread in the scheduler that has an uninitialised context. I don't think this is the error, but check what the context struct contains when you hit the segfault?</md>",
            "<pre>\n$9 = {uc_flags = 0, uc_link = 0x0, uc_stack = {ss_sp = 0x0, ss_flags = 0, ss_size = 0}, uc_mcontext = {gregs = {0,\n\u00a0 \u00a0 \u00a0 140737352055488, 0, 0, 1, 0, 93824992255312, 140737354125312, 93824992289488, 93824992290464, 140737488336864,\n\u00a0 \u00a0 \u00a0 93824992240444, 93824992281248, 0, 93824992281248, 140737488336832, 93824992241463, 0, 0, 0, 0, 0, 0},\n\u00a0 \u00a0 fpregs = 0x555555562478, __reserved1 = {0, 0, 0, 0, 0, 0, 0, 0}},\u00a0</pre>\n<p>seems like my stack pointer is null.</p>",
            "i got the actual backtrace to work after correctly initializing the mcontext struct lol, segfault seems to be in thread_switch.",
            "<md>Hey, that's progress!\n\nWhere in `thread_switch` is your segfault?</md>",
            "its the setcontext call.. actually as a bit of an aside, im confused about something here: <a href=\"/class/meu2e1usaod412/post/97\" target=\"_blank\" rel=\"noopener noreferrer\">https://piazza.com/class/meu2e1usaod412/post/97</a> you mentioned that we don&#39;t need to mess with uc_stack.. but my gdb wasn&#39;t backtracing correctly when only the REG_RSP inside the gregs array was set correctly.",
            "<md>You aren't required to set anything in `uc_stack`. This is typically used to define a separate stack for signal handling (not something you need to do) or as part of the argument to `makecontext` to tell it where the stack you allocated for that thread is (but you aren't allowed to use `makecontext`).\n\nWhen you say \"not backtracking correctly\", what do you mean?</md>",
            "I&#39;m redoing my thread_create atm but I just saw null addresses when I didn&#39;t set uc_stack.ss_sp to point to the top of the stack, but was able to actually see where the segfault was occurring when I did.",
            "I think the issue may have been that I was using getcontext when creating a new thread ?\u00a0",
            "<md>No, you should be using `getcontext`, that's how you populate the context struct for the newly created thread (and then you manipulate the fields in the struct).</md>",
            "<p>was able to resolve this after some intense refactoring lol, can see</p>\n<pre>\nthread limit reached at thread 1023\nexiting program with code 42</pre>\n<p>ty for the support :)</p>",
            "<md>Well done! \\:)</md>",
            "<p>sorry just to follow up here, from the above output it seems like locally things are working fine.. but i&#39;m still barely passing 13/28 on MarkUs.. things like<br /><br /></p>\n<pre>\n<code>ERROR: EOF: not found: ^thread (\\d&#43;) created thread (\\d&#43;)\n\nERROR: EOF: not found: ^thread (\\d&#43;) created thread (\\d&#43;)\n\nERROR: EOF: not found: ^thread (\\d&#43;) created thread (\\d&#43;)\n\nERROR: EOF: not found: ^thread limit reached at thread (\\d&#43;)\n\nERROR: EOF: not found: ^exiting program with code 42\n\nERROR: program was killed with signal = 6\nMark for create test is 13 out of 28\nFAIL</code></pre>\n<p>is this an issue somewhere else in the code with exit/kill?</p>",
            "<md>Signal 6 is a SIGABRT, which is if you hit an assertion. Add on to that the fact that you've got the lines not found for \"X created thread Y\", I think you might not be marking TIDs as freed correctly in thread_destroy? And so you have too few TIDs to go around, and that causes an issue for some reason?</md>",
            "<p>I&#39;m freeing the TID inside thread destroy so i&#39;m not too sure lol, I&#39;m getting a sig=11</p>\n<pre>\nmessage: hello from thread \u00a024\nmessage: hello from thread \u00a049\ndestroying all threads\ncreating \u00a01023 threads\nrunning \u00a0 1023 threads\nSegmentation fault</pre>\n<p>I&#39;m running into a segfault on setcontext onto the next thread. funny enough (apart from the valgrind tests) i&#39;m passing everything except 14/28 on create..</p>"
          ]
        },
        {
          "content": "<p>I had a similar thing happen (my_tid = 1, actual = 0) but I&#39;m still getting segfault in the setcontext call after setting uc_stack.ss_pp...:\u00a0</p>\n<pre>\n$2 = {uc_flags = 0, uc_link = 0x0, uc_stack = {ss_sp = 0x555555563a90, ss_flags = 0, ss_size = 0}, uc_mcontext = {\n\u00a0 \u00a0 gregs = {140737352055584, 1008, 0, 0, 1, 0, 93824992255320, 140737354125312, 93824992236285, 140737488336976,\u00a0\n\u00a0 \u00a0 \u00a0 140737488336864, 140737488349672, 0, 0, 93824992295552, 93824992295568, 93824992242213, 0, 0, 0, 0, 0, 0},\u00a0\n\u00a0 \u00a0 fpregs = 0x555555563868, __reserved1 = {0, 0, 0, 0, 0, 0, 0, 0}}, uc_sigmask = {__val = {0 &lt;repeats 16 times&gt;}},\u00a0\n\u00a0 __fpregs_mem = {cwd = 895, swd = 65535, ftw = 0, fop = 65535, rip = 4294967295, rdp = 0, mxcsr = 8064,\u00a0\n\u00a0 \u00a0 mxcr_mask = 0, _st = {{significand = {0, 0, 0, 0}, exponent = 0, __glibc_reserved1 = {0, 0, 0}}, {significand = {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 0, 0, 0, 0}, exponent = 0, __glibc_reserved1 = {0, 0, 0}}, {significand = {0, 0, 0, 0}, exponent = 0,\u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 __glibc_reserved1 = {0, 0, 0}}, {significand = {0, 0, 0, 0}, exponent = 0, __glibc_reserved1 = {0, 0, 0}}, {\n\u00a0 \u00a0 \u00a0 \u00a0 significand = {0, 0, 0, 0}, exponent = 0, __glibc_reserved1 = {0, 0, 0}}, {significand = {0, 0, 0, 0},\u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 exponent = 0, __glibc_reserved1 = {0, 0, 0}}, {significand = {0, 0, 0, 0}, exponent = 0, __glibc_reserved1 = {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 0, 0, 0}}, {significand = {0, 0, 0, 0}, exponent = 0, __glibc_reserved1 = {0, 0, 0}}}, _xmm = {{element = {\n  \u00a0 \u00a0 \u00a0 \u00a0 0, 0, 0, 0}} &lt;repeats 16 times&gt;}, __glibc_reserved1 = {0 &lt;repeats 24 times&gt;}}, __ssp = {0, 0, 0, 0}}</pre>",
          "comments": [
            "<md>In GDB, where does it say you segfaulted? Specifically in the `setcontext` call? That may point to the context being incorrectly initialised / corrupted.</md>",
            "<p>I can&#39;t enter the setcontext call for some reason:\u00a0</p>\n<pre>\n130 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 int err = setcontext(&amp;next-&gt;thread_context); // Context switch \n(gdb) nexti\nmy_tid: 1, actual = 0\n\nProgram received signal SIGSEGV, Segmentation fault.\n0x0000000000000000 in ?? ()</pre>",
            "<p>I tried setting the breakpoint to setcontext ,and it can&#39;t find it:</p>\n<p></p>\n<pre>\n130 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 int err_code_2 = setcontext(&amp;next-&gt;thread_context); // Context switch\u00a0\n(gdb) next\n\nBreakpoint 3, setcontext () at ../sysdeps/unix/sysv/linux/x86_64/setcontext.S:34\nwarning: 34 \u00a0 \u00a0 ../sysdeps/unix/sysv/linux/x86_64/setcontext.S: No such file or directory\n(gdb) next\n36 \u00a0 \u00a0 \u00a0in ../sysdeps/unix/sysv/linux/x86_64/setcontext.S</pre>",
            "<md>`setcontext` is written in assembly, and we don't have the source code for that. In general, if your code is segfaulting within `setcontext` itself, that's a sign that your context struct is incorrect.\n\nI do have a potential idea though: in `thread_exit`, you would have some code that facilitates the switch to any other thread. It might be worth adding an `assert(false)` at the bottom of `thread_exit`, just to ensure that we don't somehow \"come back\" to `thread_exit` and attempt to return from there (this is a surprisingly common error!). If you hit that assertion, that might help a bit more in debugging.</md>",
            "<p>I tried updating my context struct and I checked with valgrind and this is what I got. I had a similar error previously.</p>\n<p></p>\n<pre>\n==30786== Memcheck, a memory error detector\n==30786== Copyright (C) 2002-2022, and GNU GPL&#39;d, by Julian Seward et al.\n==30786== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info\n==30786== Command: ./test/create\n==30786==\u00a0\nstack appears to be dynamically allocated.\n==30786== Warning: client switching stacks? \u00a0SP change: 0x1ffeffd738 --&gt; 0x4aa48e0\n==30786== \u00a0 \u00a0 \u00a0 \u00a0 \u00a0to suppress, use: --max-stackframe=137343897176 or greater\nmy_tid: 1, actual = 0\n==30786== Invalid read of size 8\n==30786== \u00a0 \u00a0at 0x10AA55: thread_stub (thread.c:229)\n==30786== \u00a0Address 0x4aa48e0 is 0 bytes after a block of size 32,768 alloc&#39;d\n==30786== \u00a0 \u00a0at 0x4846828: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)\n==30786== \u00a0 \u00a0by 0x10AB0D: thread_create (thread.c:272)\n==30786== \u00a0 \u00a0by 0x109426: my_thread_create (create.c:46)\n==30786== \u00a0 \u00a0by 0x1096B4: main (create.c:103)\n==30786==\u00a0\n==30786== Jump to the invalid address stated on the next line\n==30786== \u00a0 \u00a0at 0x0: ???\n==30786== \u00a0Address 0x0 is not stack&#39;d, malloc&#39;d or (recently) free&#39;d\n==30786==\u00a0\n==30786==\u00a0\n==30786== Process terminating with default action of signal 11 (SIGSEGV)\n==30786== \u00a0Bad permissions for mapped region at address 0x0\n==30786== \u00a0 \u00a0at 0x0: ???\n==30786==\u00a0\n==30786== HEAP SUMMARY:\n==30786== \u00a0 \u00a0 in use at exit: 43,984 bytes in 5 blocks\n==30786== \u00a0 total heap usage: 5 allocs, 0 frees, 43,984 bytes allocated\n==30786==\u00a0\n==30786== LEAK SUMMARY:\n==30786== \u00a0 \u00a0definitely lost: 0 bytes in 0 blocks\n==30786== \u00a0 \u00a0indirectly lost: 0 bytes in 0 blocks\n==30786== \u00a0 \u00a0 \u00a0possibly lost: 0 bytes in 0 blocks\n==30786== \u00a0 \u00a0still reachable: 43,984 bytes in 5 blocks\n==30786== \u00a0 \u00a0 \u00a0 \u00a0 suppressed: 0 bytes in 0 blocks\n==30786== Rerun with --leak-check=full to see details of leaked memory\n==30786==\u00a0\n==30786== For lists of detected and suppressed errors, rerun with: -s\n==30786== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)</pre>",
            "<md>This is a slim chance, but just to double check: when you get the stack pointer from malloc, do you add anything to it? Because the pointer from malloc is the lowest address, and our stack grows downwards, meaning we would end up being \"outside\" or stack on the first write itself, and that can cause all sorts of weird corruption to the things nearby.</md>",
            "<p>I did add something recently to move the stack pointer due to the fact that the stack grows downwards (before I wasn&#39;t) but still get the same segfault. I was wondering if I might not be moving the stack pointer correctly in terms of bytes.</p>\n<p></p>\n<p>EDIT: I think I figured it out but I haven&#39;t implemented thread exit yet which might be why I&#39;m getting this error.</p>",
            "<md>Yeah, the \"stack grows downwards\" part is what I was referring to. Your alignment would be correct, because you would likely hit an FPE in a printf call if it wasn't.\n\n> I haven't implemented thread exit yet\n\nThat's probably the issue! Unfortunately, the tests are set up in such a way that leaving thread exit unimplemented could cause issues.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfwlrk0e61v330",
    "subject": "Office Hours going on right now?",
    "content": "room unlocked",
    "created": "2025-09-23T13:40:20Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfwkxa4m32i2j9",
    "subject": "how to get TID/dequeue from queue with no parameters passed in?",
    "content": "I think I missed some very simple but important sections, right now I&#39;m just writing pseudo code for them/",
    "created": "2025-09-23T13:16:47Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "in that case my implementation for thread_get is incorrect and I might need to review A1 description again. But I still dont get for thread_id() how is tid fetched from the struct if it is not passed in as a parameter",
          "comments": [
            "<md>Notably `thread_id` returns the TID of the _currently running_ thread. That means you need some way to track the currently running thread, and `thread_id` returns the TID of that.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfw7iz96uq7386",
    "subject": "Modifying files within test dir",
    "content": "Are we allowed to do this or does Markus test against our remote version of the testing files?",
    "created": "2025-09-23T07:01:45Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfw6xc6x19g6bm",
    "subject": "thread_switch keps hanging",
    "content": "<p>When I run main.c, I&#39;m failing on one of the early assertions and its because thread_switch is hanging.</p>\n<div>\n<div>\n<pre>\n  \u00a0 ret = thread_create((thread_entry_f)hello, &#34;hello from first thread&#34;);\n  \u00a0 minfo = mallinfo();\n  \u00a0 if ((size_t)minfo.uordblks &lt;= allocated_space)\n  \u00a0 {\n  \u00a0 \u00a0 \u00a0 printf(&#34;it appears that the thread stack is not being&#34;\n  \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&#34;allocated dynamically\\n&#34;);\n  \u00a0 \u00a0 \u00a0 assert(0);\n  \u00a0 }\n  \u00a0 printf(&#34;my id is %d\\n&#34;, thread_id());\n  \u00a0 assert(thread_ret_ok(ret));\n  \u00a0 ret2 = thread_yield(ret);\n\u00a0 \u00a0 assert(ret2 == ret); // it never does this assertion</pre>\n</div>\n</div>\n<p><br />After going through GDB, I can see that thread 0 yields, thread 1 calls thread_switch and eventually prints the hello message, it then goes into thread_yield from hello(), and then it goes back into thread_switch which causes the program to hang. I&#39;ve been debugging for a while and honestly have no idea what the issue is</p>",
    "created": "2025-09-23T06:44:55Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfvzcfjkphb5ic",
    "subject": "Thread Create Issuezzz",
    "content": "nvm",
    "created": "2025-09-23T03:12:43Z",
    "tags": [
      "a1",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfvz0j4f95y1fq",
    "subject": "A0 T1 Graded",
    "content": "<md>Hi everyone,\n\nYour A0 and T1 submissions have been graded. You may submit a remark request if you believe there is an issue with the autotester. The remark request due date is next Monday, September 29, at 11:59pm.\n\nBest,\n\nJack</md>",
    "created": "2025-09-23T03:03:27Z",
    "tags": [
      "instructor-note",
      "logistics",
      "tutorial"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfvwvjhv5s961i",
    "subject": "What&#39;s the correct output of the yield test?",
    "content": "<p>This is the output I&#39;m currently getting:<br /><br /></p>\n<pre>\nhello: hi again\nrepeat: yield(1) = 1\nhello: hi again\nrepeat: yield(ANY) = 1\nrepeat: yield(ANY&#43;KILLED) = 1\nrepeat: yield(ANY&#43;ZOMBIE) = -3\nhello: sayonara\nonce: yield(ANY) = 2\nrepeat: yield(ANY&#43;FREED&#43;ZOMBIE) = -3\nrepeat: yield(1) = -1\nmain: yield(NEGATIVE) = -1\nmain: yield(TOOBIG) = -1\nmain: yield(NOTFOUND) = -1\nmain: yield(0) = 0\nvictim: yield(1) = -367070997\nvictim: yield(1) = -1\nvictim: yield(ANY) = 3</pre>\n<p>On Markus, I have these errors:</p>\n<pre>\n<code>Running: scripts/a1-06-yield.py \nyield test\nERROR: EOF: not found: ^victim: yield\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^victim: yield\\(None\\) = -1\n\nERROR: EOF: not found: ^victim: yield\\(ANY\\) = (\\d&#43;)\n\nMark for yield test is 13 out of 18\nFAIL</code></pre>\n<p></p>\n<p>I&#39;m not sure where in the output it goes wrong though. Would that be the last 3?</p>",
    "created": "2025-09-23T02:03:35Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you! That makes sense, I fixed the issue :)",
          "comments": [
            "<md>Well done! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfvwh3ncfuv6l6",
    "subject": "What should gregs[REG_RSP] and gregs[REG_RBP] be for the context of a newly created thread?",
    "content": "<md>> On line 2, when %rsp is copied to %rbp, %rsp must be a multiple of 16. If not, %rbp will be misaligned. So you need to offset %rsp so that at line two of the disassembly above, it is aligned to 16-bytes.\n[A1 FAQ: CSC369H1F 20259 (All Lectures): Operating Systems](https://q.utoronto.ca/courses/395880/pages/a1-faq)\n\nI have an address A1 from malloc\nI have A2 which is 16 byte aligned A1\n\nI thought gregs[REG_RSP] was supposed to point to the top of the stack (highest possible address) but from the Q&A above, it sounds like gregs[REG_RSP] should be A2, which I thought was the lowest possible address aka the base address?\n\nI am also inferring that gregs[REG_RBP] = A1 because it will get replaced with A2?\n\nBut then when gregs[REG_RSP]  gets replaced with A2, I will have no references to A1 so I won't be able to call free(A1) which I believe would be a memory leak. Should I store A1 as a thread attribute?</md>",
    "created": "2025-09-23T01:52:22Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfvv011qv4i2pm",
    "subject": "Winter 2025 Test Solutions",
    "content": "<p>I get an error &#34;course enrollment not found&#34; when I try to access the solutions for the winter 2025 tests on the midterm information page.</p>\n<p></p>\n<p>I also wanted to ask, would a question like this be tested? I don&#39;t think we covered the x86-64 mode switch convention in detail, and neither does the textbook. Does x86 save the general-purpose registers on every mode switch, or are they saved by the trap handler?</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00kqm75t05c8%2Fa6caa840b3035d215d6b611435a990c23bb5959f54735ba97205252ca714aae7%2FScreenshot_2025-09-22-21-09-15-14_349231ae26f63d4548a6e20bb3f4a970.jpg\" width=\"942\" height=\"359\" alt=\"\" /></p>",
    "created": "2025-09-23T01:11:06Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Fixed links.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfvu4x2sktuky",
    "subject": "Is a killed thread runnable?",
    "content": "<md>I am implementing `thread_runnable` and I think a killed thread is runnable. Can I get confirmation please?</md>",
    "created": "2025-09-23T00:46:54Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Those sneaky implementations\u2026</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfvtqi4iwlz2cy",
    "subject": "test/kill.c:68: main: Assertion `ret == tid&#39; failed \u2014 A1",
    "content": "<p>Running into this issue when running kill tests. Create passes completely and yield seems to implemented properly - when given tid it gets its from ready queue or if its any a random one.\u00a0<br /><br /></p>\n<p>Any advice on where to debug?</p>",
    "created": "2025-09-23T00:35:42Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>I looked through it with GDB and saw that ret was giving me a value that was an error code (for invalid) because I had a runnable check and killed wasn&#39;t included in that.</p>\n<p></p>\n<p>This is my current output of kill, still having some major bugs. I&#39;m just marking threads to kill in my kill function and have checks in various places like stub and switch to prompt an exit. I&#39;m also seeing a run before exit?</p>\n<p></p>\n<p>kill(SELF) = -1</p>\n<p>kill(NOTFOUND) = -1</p>\n<p>kill(NEGATIVE) = -1</p>\n<p>kill(TOOBIG) = -1</p>\n<p>kill(1) = 1</p>\n<p>kill(KILLED) = -1</p>\n<p>did killed thread run before exit? yes</p>\n<p>kill(ZOMBIE) = -1</p>\n<p>child thread 2 yields.</p>\n<p>kill(2) = 2</p>\n<p>did killed thread run before exit? yes</p>\n<p>kill(0) = 0</p>\n<p>kill: test/kill.c:23: check_ran_ready: Assertion `ret &gt;= 0&#39; failed.</p>\n<p>Aborted</p>",
          "comments": [
            "<md>The first run checks what happens if T0 makes T1, kills it, and then yields to it. The second one checks the same thing, but yields to T1 once before killing it. The fact that both are failing means you're not handling the killed state correctly (you may be overwriting the state / not checking it correctly?).\n\nAlso, hitting that assertion means your `thread_yield` in the child thread is returning an error code.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfvrcnhnoaw79e",
    "subject": "mutual exclusion vs concurrency",
    "content": "<p>I believe the point to use thread is for concurrency.</p>\n<p>But locks serve for mutual exclusion.</p>\n<p>Isn&#39;t there a conflict?</p>",
    "created": "2025-09-22T23:28:56Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfvotxdsxvx4jx",
    "subject": "Capturing Context For Thread Creation",
    "content": "I&#39;m using a similar approach as the one in Tut1 where i have a zero&#39;d out context struct that I call getcontext() on and then manipulate this before assigning it to my new_thread&#39;s ucontext_t member, but I&#39;m confused whether I should be calling getcontext on the global running thread instead? Does it matter?",
    "created": "2025-09-22T22:18:23Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Yeah I meant doing this</p>\n<p>static struct thread * global_thread;</p>\n<pre>\n\nthread_create(..) {\n\u00a0 \u00a0 \u00a0ucontext_t cont = {0};\n\u00a0 \u00a0 \u00a0getcontext(&amp;cont);\n}</pre>\n<p>and then using THAT vs just getcontext(&amp;global_thread-&gt;context);</p>",
          "comments": [
            "<md>The first one is what you want. The second one would overwrite the global thread's context, which isn't particularly helpful in creating a new thread \\:D</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfvorh6v2ls6ig",
    "subject": "Suicidal thread is never reaped",
    "content": "I&#39;m having trouble with the thread that destroys itself and grand finale.<br />Since we never reap it, we never actually remove it and its tcb sticks around. That causes the number of threads at the end to be greater than expected, so the THREAD_NOMORE assertion will fail.<br /><br />I think this might be an issue with my code&#39;s logic--I have a thread_count variable that keeps track of the number of threads that exist, which is only decremented when a thread is reaped. I use that to determine when to return THREAD_NONE. But I feel like it would be dangerous to decrement the thread count immediately upon exiting or killing a thread, since the memory used by zombie threads&#39; stacks hasn&#39;t been freed yet. How else can I approach this?<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm8ga2f6l802o4%2F93df751ba75e4e13bf0a7d84857e2127a1acd4773d2bfa26e2e8327fd378bf53%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-09-22T22:16:29Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thanks, that helped a lot!<br />I&#39;m running into the same issue for exiting as the final thread. In this case, we can&#39;t just dequeue since it&#39;ll remove a thread from the queue. One way to fix this would be to just pop off the top element and push it back in, but for a fcfs queue, it means that that poor thread will have to wait a (relatively) long time to be run again. Would it be a better idea to have another variable that keeps track of &#34;runnable&#34; threads rather than relying on the scheduler&#39;s return value?",
          "comments": [
            "<md>The approach is up to you. I would prefer using the return value from the scheduler, because that means there's less chance for error (i.e. your count and the scheduler drifting out of sync). However, the choice is entirely yours, and whichever you find easier / makes more sense to you is better!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfvk2eyroyc7oz",
    "subject": "main.c",
    "content": "Are we meant to change to &#34;fcfs.c&#34; in the config and then push this on git for the automated testing?",
    "created": "2025-09-22T20:05:01Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfvhh77qwzz79k",
    "subject": "A1: Create test failing",
    "content": "<p>I&#39;m getting the following failure for markus test but when I run test/create, I do have these lines in my output. What could be causing this?\u00a0</p>\n<pre>\n<code>Running: scripts/a1-05-create.py \ncreate test\nERROR: EOF: not found: ^thread (\\d&#43;) created thread (\\d&#43;)\n\nERROR: EOF: not found: ^thread limit reached at thread (\\d&#43;)\n\nERROR: EOF: not found: ^exiting program with code 42\n\nMark for create test is 24 out of 28\nFAIL</code>\n\n</pre>\n<p></p>\n<p>Output of running test/create</p>\n<pre>\n...\nthread 1021 created thread 1022\nthread 1022 created thread 1023\nthread limit reached at thread 1023\nexiting program with code 42</pre>",
    "created": "2025-09-22T18:52:32Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I see the issue, it shouldn&#39;t go up to 1023 threads but I&#39;m confused why the limit is reached at 128 threads and not 1024 which is THREAD_MAX_THREADS",
          "comments": [
            "<md>Sorry, I should have been more clear!\n\nI don't mean that you're hitting the same error they did, I meant that you're likely seeing the \"MarkUs expects 1024 lines like this and you have one less\" quirk. So it's possible that you are one thread short, meaning one TID is not being used / reused as it should. My guess is that your code to \"allocate\" a TID doesn't allow 0 to be reused?</md>",
            "thank you! that was the issue",
            "<md>Glad I could help \\:)</md>"
          ]
        },
        {
          "content": "I recommend you use the grep command to actually investigate how many &#34;thread x created thread y&#34; statements are actually output.",
          "comments": []
        },
        {
          "content": "I had 128 lines of &#34;hello, thread x&#34; printed out in total, but markus seems to be looking for one more?<br />Running: scripts/a1-05-create.py\u00a0<br />create test<br />ERROR: EOF: not found: ^hello, thread\\s*(\\d&#43;)<br /><br />I thought we only had 128 threads that will print this",
          "comments": [
            "<md>There should only be 128 lines of that, yes. What does the rest of the tester output look like?</md>",
            "<a href=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm945i82hts31v%2Fe40cb34367f7eaa991d1b8337fb6a5a9984ac9b5062d86dcf86444880f60c3c1%2Fcreate_markus_errors.txt\" target=\"_blank\" rel=\"noopener noreferrer\">create_markus_errors.txt</a><br /><br />Here it is:",
            "<md>> ERROR: program was killed with signal = 6\n\nThis is at the bottom of the tester output. Signal 6 is a SIGABRT, which is used by the `assert` implementation when an assertion fails. You're failing an assertion, it might be the assertion on line 37 or 135?</md>",
            "<p>hmm it doesn&#39;t fail on my machine, but I&#39;ll give it a go. Thank you!</p>\n<p></p>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfv8u7wkm9m7kf",
    "subject": "Include stdint",
    "content": "<md>Can we include `<stdint.h>` in `thread.c` to get `uintptr_t` for pointer math? It would make my code prettier.</md>",
    "created": "2025-09-22T14:50:43Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfum19xtto417f",
    "subject": "Grace Credits for A1",
    "content": "I don\u2019t think grace credits has been setup for A1.",
    "created": "2025-09-22T04:12:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mful21y41nh3n9",
    "subject": "are all group activities marked for completion only?",
    "content": "^title",
    "created": "2025-09-22T03:44:58Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfukkcnk3fx4q6",
    "subject": "16 byte alignment problem",
    "content": "<p>I did my best to make rsp 16-byte aligned, with the final address being:</p>\n<p>93824992325344<br />(Which I confirmed is divisible by 16).</p>\n<p>However, I still ran into a segfault during the sprintf call in main.hello.<br />Is there anything else that could be causing the program to segfault? I got the initial address by using the result from mallocing the stack and doing some other computations.</p>",
    "created": "2025-09-22T03:31:12Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Im getting a similar error, and Ive been debugging for more than an hour and still no clue whats going on. I&#39;m gonna start fresh tmrw and see what the issue is",
          "comments": [
            "<md>@122 and @141 might be helpful. Also check the student answer above, they seem to have figured it out.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfuibklyvyroe",
    "subject": "Group for future group activities",
    "content": "<md>Hi, I am looking for a group for activities G3 and beyond. My Discord is 67s3473. :)</md>",
    "created": "2025-09-22T02:28:23Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "Hey! I am looking for a partner too. My discord is mnbvcxz1122",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfubj7cfzou171",
    "subject": "import string.h",
    "content": "Can we import string.h to use memset?",
    "created": "2025-09-21T23:18:22Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfub70q0lyw6h9",
    "subject": "Looking for a group.",
    "content": "<p>Hi there, did not realize that a group is mandatory. If anyone is looking for a third or does not have a group yet, please reply to this post!</p>\n<p></p>\n<p>I&#39;ve been working on it solo, so just need someone to finish this up with.</p>\n<p></p>\n<p>My discord is: mnbvcxz1122</p>",
    "created": "2025-09-21T23:08:53Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfub6ahl1uj1ar",
    "subject": "A1 undefined behaviour?",
    "content": "<md>In the exit.c test there is this line that might cause UB:\n\n```\ntid = thread_create((thread_entry_f)create_then_exit, 0);\n```\nthread_entry_f expects a function pointer `int (* thread_entry_f)(void *);` but the function create_then_exit has no arguments and doesn't return anything</md>",
    "created": "2025-09-21T23:08:19Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfu8orlphxo5or",
    "subject": "A1 Thread Runnable &#34;can be run immediately&#34; question",
    "content": "I understand this to mean that the thread is at the top of the ready queue and if that&#39;s the case, why don&#39;t we have a _top function defined inside our schedule.h file?",
    "created": "2025-09-21T21:58:42Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfu3n3h88ap2jv",
    "subject": "Group for G1 and G2",
    "content": "Hi, if anyone is still looking for a group, please let me know, thanks! Discord: , resolved",
    "created": "2025-09-21T19:37:26Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "If I could join the two of you as a group of 3 I\u00a0would appreciate it!",
          "comments": []
        },
        {
          "content": "Hey, I&#39;m still looking for a group. Please let me know if you would like to work together.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfu0n77y41m6g7",
    "subject": "T1 questions so difficult",
    "content": "<p>I found it so difficult to answer the questions in T1. Are they meant to be hard?</p>\n<p>Is it normal that I reference to ChatGPT to understand them?</p>",
    "created": "2025-09-21T18:13:32Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Hello,</p>\n<p>I&#39;ve also been struggling with interpreting questions in T1.</p>\n<p>For the question \u00a0/* 9. Show the distance (in bytes) between err and the saved RSP. */ do we have to make some kind of conversion to take the difference? I&#39;ve been getting a compile error because of this part.</p>",
          "comments": [
            "<md>By default, I think `err` is a `int`. Doing a subtraction with an `int*` on the left side will give you the difference in units of `sizeof(int)`, which is likely 4 bytes. To get the difference in bytes, you likely want a cast to a `char*` or some other 1 byte width data type.\n\nEdit: also, about the compile error: make sure you cast the result to a type that can be printed using the `%ld` format specifier (which means some kind of `long` I believe?)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mftxjbh01vm68i",
    "subject": "A0 small question",
    "content": "<p>Hi I already finished A0 but I had one question that has been bugging me esecially when sleeping.\u00a0</p>\n<p></p>\n<p>We know that when added a node its id &gt; 0 and it wuld be unique. But when enqueing a node we must make sure its not already in another queue.\u00a0</p>\n<p></p>\n<p>But what if we enqueue a node with same id that already exists in the queue?</p>\n<p></p>\n<p>Q1\u00a0 =\u00a0</p>\n<p>1 -&gt; head</p>\n<p>2\u00a0</p>\n<p>3 -&gt; tail</p>\n<p></p>\n<p>We want to enqueue the node with id 1\u00a0</p>\n<p></p>\n<p>precondition here is failed where we are not enqueue a unique id, so we would assert but I assume just checking the Linked List if that node is is not already n the queue and assert if it does satisifes pre condition?\u00a0</p>\n<p></p>\n<p>This is different from node already in queue but more so check unqiueness of nodes itself? I didn&#39;t see a test case like this or maybe I just skipped it.</p>",
    "created": "2025-09-21T16:46:32Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mftvli3imzj58",
    "subject": "What is the correct output for the kill test?",
    "content": "<md>```\n./test/kill\nkill(SELF) = -1\nkill(NOTFOUND) = -1\nkill(NEGATIVE) = -1\nkill(TOOBIG) = -1\nkill(1) = 1\nkill(KILLED) = 1\ndid killed thread run before exit? no\nkill(ZOMBIE) = 1\nchild thread 2 yields.\nkill(2) = 2\ndid killed thread run before exit? no\nkill(0) = 0\n```\n\nIs this the correct output? It outputs no for both `did killed thread run before exit?`\n\nHere is the markus output:\n```\nkill test\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(ZOMBIE\\) = (\\d+)\n\nERROR: EOF: not found: ^child thread (\\d+) yields.\n\nERROR: EOF: not found: ^kill\\((\\d+)\\) = (\\d+)\n\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(0\\) = 0\n\nERROR: program was killed with signal = 8\n```</md>",
    "created": "2025-09-21T15:52:15Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I got a signal 11, how do i debug this issue? cuz my program terminated fine.",
          "comments": [
            "<md>Signal 11 is a segfault. It might be helpful to run your code through Valgrind, and see what it says? If you choose to do that, you should also probably refer to the A1 FAQ section for the bit about making Valgrind aware of our stacks being allocated (it makes the output much cleaner for Valgrind!).</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mftszm3oupd4n6",
    "subject": "exit test, SIGFPE",
    "content": "<md>When I run the exit test I receive SIGFPE, floating point exception in setcontext of ut369_exit. I got 5/5 for that test on markus. Is there something I should fix?\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fllvasyfgc1v6ht%2Fac9e1fbc678d8920aac7cd1e507f160935a5ef8bf682b77ccfb1e7f0252149c2%2Fimage.png)</md>",
    "created": "2025-09-21T14:39:15Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mftsitwbq2w2",
    "subject": "Exit Markus Test",
    "content": "<p>I got the following errors for my exit test.\u00a0</p>\n<p>Based on the previous posts, it probably means I&#39;m missing some outputs? Thank you!</p>\n<p></p>\n<pre>\n<code>Running: scripts/a1-07-exit.py \nexit test\nERROR: EOF: not found: ^1\\. stack appears to be freed after exit\\.\n\nERROR: EOF: not found: ^wait\\((\\d&#43;)\\) = 0\n\nERROR: EOF: not found: ^2\\. stack appears to be freed after exit\\.\n\nMark for exit test is 0 out of 5\nFAIL</code></pre>",
    "created": "2025-09-21T14:26:12Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I have been debugging this for a long time. Will visit the office hour on Monday. Thank you!",
          "comments": []
        },
        {
          "content": "Are you able to give any leads as to why this was happening. I am currently stuck on this too for a while :(",
          "comments": [
            "<md>What does your output say when you run `test/exit` yourself?</md>"
          ]
        },
        {
          "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F7ea3a7324ec3dbf70aca1be509329cc34d074dac49538c1e69dcc72534a7f475%2Fimage.png\" alt=\"image.png\" />",
          "comments": []
        },
        {
          "content": "The thing im confused about is, we wana destroy a thread after the new thread is in control but before it can run anything. \n\nSo I thought that at the end of thread_exit, when we call the switch, I should check if the previous thread was &#34;killed&#34;, and then call destroy. \n\nBut in the given implementation destroy is decalred below switch, so Im thinking maybe my logic isn&#39;t what the desired solution is",
          "comments": [
            "<md>You don't want to destroy an exited thread, that only occurs in thread_wait. Instead, you want to free the next chosen thread to free the stack of the previous.</md>"
          ]
        },
        {
          "content": "<p>sorry for the late reply. I stepped away from this assignment for other deadlines.\u00a0</p>\n<p>Based on your description, the way how you implement probably differs from mine.\u00a0</p>\n<p>Look at the test/exit.c file, at top, you see</p>\n<div>\n<div>* 1. Tests stack freeing in the second half of thread_yield\u00a0</div>\n<div>* 2. Tests stack freeing at the beginning of thread_stub --- note: you can edit thread_stub\u00a0</div>\n</div>\n<div>This is the two places where you should free the stack.\u00a0</div>\n<div>Hope it helps.\u00a0</div>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mftp2qhjnv824p",
    "subject": "Looking for group for G1 and G2",
    "content": "Resolved thanks",
    "created": "2025-09-21T12:49:42Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "Hey, I\u2019ve sent a request.",
          "comments": []
        },
        {
          "content": "i sent one too!",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mft32zufho133h",
    "subject": "T1 fails to run after gdb once",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fljsl2ro1eww5m2%2Fed4590502bf38761e7c1f697cbc3cb2a72cbb644f7b60538b576b66bd07d9b31%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p>idk why but after I run gdb once, kill it and run again this new error pops out. I tried to restart teach.cs but it still fails to work. I even tried to reupload a new file to teach cs but it appears I somehow deleted some important file</p>",
    "created": "2025-09-21T02:34:02Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fljsl2ro1eww5m2%2Fff6073f3199641cb81119c0779cfde531c7529f68d5276686309554cab4640e5%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p>I think I forgot to mention an issue where after the error I am stuck in the assembly file and cannot see code or next break point after getcontext(&amp;my_context);</p>",
          "comments": [
            "and the issue only occurs after I run gdb once",
            "<md>Is there a reason its stopping there? Have you set a breakpoint / is it segfaulting (or some other error) there?</md>",
            "it stops there after the error above appears, I set a break point after assert(!err) but program neighter crash or reach that breakpoint",
            "<md>As a note, I see you're using the `step` command. That steps into function calls, including `getcontext`. And then as you continue doing `step`, it is actually moving over each assembly instruction in `getcontext`, and so it might seem like it \"does nothing\", but it actually is moving forwards assembly lines (just can't show them to you because its not got the source code file).\n\nI'm not sure if you're manually stepping through each line, or just doing `gdb ./examine_ucontext` and then `run`.</md>",
            "I find most print statement replacement does not requre a gdb to get and just need ucontext method but rn I cant find a way to compute number of bytes",
            "I will try to use nexti then",
            "<md>`nexti` works, or even just `next`, because that skips over function calls (which you don't really care about for T1, because all your work is contained in the `main` function and not the functions it calls).</md>",
            "thanks! it works!"
          ]
        },
        {
          "content": "I will try to use nexti then",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfsv3yqicjc5qp",
    "subject": "Markus is back up!!!",
    "content": "^^^",
    "created": "2025-09-20T22:50:51Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "[resolved]",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfstgqdbnm55tb",
    "subject": "Is Markus down?",
    "content": "<p>^title</p>\n<p>its is, just saw @151</p>",
    "created": "2025-09-20T22:04:47Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfssr2ojpkk7b2",
    "subject": "resolved.",
    "content": "resolved.",
    "created": "2025-09-20T21:44:50Z",
    "tags": [
      "student",
      "tutorial",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfsshpw3eil1ic",
    "subject": "A1 How will my library know when a thread is blocked?",
    "content": "<md>> *   `THREAD\\_INVALID:`\u00a0alerts the caller that the identifier\u00a0`want\\_tid`\u00a0does not correspond to a valid thread, this can be due to the thread being blocked, or it simply does not exist.\n\nHow will my library know when a thread is blocked? I've been keeping track of running, ready, etc. states in my thread struct but I don't know when a thread state should be set to blocked.</md>",
    "created": "2025-09-20T21:37:34Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfsrzahmhi47lj",
    "subject": "Do exit codes matter right now? How do we come up with them?",
    "content": "I know that killed threads should exit with THREAD_KILLED, but in other cases, all we know is that the exit code passed to thread_exit is &#34;The exit code of the calling thread&#34;. How do we determine this?",
    "created": "2025-09-20T21:23:14Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "So can we just set it as 0 in most cases?",
          "comments": [
            "<md>We have no way of checking the exit code at all, so set it to whatever you like!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfsq79747sr5ry",
    "subject": "Is MarkUs down for anyone else?",
    "content": "<md>^^</md>",
    "created": "2025-09-20T20:33:26Z",
    "tags": [
      "a1",
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "yes",
          "comments": []
        },
        {
          "content": "yep<br /><a href=\"https://www.teach.cs.toronto.edu/markus-status/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.teach.cs.toronto.edu/markus-status/</a>",
          "comments": []
        },
        {
          "content": "yes",
          "comments": []
        },
        {
          "content": "<p>For record, at the point of 5:42 pm, Saturday, MarkUs is still unavailable. I cannot even download source codes, let alone submitting files.</p>\n<p>Hope assignment dues can be postponed.</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm5lbun1kyw4q4%2F7e39ca9025275dc6cadffcb9ae8569e14011119cc570573a3ad7ac3b5989023a%2FScreenshot_2025-09-20_at_5.45.18_PM.png\" alt=\"Screenshot_2025-09-20_at_5.45.18_PM.pngNaN\" width=\"477\" height=\"344\" /></p>",
          "comments": [
            "<md>Jack has the authority on this (so take what I say with a pinch of salt), but typically you can expect to get an extension for the things due \"soon\" (so A0 and T1 in this case) if MarkUs has a prolonged outage.</md>"
          ]
        },
        {
          "content": "<md>Oh great, what a nice timing, it crashed right when I was about to take a break from the assignment ;)</md>",
          "comments": [
            "<md>The MarkUs admins knew it :D</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfso04n7fjl4ic",
    "subject": "Are the lecture deliverables marked on correctness?",
    "content": "I couldn&#39;t find info on syllabus and wanted to confirm",
    "created": "2025-09-20T19:31:54Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfsmxzv97sx3yd",
    "subject": "Does passing all the automated test case guarantee 100% functionality?",
    "content": "",
    "created": "2025-09-20T19:02:15Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfsdb8vorg24oq",
    "subject": "What is the proper behaviour on the create test?",
    "content": "<md>It fails for me at create.c:65, assertion `ret == 0`.\n\nIn my case, the thread 0 yields to the thread 1, which runs, exits, and is removed from the thread list in thread_exit. Then thread 0 waits for thread 1, which doesn't exist at that point, and my_thread_wait fails at the assertion. \n\nWhat should happen in this test? Should thread 1 stay in the list?</md>",
    "created": "2025-09-20T14:32:37Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfrx48e2u8510s",
    "subject": "Markus Create Test - A1",
    "content": "<p>Hi,</p>\n<p></p>\n<p>I&#39;ve starting testing/debugging my program with gdb but have been running into issues, maybe due to me not understand something clearly.</p>\n<p></p>\n<p>But currently, my assumption of the flow goes like this: init creates t0, yield from t0 to t1 depending on if its any of a specific thread it switches (bunch of state changes) and the\u00a0 old process gets attached to the ready queue again, and calls thread switch, thread switch handles saving the context for the old process and moving into the stub function to run the new thread which then goes into exit after execution is done. Is this correct? Also, where do we end up clearing the stack for thread 0, is that handled in wait or do we manually do it in exit before setcontext to another thread.</p>",
    "created": "2025-09-20T06:59:16Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<p>Thanks, so i&#39;m a bit confused here by this: &#34;Freeing the stack has to happen some time between thread 0 exiting and the switch to the next thread\u2019s context.&#34; Exit does a thread_switch call, which means the only other place we would free is there? I&#39;ve been running ./create.c on teach.cs and my program sort of stalls after the first 128 thread prints.</p>\n<p></p>\n<p>hello, thread\u00a0 3</p>\n<p>hello, thread 110</p>\n<p>hello, thread 82</p>\n<p>hello, thread 63</p>\n<p>hello, thread 12</p>\n<p>hello, thread 64</p>\n<p>hello, thread 39</p>\n<p>hello, thread 109</p>\n<p>hello, thread 18</p>\n<p>hello, thread 29</p>\n<p>hello, thread 38</p>\n<p>hello, thread 86</p>",
          "comments": [
            "<md>I could have phrased that a little better I guess. In essence, I mean something similar to my response to @137. If you have two threads A and B, which have been assigned functions, the idea is that between A calling `thread_exit`, and B _running its assigned function_, the stack of A should be freed.\n\nAs for the stalling part, if you aren't getting the line saying \"rbp alignment test completed\",  then there's potentially an error with `thread_kill`? The way the tests work is they create all the threads saying \"hello from thread XX\", and then yield to all of them in turn. Then it calls `thread_kill` and `thread_wait` on each of them. The stalling may mean that your implementation for \"killing\" a thread is flawed, and that a thread \"ignores\" the fact that it has been killed somehow.</md>",
            "My kill function essentially marks a given thread as killed and removes it from the ready queue so its not scheduled. The two other ways I assume a thread can be killed it from exit and yield? For instance, if process A yields B and B is in a KILLLED state, it should immediately exit? Also, if a thread is running and killed is called by another thread, is it supposed to finish or exit through thread_exit()?",
            "^ I have something in Yield checking to make sure that if the next thread we&#39;re about to context switch to is in the state KILLED we can just thread_exit and ultimately gets removed by wait and destroy.",
            "<md>> My kill function essentially marks a given thread as killed and _removes it from the ready queue so its not scheduled_.\n\n> I have something in Yield checking to make sure that if the next thread we're about to context switch to is in the state KILLED\n\nI think these two might conflict actually. If `thread_kill` removes the target from the ready queue, the only way for it to be the \"next\" thread in `thread_yield` is if we yield to it specifically (and not all the tests do that!).\n\n> For instance, if process A yields B and B is in a KILLLED state, it should immediately exit?\n\nThe idea is that when A kills B, B is \"marked\" in some way. It isn't removed from the ready queue; instead when B is next scheduled to run, it checks whether it has been killed or not, and exits if it has (instead of running the assigned function).</md>",
            "Ah, I see what you mean. So would the best way to kill a thread be removing them earlier in thread_kill or don&#39;t remove in kill and let yield handle it?",
            "<md>The latter (don't remove in kill, let yield handle it).</md>",
            "makes sense, thank you.\u00a0",
            "Just one more clarification, from yield i&#39;m doing a check if next thread is KILLED_STATE then I exit, but i&#39;m just how this would work cause wouldn&#39;t you need to context switch first? For instance, if current thread is A, killed thread is B, i&#39;m checking that B is killed and want to exit out of it.\u00a0",
            "^ ignore"
          ]
        },
        {
          "content": "that last comment is something that i am also wondering. Where do we explicity need to check that the thread is marked for killing and we call thread_exit to either exit or switch to another thread? does it make sense to have that check in yield before we are going to switch to a thread that is marked for kill?",
          "comments": [
            "<md>There are multiple different ways to handling killing a thread.\n\nOne approach that some people take is to go to the two \"resume\" points (i.e. the two places you can end up after calling `setcontext` on a thread) and add a check along the lines of \"if the current thread is killed, exit\".</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfrn4is88d93l5",
    "subject": "Markus Kill Test",
    "content": "<p>I got the following errors from the kill test on Markus. From some of the failed cases, it looks like the killed thread is running before exiting, which shouldn\u2019t happen.</p>\n<p>But how do I interpret the rest of failed tests? For example, kill (zombie) = \\d&#43;.\u00a0</p>\n<p>Thank you!</p>\n<pre>\n<code>kill test\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(ZOMBIE\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^child thread (\\d&#43;) yields.\n\nERROR: EOF: not found: ^kill\\((\\d&#43;)\\) = (\\d&#43;)\n\nERROR: EOF: not found: ^did killed thread run before exit\\? no\n\nERROR: EOF: not found: ^kill\\(0\\) = 0</code></pre>",
    "created": "2025-09-20T02:19:34Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you! I fixed the bugs",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfrds1rh3sfwx",
    "subject": "Advice for Valgrind",
    "content": "<p>Hi,\u00a0</p>\n<p></p>\n<p>So I am quite shaky on valgrind stuff and and don&#39;t really understand it. All of my other tests pass, but there are some meory leaks as indicated by valgrind.</p>\n<p></p>\n<p>For instance, when I use run valgrind to see any memory leaks when I run test/main , I get the following:</p>\n<p></p>\n<p>\u00a0 <img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm59qnrz81n4c%2F929d7ca931ddd21a15d5342f3f644de9a2b6c746ab8634c8343cf412b376d518%2Fimage.png\" alt=\"image.pngNaN\" /></p>\n<p></p>\n<p>I am not sure what this memory leak means, and what could some possible causes be (to ppl who have fixed it) ?\u00a0</p>\n<p>Iirc all the stack pointers are freed otherwise my exit cases (well it tests for zombie stacks freed but hmm)wouldn&#39;t have passed, and I believe the scheduler is in charge of freeing the queue. So I am kind of stuck.</p>\n<p></p>\n<p>Edit : Scrolled up and seems like it has something to do with setcontext() calls, possibly to do with the volatile flag ?</p>",
    "created": "2025-09-19T21:57:55Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<md>In the time it took me to write a response, you solved it :D</md>",
          "comments": [
            "<p>Thank you so much for all your help !</p>\n<p></p>\n<p>3 more assignments to go...</p>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfrc1146ttw2n0",
    "subject": "Authentication Keep Failing",
    "content": "<p>Hi,</p>\n<p></p>\n<p>I\u2019ve been trying for the past three days to clone the A0 repository, but it keeps failing. I can log in successfully to the teach.cs machines, but that doesn\u2019t seem to work for git access. I\u2019ve read similar posts mentioning that the issue resolved itself after waiting, but in my case it hasn\u2019t, even after trying at different times throughout the week.</p>\n<p></p>\n<p>Since the submission deadline is in two days, I\u2019m concerned about not being able to complete the assignment. Could you please advise me on how to resolve this issue or suggest an alternative way to access the repository?\u00a0</p>\n<p></p>\n<p>Thank you!</p>\n<p></p>",
    "created": "2025-09-19T21:08:55Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfrb90cjod218i",
    "subject": "A1 marking scheme",
    "content": "<p>Since there are no hidden tests for deliverables, is the mark solely based off passing markus tests and meeting the solution requirements outlined in A1?</p>\n<p></p>\n<p>if there are other criteria to marking, will a marking scheme be released?</p>",
    "created": "2025-09-19T20:47:08Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfravz7825s7dd",
    "subject": "Looking for a group for G2",
    "content": "closed",
    "created": "2025-09-19T20:37:00Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfr9d11qhipha",
    "subject": "Byte Alignment/Assembly Understanding",
    "content": "<p>Just want to see how my understanding is for a function call, is the following correct?</p>\n<p></p>\n<p>Prior to executing, we push $RA onto top of stack, $RSP points to top of stack</p>\n<p>Function call executes, we push $RSB onto top of stack, $RSP points 8 bytes lower than previously\u00a0</p>\n<p></p>\n<p>Beyond that, is the stack misalignment a result of using setcontext?</p>",
    "created": "2025-09-19T19:54:16Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfr7izo87p35q0",
    "subject": "G2, Q2. Pattern?",
    "content": "<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0spin\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0yield\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 block\u00a0</p>\n<p>100\u00a0 \u00a02233410\u00a0 \u00a0 \u00a0 2626533\u00a0 \u00a0 \u00a0 \u00a01567384</p>\n<p>50\u00a0 \u00a0 \u00a01699780\u00a0 \u00a0 \u00a0 \u00a03673416\u00a0 \u00a0 \u00a0 1737212</p>\n<p>0\u00a0 \u00a0 \u00a0 \u00a02087247\u00a0 \u00a0 \u00a0 \u00a04636818\u00a0 \u00a0 \u00a0 2565039</p>\n<p></p>\n<p>Hello,\u00a0</p>\n<p></p>\n<p>I am trying to analyze the ops/second. I got this table (after averaging 3 tried) and I don&#39;t really see a pattern when varying cs_ns. Is this similar to what everyone else&#39;s tables?</p>\n<p></p>\n<p>I have a couple of questions:\u00a0</p>\n<ol><li>Why is it that when cs_ns increases, spin lock actually have more operations per cycle?</li><li>Why is spin and yield lock performing better than block?\u00a0</li></ol>\n<p>Thanks everyone!\u00a0</p>",
    "created": "2025-09-19T19:02:55Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I got the same results (for me yield was always the best, regardless of the params) and I was confused too. Its not what theory tells us, but tbh I think this is just to do with the testing method. I tried on both teach.cs and WSL and got similar results",
          "comments": [
            "<md>I'm surprised yield was best, because that should be slower than spinlock for small critical sections, and slower than block for larger ones.\n\nThe problem with this method is how susceptible we are to other programs / events influencing our results. We can somewhat mitigate this by running the benchmark for longer, and by taking an average across multiple runs, but it still is a problem (clearly).</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfr6sildpuf6aa",
    "subject": "Looking for G1 Group",
    "content": "Hi, just looking for someone to do G1 with real quick. My discord is bluepenguins if you&#39;re interested",
    "created": "2025-09-19T18:42:20Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Sent you a request! Please let me know if you are still looking for a partner.<br /><br />I am mnbvcxz1122",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfr293ih2hu126",
    "subject": "Are there hidden tests for T1?",
    "content": "^",
    "created": "2025-09-19T16:35:15Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfqw1abdadq2b4",
    "subject": "Advice for exit",
    "content": "<p>Hi, so I am so close yet so far to being done with this assignment.</p>\n<p></p>\n<p>I am unsure how exactly the freeing stack in thread_exit is supposed to be done.</p>\n<p>\u00a0Right now, my frees the code freees the dead thread&#39;s stack during the cleans up (destroy).</p>\n<p></p>\n<p>But since the assignment wants us to somehow free the stack during thread_exit, my exit tests fail as expected. Any ideas on how are we supposed to free a stack of a thread which is also the current one being run without causing some sort of segfault or weird issue.</p>\n<p></p>\n<p>\u00a0I have no idea how to go about this and it seems kind of impossible in my head... or maybe I am misunderstanding something.</p>",
    "created": "2025-09-19T13:41:13Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Thank you so much, finally fixed it now.\u00a0</p>\n<p></p>",
          "comments": [
            "<md>Well done! \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfquwrsh8v75an",
    "subject": "Looking for G2 Group",
    "content": "no longer looking",
    "created": "2025-09-19T13:09:43Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfq9jiyj8m710f",
    "subject": "G2: Show attempt history",
    "content": "For G1, we were able to see our attempt history and the responses we submitted/which one actually counted. For G2, I don&#39;t think that is enabled, and it led me to press &#34;new attempt&#34; by accident, and I&#39;m not sure if this overwrote my first set of responses.",
    "created": "2025-09-19T03:11:33Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thanks, that being said if its not too troublesome could the attempt history be enabled on G2 as well? This way we can see our responses and go back to resubmit what we wrote earlier",
          "comments": [
            "<md>Take a look (let me see if you can see it now).</md>",
            "Yep, I can see it now. Thanks so much!"
          ]
        }
      ]
    }
  },
  {
    "id": "mfq6g81g3v64ei",
    "subject": "Question about midterm/exam",
    "content": "I wanted to ask will this course have a lot of C coding on the midterm and exams? I notice that assignments are all C coding and the lectures are more theory based, but is part of this course examination our knowledge of C?\n\nSimilar to csc209?",
    "created": "2025-09-19T01:45:00Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfptqy6vosy2ah",
    "subject": "What happens if we call thread_yield with the tid of the current running thread?",
    "content": "What should happen if thread_yield with\u00a0<code>want_tid == thread_id()</code>? Should we simply return THREAD_RUNNING since the wanted thread is the current thread? Or would we return something else like THREAD_NONE?",
    "created": "2025-09-18T19:49:25Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I&#39;m also using THREAD_RUNNING as a macro in my program but as a way to keep track of the individual thread&#39;s state. Should we not be doing this?",
          "comments": [
            "<md>Oh okay. You're allowed to do that, I was just confused because \"THREAD_*\" is the convention we've been using for our error codes, so I thought you discovered some secret hidden one that I've never seen!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfps0fdym8o43u",
    "subject": "allocating more than the minimum",
    "content": "Are we allowed to allocate more than\u00a0THREAD_MIN_STACK for the stack? Around maybe 50 more bytes for handling byte alignment.",
    "created": "2025-09-18T19:00:48Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfprmxn5awnv0",
    "subject": "thread_yield: thread is not runnable",
    "content": "What do we do to the calling thread if not runnable? Is it possible we could have a case like this?\u00a0",
    "created": "2025-09-18T18:50:19Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>I have a follow-up question.\u00a0</p>\n<p>The instruction says thread_yield may also fail because the thread with want_tid being blocked.\u00a0 The zombies are considered as being blocked, right?\u00a0</p>\n<p>Just wondering the definition of being blocked.\u00a0</p>",
          "comments": [
            "<md>If the thread with `want_tid` is not a valid thread to switch to (i.e. you can't run it for any reason) then `thread_yield` should \"fail\". The handout just gives you a few examples of cases that would be considered \"invalid\". \n\nZombie threads aren't really blocked; blocked implies they are not runnable because they're waiting for \"something\" before running again, while zombie threads are never going to run again. For your purposes, both should not be possible choices for the \"next\" thread, but they are not strictly the same thing.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfpokrlshxv6cw",
    "subject": "thread_destroy",
    "content": "<p>I&#39;m a little confused about what exactly needs to be done inside thread_destroy.\u00a0</p>\n<p>I understand that we should make the dead thread&#39;s ID available for reuse, but the instructions also mention fully cleaning up the thread structure.\u00a0 Since the thread&#39;s stack was already freed earlier, it seems that the only remaining cleanup is freeing the memory allocated for the thread structure. Am I on the right track?\u00a0</p>",
    "created": "2025-09-18T17:24:39Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfpnjnn8hx43to",
    "subject": "Are we allowed to modify thread_stub?",
    "content": "My question is just the title: Are we allowed to modify thread_stub? I&#39;m just thinking of how to free A&#39;s stack when we exit to thread B.",
    "created": "2025-09-18T16:55:47Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfpnit0l53cyc",
    "subject": "My OH at BA5287",
    "content": "<md>Hi everyone,\n\nJust FYI that my office hours have permanently been moved to BA5287, 2:30 to 3:30pm, starting today.\n\nBest,\n\nJack</md>",
    "created": "2025-09-18T16:55:08Z",
    "tags": [
      "instructor-note",
      "logistics"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "Hi, for some reason the door is locked\u2026",
          "comments": []
        },
        {
          "content": "<md>5287</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfpmmbp0t864d0",
    "subject": "Looking for G1&#43;G2 group",
    "content": "Hey I am looking for a group. If you are interested, my discord is bubblepabo",
    "created": "2025-09-18T16:29:52Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "<md>Sent a discord request</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfpinms0rcq6a4",
    "subject": "Adding more functions to fcfs.c",
    "content": "<p>I was wondering if we can add &#34;new&#34; functions to fcfs.c.</p>\n<p></p>\n<p>\u00a0For example, I think having a function like e.g. queue_count or top might be very useful.</p>\n<p></p>\n<p>Edit : Hmm nvm I don&#39;t think we need them, and we aren&#39;t allowed to changed scheduler.h</p>",
    "created": "2025-09-18T14:38:55Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfokjlhgul079y",
    "subject": "Valgrind test fail",
    "content": "<pre>\n<code>Running: scripts/a1-02-valgrind.py \nvalgrind test\nERROR: TIMEOUT: not found: All heap blocks were freed -- no leaks are possible\nMark for valgrind test is 0 out of 5\nFAIL</code></pre>\n<p></p>\n<p>I am getting 0, with a timeout error. When I use valgrind, I get a lot of\u00a0 warnings such as below (but it still passes and all heap blocks were freed).\u00a0</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9pc057g1l381%2Fb1f25f062ad821c65715d99ccdbd2f7eb3e8bccd01ad3410f91cd75155019309%2Fimage.png\" alt=\"image.pngNaN\" width=\"1618\" height=\"901\" /></p>\n<p></p>\n<p>How do I fix, is it something I can ignore?</p>",
    "created": "2025-09-17T22:44:00Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Here is the output for `valgrind ./test/create`</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9pc057g1l381%2F3cae34c4afb83d2d15ba0a5cd1d4f4685e93000b9679944fd11cad5ffdfb71f7%2Fimage.png\" alt=\"image.pngNaN\" width=\"1357\" height=\"557\" /></p>\n<p></p>\n<p></p>\n<p>Here is the output of `time valgrind ./test/create`</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9pc057g1l381%2F77e1781b6702e4e54e0cb88d932f1a71255317f4dfcd6baf96b53464782ce0fb%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
          "comments": [
            "<md>Hi, can you check `./test/main` and how long it takes for it to complete?\n\n-- Update --\n\nHi, never mind. I downloaded your code and ran the tester locally to verify, it is indeed just a timeout issue. I have increased the timeout for valgrind and you should see that your solution now works on that specific test.</md>",
            "Thanks for checking it for me. I ran the tests and got full marks? But in the feedback.txt it says:<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm9pc057g1l381%2F6e1dc973323f4cc77b35532bd76a1a730e873a27d9e89ee247c3ab963acdb77c%2Fimage.png\" alt=\"image.pngNaN\" />",
            "<md>Oops, sorry, try again, should be fixed now. Sorry for earlier :3</md>",
            "fixed, thank you."
          ]
        }
      ]
    }
  },
  {
    "id": "mfo6w9gg4vx6xd",
    "subject": "confused on how to approach thread_get",
    "content": "I don&#39;t know how to approach implementing this function. I know that we need to check running, ready, blocked, and zombie threads because those compose all of the threads. Checking the running thread is easy because we have a global var for it but checking the ready threads is hard because the ready queue attribute is private to fcfs file. Then I have no idea how to check blocked and zombie threads. My best guess would be to make a global array to keep track of every thread ever created but I don&#39;t know if we are meant to do that. I know in the assignment description it says to define an array statically to keep track of the ready threads but I suppose this is different?",
    "created": "2025-09-17T16:21:56Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfo570rsf4k5k0",
    "subject": "Valgrind Memory Leak",
    "content": "Hi, I&#39;m stuck on how to fix a memory leak in the main.c and create.c test. For the other tests, I was able to get all heap memory freed but I don&#39;t know why main.c and create.c would cause leaks but not the other tests. I know that in main and create, the main thread exits before the program ends but I don&#39;t think this was the issue because the leaked memory was created in thread_create. In main.c I lost one stack, and in create.c I lost 2 stacks. I&#39;ve tried debugging for 2 days but I don&#39;t know how to approach this anymore",
    "created": "2025-09-17T15:34:19Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I believe I am freeing the last running thread, and it works in all the other test files. I created a helper function and temp stack so that whenever a thread calls thread_exit, it calls the helper function which uses the temp stack (through a context switch) and frees the stack, and this is done before thread_end is even called (through ut369_exit()). I know it is possible to achieve this without context switching, but I am wondering why this approach isn&#39;t completely working.",
          "comments": [
            "<md>I was talking about something different. I was talking about in `thread_create`, when we are unable to find a valid TID (i.e. we are at the limit for threads in the system). Some people have structured their code to first allocate the stack and then to find an available TID, meaning that if the TID search fails, they forget to free the stack. This is a case that I believe only shows up in `main.c` and `create.c`, and none of the other files. Perhaps check if that case is handled correctly first?</md>",
            "Yes, thank you so much! This was the issue",
            "<md>Glad I could help \\:)</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfo227vruua5s4",
    "subject": "Help with byte alignment",
    "content": "<p>Hello, I have a few questions about the byte alignment in A1</p>\n<p></p>\n<p>1. Does 16 byte alignment means the last hex number ends with 0 (example: <strong>0xFFF0) ?</strong><br />2. When we align the creation of the stack to 16 types, how can we be sure that it will still be aligned when we call thread_stub?<br /><br />Any help is much appreciated thank you.</p>",
    "created": "2025-09-17T14:06:36Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfndrofzvtl1zz",
    "subject": "Using queue.c in fcfs.c",
    "content": "Sorry if this was already answered in @114, but I&#39;m a little stuck understanding how to implement fcfs.c<br /><br />My immediate intuition since we&#39;re using queue.c was to use the methods from queue.c, however, since we use struct thread instead of struct node_item, does this still work? Must we cast the type back to a node_item before using the queue.c functions? I looked at rand.c for some help but noticed all of those functions don&#39;t use the implementation of queue.c but rather it&#39;s own implementation is created",
    "created": "2025-09-17T02:46:33Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfnco7u8zgo41m",
    "subject": "Sep 15 recording",
    "content": "Hi I&#39;m just wondering when the recording for the Monday class will be posted? Also usually how long after a class ended can we expect a recording to be posted? Thank you!",
    "created": "2025-09-17T02:15:52Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfncb8vrzez6dx",
    "subject": "Looking for a group for G1/G2",
    "content": "Hey everyone! I&#39;m a 5th year CS Spec student, im looking for a group for the group exercises, if anyone is interested, my discord is epic7322",
    "created": "2025-09-17T02:05:47Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfnayx7z2lvwx",
    "subject": "A0 refuse to compile",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fljsl2ro1eww5m2%2Fbb724480ad54a3c9901b74c7241a9d26d2b9ff4f20b88a06113db44052fb53ee%2Fimage.png\" alt=\"image.png\" /></p>\n<p>this error occurs even with both my finished code and starter file</p>",
    "created": "2025-09-17T01:28:12Z",
    "tags": [
      "exercise",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Ubuntu, same for my 209 labs",
          "comments": [
            "<md>Try running `which gcc`. The output should be something like `/usr/bin/gcc` or something. If that doesn't work, you might be missing GCC in your path for some reason.</md>",
            "<md>Also, as a side node, please try using the teaching lab as much as possible for your assignments. \n\nIf your code doesn't compile on the teaching lab machines (where our testers are ran), you will just end up getting 0 (which is bad!).</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfna7nos887ee",
    "subject": "queue.c init update",
    "content": "do we need to update the init for node in queue.c to account for the additional attributes that we add?",
    "created": "2025-09-17T01:07:00Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I dont see how that is relevant to the question",
          "comments": [
            "<md>I'm sure Anon. Gear just misread your question, happens to the best of us \\:D</md>"
          ]
        },
        {
          "content": "yeah i was just thinking that in therad_init we call the node init to initialize all the attributes of the thread",
          "comments": [
            "<md>Just as a helpful tip, `thread_init` isn't the only place you initialise a thread!</md>",
            "yes but we need to initialize the first thread here right?",
            "<md>Yes you do. My point was that there are also other places you need to initialise threads \\:)</md>",
            "Oh thanks sorry i misunderstood. So then if we initialize the first thread in the init function are we first called the node_init function on it and then the thread_create function (which we need to implement) for the remaining attributes?",
            "<md>`thread_create` and `thread_init` serve two separate functions. `thread_init` is just to create a \"representation\" of the initial thread (i.e. create a `struct thread` for it), while `thread_create` has more work to do (including allocating a stack, and manipulating the newly created thread so that it starts at the given function).\n\nThere is some common functionality between them, and you're free to make that a separate helper function, but there is enough difference between `thread_init` and `thread_create` that you can't just call one inside the other.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfn9wd0ihjx162",
    "subject": "A0 Submission and also generally",
    "content": "<p>As I followed the instruction of adding starter files to repo, they also show up in the submission (I have not modified them though), so is that okay?</p>\n<p></p>\n<p>The names of the files are .gitignore, main.c, Makefile, queue.h and of course the required files as well (node.h and queue.c).</p>",
    "created": "2025-09-17T00:58:13Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfn9ukmf9u92ej",
    "subject": "Scp Reminder",
    "content": "<p>Just a reminder to those of us using Ubuntu on Windows: scp has to be done in the Windows terminal for copying files to and from local/teach.cs. Do not do it on Ubuntu.</p>\n<p></p>\n<p>I&#39;d forgotten and figured I&#39;d leave a note in case anyone else did too.</p>",
    "created": "2025-09-17T00:56:50Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfn8ee2gxiq4xn",
    "subject": "Confused about queue.c and fcfs.c connection",
    "content": "So I&#39;m a little confused on how to use queue.c in fcfs.c or if we are even meant to do that. I would assume so because we copied our implementation from A0 to use in this assignment however all of the queue functions expect a node type based on how we defined it. The problem is that this is too generic and cannot be translated to fcfs.c because of the type mismatches. My question is do we just change queue.c in A1 to work with the thread type or do simply add the thread as an attribute to the existing node object?",
    "created": "2025-09-17T00:16:15Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfn685wtzsg3ln",
    "subject": "Looking for a G1 Group",
    "content": "Hi everyone, I\u2019m looking to join a group for G1. If any group still has space, I\u2019d be happy to join. And if anyone else is also looking, I\u2019d be glad to team up!",
    "created": "2025-09-16T23:15:25Z",
    "tags": [
      "group-activity",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": [
        {
          "content": "I&#39;m also looking for a group still. if you want to team up my discord is phvz",
          "comments": [
            "Just requested."
          ]
        }
      ]
    }
  },
  {
    "id": "mfn5dgqz9d1a7",
    "subject": "Is a running thread runnable",
    "content": "<p>This will sound extremely stupid, but for the purposes of thread_runnable, is a thread in the say RUNNING state runnable ?</p>\n<p></p>\n<p>Clearly all the threads in the READY state are, and of course if a thread is RUNNING then by defn it can be run i.e it is runnable. But like surely I wouldn&#39;t want to context switch into an already running thread from an already running thread (since we&#39;re using a single core CPU ig then there&#39;s really no point in context switching into itself).</p>\n<p></p>\n<p>Yeah sorry if this is stupid.</p>",
    "created": "2025-09-16T22:51:33Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfmwcu5jb2i214",
    "subject": "Permission denied when trying to run code for G1",
    "content": "<p>See screenshot below, but I am running a virtual instance of the teaching labs and I was able to complete work our assignments from Markus but I can&#39;t seem to access anything for G1.</p>\n<p></p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fl5rdw7qw3gik0%2F79c44c66a5cdbb0bcb17e4141436465d639402914df5895d22ca54f884c864f1%2FScreenshot_2025-09-16_at_2.37.31_PM.png\" alt=\"Screenshot_2025-09-16_at_2.37.31_PM.pngNaN\" /></p>",
    "created": "2025-09-16T18:39:07Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfmvmp32e2342w",
    "subject": "lock and cv for A1?",
    "content": "Do we need to finish the functions related to locks and condition variables (cv) for A1?\u00a0\u00a0",
    "created": "2025-09-16T18:18:48Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfmovowcwaz4u8",
    "subject": "Putting TID==0 in Ready Queue",
    "content": "Should we put the thread (tid==0) in the ready queue?\u00a0",
    "created": "2025-09-16T15:09:50Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>A follow-up question.\u00a0</p>\n<p>After thread_init, should we be able to add the thread (tid = 0) to the ready queue later on? Thank you!</p>",
          "comments": [
            "<md>Yes, because it should be \"just another thread\" according to your system. There should not be anything particular special about the initial thread (aside from the fact that we didn't allocate its stack).</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfmmjczhuzt18y",
    "subject": "immediately freeing the stack",
    "content": "<p>When a thread becomes a zombie, do we have to immediately free its stack? Or\u00a0is it fine to let the scheduler (eventually) schedule a waiting thread that will then free the zombie&#39;s stack and reap its exit code.\u00a0</p>\n<p></p>\n<p>On that note can we also assume every thread will have a corresponding waiting thread to clean it up besides the last thread?</p>\n<p></p>\n<p>My question comes from this point:</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54b1fbplk1bc%2Fc90cf4aaf6536a1713722e35d8e5722b2973e8636b647c497438da41591e71c9%2Fimage.png\" alt=\"image.png\" width=\"444\" height=\"100\" /></p>",
    "created": "2025-09-16T14:04:15Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Yeah I meant the latter, basically like the parent thread that waits for its child to die, I called that parent thread the waiting thread.</p>\n<p>But since a thread can&#39;t free its own stack, we have to depend on another thread to free a zombie&#39;s stack right?\u00a0But you said that before B starts running its function, A&#39;s stack should already be freed. Or is there another way?</p>",
          "comments": [
            "<md>I'm going to be nitpicking about terminology here: technically there is not \"parent\" or \"child\", it is just \"current\" and \"next\". \\:)\n\n> But you said that before B starts running its function, A's stack should already be freed.\n\nBeing more specific, I said \"before B starts running the _function it was assigned_\". When we switch to B, it shouldn't resume from somewhere in the assigned function. Instead, it should resume inside a function in `thread.c` (probably `thread_switch`). This doesn't count as \"running the assigned function\", so you're allowed to free the stack at that point (or a later point in thread.c, it just must be done before `fn` resumes execution). The idea is that you shouldn't put it off until the thread is destroyed.</md>",
            "I get it now, thank you!"
          ]
        }
      ]
    }
  },
  {
    "id": "mflvtjdtlz06a8",
    "subject": "A1 hidden tests?",
    "content": "Sorry if this was already mentioned, but are there any hidden tests for A1?",
    "created": "2025-09-16T01:36:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mflrfs1hcpi71l",
    "subject": "T1 stack growth direction",
    "content": "<p>Here is my source code for T1 before compiling:</p>\n<p>long start, end;</p>\n<p>int err;</p>\n<p>volatile int setcontext_called = 0;</p>\n<p></p>\n<p>And the outputted memory addresses:</p>\n<p>memory address of the variable start = 0x7ffdbe5cfc38\u00a0<br />memory address of the variable end = 0x7ffdbe5cfc40 <br />memory address of the variable err = 0x7ffdbe5cfc30 <br />memory address of the variable setcontext_called = 0x7ffdbe5cfc34<br /><br />Why did the stack addresses first increase, then decrease, then increase again?\u00a0<br />I thought each subsequent variable would be at a lower stack address than the previous.</p>\n<p>I also added the -O0 flag when compiling but the same pattern appears.</p>",
    "created": "2025-09-15T23:33:40Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mflnjn0i2c4566",
    "subject": "example for using pthread_join in the textbook",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm961kit7t05ba%2F66551b433c201f4ed27c3156a6c5f330a6add0553d459be0903c075aeeacb7d0%2Fimage.png\" alt=\"image.png\" /></p>\n<p>For the second argument of pthread_join, rvalue is a long long int so &amp;rvalue is a pointer to long long int, why can it be cased by (void **) which means a pointer to pointer to something?</p>",
    "created": "2025-09-15T21:44:42Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mflnezn1xxj56y",
    "subject": "A1 zombies",
    "content": "<p>Does a thread become a zombie after it exits, either explicitly or implicitly?\u00a0</p>\n<p>Thank you.</p>",
    "created": "2025-09-15T21:41:05Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mflh64vzmou4q1",
    "subject": "How to use thread_stub?",
    "content": "I have question about how we are supposed to use thread_stub within thread_create()\u00a0 since based on the descriptions I thought we weren&#39;t supposed to start calling the function the thread was supposed to run yet when a thread is executed. Any hints is much appreciated. Thank you!",
    "created": "2025-09-15T18:46:14Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mflghqz9p485nx",
    "subject": "What to take from T1",
    "content": "<p>General Q:</p>\n<p>So I&#39;ve completed T1, and I was just curious on what we should takeaway from the work. Was this meant to be mainly a review of 209 address spaces and C syntax. Or was there more. Is there specific content here which we will need to know for our midterms/exams. <br /><br />Sorry if I formatted this question weird. \u00a0</p>",
    "created": "2025-09-15T18:27:16Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Thank you, I was also wondering on how this ties back into our Midterms and Exams. Like for example how we are creating a user-level thread in our Assignment. Will we be expected to do this in our Midterms/assignments. Or are we supposed to have the structure of ucontext_t struct memorized.\u00a0<br /><br />",
          "comments": [
            "<md>> Will we be expected to do this in our Midterms/assignments.\n\nWe're not cruel enough to make you rewrite assignment code on an exam! :0\n\nYou'll be expected to know and be able to apply the concepts, which may include writing some code, but it won't be anywhere near the level of the assignments. We might ask you about particular functions from assignments, or to write a _heavily simplified_ implementation for a variation of a function from your assignment. \n\n> are we supposed to have the structure of ucontext_t struct memorized. \n\nDefinitely not!</md>",
            "Thank you!"
          ]
        }
      ]
    }
  },
  {
    "id": "mflduws4ymkza",
    "subject": "Looking for a Group",
    "content": "Hi, I&#39;m looking for a group to complete group activities.",
    "created": "2025-09-15T17:13:32Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "just requested :)",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfl7t2kfc9p1f8",
    "subject": "Midterm 1 information",
    "content": "When will midterm one information be released? I am registered with accessibility services and they require 2 weeks notice before you can book for accommodations.\u00a0",
    "created": "2025-09-15T14:24:08Z",
    "tags": [
      "midterm1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfkhjdsux5i7d",
    "subject": "Question about thread_get function?",
    "content": "&#34;Returns the thread structure of the thread with the identifier\u00a0<code>tid</code>, or\u00a0<code>NULL</code>\u00a0if no thread with that\u00a0<code>tid</code> exist.&#34;<br /><br />If a thread is terminated but hasn&#39;t been cleaned up yet through thread_wait, should a call to thread_get to a terminated (zombie) thread return that thread structure or should it return NULL?<br /><br />Edit:<br />nvm it should return a thread even for zombie threads bc its used in thread_wait, dont know how to delete this qn TT",
    "created": "2025-09-15T02:08:46Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfkc35b1k6r5q5",
    "subject": "mmap, modifying thread_wait",
    "content": "Hi, I noticed that test/create.c checked if the stacks were too close so I was wondering if we could use mmap. I also want to know if we can modify thread_wait (i just want to add a line to keep track of an attribute)",
    "created": "2025-09-14T23:36:10Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>i was thinking of protecting some memory between the stacks which might help prevent the stacks from being too close, but i don&#39;t think this is the main problem anymore. by running create.c, i noticed that only the threads with higher tids had this issue so im wondering if this is an issue with my pc potentially running out of memory or with my code.</p>\n<p></p>\n<p>for thread_wait, the documentations say that multiple threads can wait for a thread if it hasn&#39;t exited yet. however, each waiting thread calls destroy on the thread, which is supposed to clean up the thread. does this include freeing the thread? if not, then does that mean we can free the thread elsewhere? but assuming destroy() is responsible for freeing the thread, if we free the thread then wouldn&#39;t the the other waiting threads be calling destroy() on a dangling pointer? my initial attempt to this was to add an attribute to the TCB that helps decide when to actually free the memory in destroy. if i&#39;m not allowed to do this, then my next attempt would be to free the thread elsewhere.</p>",
          "comments": [
            "<md>> my pc potentially running out of memory or with my code.\n\nIt's unlikely to be your PC running out of memory: if you're allocating THREAD_MIN_STACK, then each thread has a stack of 32 kiB, and so even with 1024 (or THREAD_MAX_THREADS) threads in the system, you're only allocating 32 MiB.\n\n> for thread_wait, the documentations say that multiple threads can wait for a thread if it hasn't exited yet.\n\nThis is for A2, not for this assignment. For A1, we have provided a placeholder implementation, and we guarantee that the tests only call `thread_wait` once per thread.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfkbh6fbfsd9b",
    "subject": "Difference between uc_stack and stack pointer register (%rsp) in ucontext_t",
    "content": "I am a bit confused about the difference between the two and if %rsp should be pointing to uc_stack. Also, are we allowed to modify uc_stack, or are we only allowed to just modify the stack pointer register?",
    "created": "2025-09-14T23:19:05Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfkbdwnisle1zb",
    "subject": "Looking for G1 group",
    "content": "Hi! I&#39;m looking for a group to complete G1 with, if anyone is still looking for a group / can take one more member, please reach out!",
    "created": "2025-09-14T23:16:33Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Thanks! Just requested.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfk7cpxylx13gu",
    "subject": "Are we supposed to answer the commented questions in T1?",
    "content": "I see we have the inline questions in T1, do we have to answer those in the code?\u00a0",
    "created": "2025-09-14T21:23:39Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfk71n45zn224u",
    "subject": "Interpreting Markus Tests",
    "content": "<md>Hi, I'm unsure about how to interpret these errors in the Markus test for A1\n```\nRunning: scripts/a1-05-create.py \ncreate test\nERROR: EOF: not found: ^thread (\\d+) created thread (\\d+)\n\nERROR: EOF: not found: ^thread limit reached at thread (\\d+)\n\nERROR: EOF: not found: ^exiting program with code 42\n\nMark for create test is 24 out of 28\nFAIL\n```\nIt appears the test isn't finding those specific lines however when I run the `./test/create` test it seems to be working properly:\n```\n...\nthread 124 created thread 125 \nthread 125 created thread 126 \nthread limit reached at thread 126 \nexiting program with code 42\n```\nI'm not sure what could be the reason since I am running on the lab machines so it should be the same?</md>",
    "created": "2025-09-14T21:15:02Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Thank you I see now</md>",
          "comments": []
        },
        {
          "content": "will adding debug print statements affect the autotester?",
          "comments": [
            "<md>It is possible, and I think it has caused issues with some tests before. I believe we give you the tests in the starter files, so you're free to run them yourself with the debug prints statements instead of using the autotester.\n\nI'll also check and confirm about debug prints and how the autotester works, and update this when I get a response.\n\nUpdate: see below \\:) (thanks Ray!)</md>",
            "<md>Yes, please don't add debug prints in the final submission, it very likely will interfere with our tester!\n\nOnce you believe the behavior of your code matches what is expected, remove the debug prints and run the tester!</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfk4cgvqtalba",
    "subject": "G1",
    "content": "<p>Anyone looking for a group to discuss G1 with?<br /><br />I&#39;m going through G1 myself and was looking to discuss concepts with someone</p>\n<p></p>\n<p>Thanks</p>",
    "created": "2025-09-14T19:59:28Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfk0z2xj8mc2wq",
    "subject": "main.c",
    "content": "<p>A1 instructions say we&#39;re provided with the program main.c for testing this assignment. However, I dont see a main.c file in my repo. Is it my problem or the main.c file is missing?\u00a0</p>\n<p>Thank you\u00a0</p>",
    "created": "2025-09-14T18:25:05Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfk0wuyr3on3wp",
    "subject": "thread_create question",
    "content": "For thread_create, it says that &#34;This function creates a thread whose starting point is the function fn&#34;. What is fn supposed to be actually? Is it the function that the thread is trying to execute?\u00a0",
    "created": "2025-09-14T18:23:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfjxt26lohw67n",
    "subject": "Can we define any new functions or using new libraries?",
    "content": "In the requirements I see that we <strong>must not</strong> make calls to any existing thread libraries (e.g., Linux pthreads). However, can we use other non-thread libraries or we can only use the ones that already exist in the file?\u00a0 Also, can we define our own functions in addtion to the functions that needs us to implement? Or is it necessary to do that?",
    "created": "2025-09-14T16:56:25Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfj2l998mnf469",
    "subject": "main thread early exit",
    "content": "<p>In the hints it says &#34;It is possible for the initial tread (TID == 0) to call thread_exit() while other threads are still running&#34;. So will the main thread actually exit in this case, or are we supposed to\u00a0prevent this from happening? If the main thread\u00a0<em>can</em> exit while other threads are running, then can future threads reuse id 0? (after the main thread has exited)</p>\n<p>I am assuming the main thread cannot exit early because that would complicate the cleanup routine for the kernel level thread? Since ut369_end would then be called from a non id=0 thread, but it seems to assume the last thread should be the main thread because it calls exit().</p>\n<p></p>",
    "created": "2025-09-14T02:22:33Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Thank you for the response. So I guess if the final thread is not the initial thread, then its stack cannot be explicitly free&#39;ed because it depends on it and no other thread exists to reap it?\u00a0So, exit() will just free the kernel level thread&#39;s stack and this final thread&#39;s stack.</p>\n<p></p>\n<p>Also, can id 0 be reused?</p>",
          "comments": [
            "<md>It may be worth looking at the `ut369.c` file. We use a `setcontext` call to effectively \"switch away\" from the stack for whatever thread is running, and so you should free the stack of the final thread.\n\nIn general, we want you to be able to run this in Valgrind and not have any memory leaks.</md>",
            "<md>Oh also, I missed this, but yes, ID 0 can be reused (and I believe one of the tests actually does that!).</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfirpamsdwu1co",
    "subject": "e1 Q7",
    "content": "<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fksx3fasgjyx2cw%2F6f39b64601dc9a47e410a8ca6f976095ef80e4ddc8a81b87812aa8ff7aad7a55%2Fimage.png\" alt=\"image.pngNaN\" />\nFor the option &#34;reading the CPU register that holds the address of the Interrupt Descriptor Table &#34;\n\nFrom the PPT, we know that we only read IDT after we switch to kernel mode. Why is this not a privileged instruction? \n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fksx3fasgjyx2cw%2Fe03758d3f6c529183a7864eebbb8d5c28f55f7ee970bb2d89af9c477f5d24b46%2Fimage.png\" alt=\"image.pngNaN\" />",
    "created": "2025-09-13T21:17:46Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfiozdfsvu61t4",
    "subject": "G1: Q7",
    "content": "My group and I are working through G1, Q7: As is, mergesort_pthreads can never outperform mergesort_seq, regardless of input size. Why is this the case? How would you change mergesort_pthreads so that it could eventually achieve better performance than mergesort_seq on sufficiently large inputs?<br /><br />We thought that mergesort_pthreads would not outperform mergesort_seq for smaller input sizes because it takes time and resources to create and destroy threads. On the other hand, mergesort_pthreads would outperform mergesort_seq for larger input sizes because parallelization would improve speed.\u00a0<br />We are confused on why the question states that mergesort_pthreads can <strong>never</strong> outperform mergesort_seq. Is mergesort_pthreads not running the threads in parallel?",
    "created": "2025-09-13T20:01:37Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "maybe we can use thread pool and priority queue",
          "comments": [
            "<md>A thread pool is a good approach. What's the reasoning for the priority queue?</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfiofuz6lx42j7",
    "subject": "G1 Solutions",
    "content": "Will we have access to solutions to group activities after the deadline?",
    "created": "2025-09-13T19:46:27Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfio79yjw132da",
    "subject": "G1, Q5",
    "content": "My group and I are working through G1, Q5: Which is faster, mergesort_fork_shm or mergesort_fork_noshm? Why? (Do not consider correctness for this question). We believe that mergesort_fork_shm is faster than mergesort_fork_noshm because we reduce time by writing to the same shared memory region. Is this the correct line of thinking?",
    "created": "2025-09-13T19:39:46Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I thought the shm would be faster, because it doesn&#39;t have to reallocate memory every time and just accessing the same memory?\u00a0",
          "comments": [
            "I thought noshm is usually a little faster than shm\u00a0because it doesn\u2019t have to do the extra work of setting up and using shared memory.",
            "<md>As I said in my answer, try and run both a few times and see what happens instead of trying to theorise, the results will surprise you!\n\nIn reality, both take roughly the same amount of time to run (with some minor variations in the runtime). This is because the cost of forking and creating new processes is far and away the most significant cost, and not the cost of the memory writes / `shmget` syscall.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfhve206day1ou",
    "subject": "Looking for a group to do G1 with.",
    "content": "As title, I&#39;m looking for 1 or 2 people to do G1 (and potentially all other group activities in the future) with. Please dm me on discord (eren_not_from_aot) or email me (<a href=\"mailto:eren.aydin@mail.utoronto.ca\" target=\"_blank\" rel=\"noopener noreferrer\">eren.aydin@mail.utoronto.ca</a>) if interested",
    "created": "2025-09-13T06:13:14Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfhrenejgt822a",
    "subject": "Generating thread ids",
    "content": "Are we allowed to know the best way to generate new thread ids and implement them so that ids are also reusable once that thread is reaped? Or any hints would be appreciated. Currently I can only think of incrementing a global id or setting up an entire stack that pushes reaped ids onto it, but\u00a0would that be too complex?\u00a0",
    "created": "2025-09-13T04:21:43Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfhdnghp84i48p",
    "subject": "Question about Saving GPREGs in 2 places in Context Switching",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllzmgvlz32355l%2F799aee4d352de90f549809d9d326f2497f7d194edc1332c136baf8f3a014ab7d%2FScreenshot_2025-09-12_at_17.40.28.png\" alt=\"Screenshot_2025-09-12_at_17.40.41.pngNaN\" width=\"431\" height=\"243\" /></p>\n<p></p>\n<p>If I&#39;m understanding correctly, the general purpose registers in user mode are first saved onto the kernel stack of A when an interrupt first takes place. At the time the interrupt takes place, there&#39;s no knowledge of whether its any other regular interrupt that does not require a context switch or if its an interrupt leading upto a context switch so it saves to the kernel stack of A like it would do for any normal interrupt. The prior program counter and stack pointer are also saved to the kernel stack to be retrieved later.<br /><br />Then maybe the first instruction for the interrupt handler for context switches saves the GPREGS of A to the context of A which is held in the PCB(A), and PCBs also reside in the kernel&#39;s address space like the other data that we just saved to the kernel stack.<br /><br />I&#39;m not sure if this is a dumb question, but why do you need two saves of the GPREGS(A) to different places if they are both on the kernel?<br /><br />I don&#39;t understand the distinction between the general purpose registers for A in user mode (GPREGS(UA)) and the general purpose registers for A in kernel mode (GPREGS(KA))? I might be mistaken but is it that the only difference is in the SR/Current provision level register is set to 3 for UA and 0 for KA but all other register values are the same? If thats the case, then would the reason for that be so that in future context switches when you load GPREGS(KA) into the CPU, you begin in kernel mode?\u00a0</p>",
    "created": "2025-09-12T21:56:39Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfhcxfmybvh6op",
    "subject": "Can we share/discuss answers to group activities here?",
    "content": "<div>\n<p></p>\n</div>\n<p>Can we discuss answers to group activities here? Can we share parts of our answers in these discussions?</p>",
    "created": "2025-09-12T21:36:25Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfhbfu6rrw1r8",
    "subject": "Question about G1",
    "content": "<p>Hi everyone,</p>\n<p></p>\n<p>I\u2019m working on the mergesort assignment and have been trying to compile the provided C files (mergesort_seq.c, mergesort_fork_noshm.c, mergesort_fork_shm.c, and mergesort_pthreads.c) on my Mac. Some of them compile fine, but others give me errors \u2014 especially the version that uses System V shared memory (shmget, shmat, etc.).</p>\n<p></p>\n<p>Is this expected when working on macOS? Should I be able to run all four versions locally, or is the idea that we\u2019re supposed to test them on the Teaching Labs servers (where Linux is running)?\u00a0Just want to confirm if others are seeing the same thing, or if I\u2019m missing some setup step on my Mac.</p>\n<p></p>\n<p>Thanks!</p>",
    "created": "2025-09-12T20:54:44Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "For the last question, is it possible that we can create a fixed number of threads at the start, and give them work from like a queue?",
          "comments": [
            "<md>Yes, that\u2019s one possible approach! We tend to call that a \u201cthread pool\u201d (that\u2019s a term you\u2019ll see in Java and Python (and maybe other languages, those are the two I know for certain), with their\u00a0`ThreadPoolExecutor\u00a0objects).`</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfh7b48wpaa4pp",
    "subject": "Unable to see logs for MarkUs tests",
    "content": "<p>For A0 I am not able to see a breakdown of the test cases I failed.<br /><br />EDIT: Here is the Screenshot. The feedback just says log.txt and does not provide me with a breakdown of the tests.\u00a0</p>\n<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fjqlyfdoed4n4qz%2F7b6d81660bf41d3959171efa9f3f9534d731452a5b7dd608226d8086667c6ebc%2FScreenshot_2025-09-15_at_4.14.40_PM.png\" alt=\"Screenshot_2025-09-15_at_4.14.40_PM.pngNaN\" /></p>",
    "created": "2025-09-12T18:59:06Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "updated with a screenshot.",
          "comments": []
        },
        {
          "content": "What worked for me was changing from dark mode to light mode as the small icon to show the tests became visible.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfh3cn4flup5j0",
    "subject": "Should a thread continue running if it yields to itself?",
    "content": "If a thread A yields to itself, is there any need of a context switch or rescheduling? So can we just return its thread id?",
    "created": "2025-09-12T17:08:18Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfgsux9cur95ay",
    "subject": "Should we be concerned if a thread&#39;s stack exceeds THREAD_MIN_STACK?",
    "content": "If a thread&#39;s stack exceeds the size we have given it, what should we do?",
    "created": "2025-09-12T12:14:36Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfgso9qfdx82ku",
    "subject": "What happens if a thread is killed twice before exiting?",
    "content": "Let&#39;s say there are 3 processes: A, B, and C. And lets say A is running and kills process C. Then A yields to B and B tries to kill process C as well (before process C exits).<br /><br />Should process B&#39;s kill API\u00a0 do nothing and return a success or should it fail?",
    "created": "2025-09-12T12:09:25Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfg6zyim48a4u2",
    "subject": "Need advice, how and where do we even start with A1?",
    "content": "I&#39;ve been reading the A1 assignment page, and just feeling overwhelmed and confused by how everything ties together into a single system. I&#39;ve read the FAQs and hints, but still don&#39;t know how to begin. How do we even start thinking about a system like this?",
    "created": "2025-09-12T02:02:39Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Something I find helpful is writing down/graphing/making it visual, what function does what/relationships between them if any<br /><br />You got this!!<br /><br /><br />",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mffyextkuae2ww",
    "subject": "What to do if context switch fails?",
    "content": "According to the man pages, getcontext and setcontext can fail. So what should our &#39;OS&#39; do if they fail?",
    "created": "2025-09-11T22:02:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mffsaj18c6g7mb",
    "subject": "Moving 1-2 PM Wednesday Lecture",
    "content": "The 1-2 PM lecture is the only one that works with my schedule on Wednesday, but the UTS building is 20 min away from Bahen, and it&#39;s hard to get there on time (especially when it gets colder). You can see how late other students are coming because of how far the building is. I know that the teaching staff doesn&#39;t have direct control over the classroom assignments, but I was wondering if the classroom could be moved to a building closer to the middle of campus",
    "created": "2025-09-11T19:10:58Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>This is for Jack to respond to, but I will let you know we had a similar issue in 2024 Fall, and I don't think Jack was able to change it unfortunately \\:(</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mff1scw24y03nx",
    "subject": "Issue Authenticating Git",
    "content": "<p>When cloning a repository, I keep on getting the error: fatal: Authentication failed. I have reset my teach cs password, and I still cannot clone 369.</p>\n<p>I am able to clone from previous classes, but not 369.</p>\n<p></p>\n<p>Edit: Randomly works now.</p>",
    "created": "2025-09-11T06:49:00Z",
    "tags": [
      "logistics",
      "student",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfewiqx2eol2gi",
    "subject": "Context Switching Step 5",
    "content": "<md>![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Flm8jn1116py1w%2F17235b5fb16306c1c1f36e066ac11084bb3816f578f373d730c9b89223f6ad1b%2Fimage.png)\n\nFor this particular part of context switching, I\u2019m a bit confused. According to the instructor, at this point we have two saves, but shouldn\u2019t there actually be three? The first save happens when the CPU switches to OS mode and automatically stores the PC, SP, and SR in the kernel stack. The second save occurs in the interrupt handler, where the GPREGS must be manually stored as part of the handler\u2019s code. So shouldn\u2019t saving the full process context count as a third save, since it again involves storing all registers plus additional information to preserve the state of the process at a specific point in time?\n\nThis also raises the question: which component is actually responsible for saving the full context? Is it purely the OS\u2019s responsibility, or is it also part of the interrupt handler\u2019s code to save not just the GPREGS but the entire context in the kernel stack?</md>",
    "created": "2025-09-11T04:21:34Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfer2plpglnbw",
    "subject": "Should I work in a WSL environment?",
    "content": "I can&#39;t run the makefile. and When I tried cloning the repo on WSL it is stalling forever? I am not really familiar with WSL or the makefile so if anyone knows what is happening plz let me know.",
    "created": "2025-09-11T01:49:07Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I am having trouble doing that. I use the SSH link that is on my markus, and then I choose connect to host:\n\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F5cca3bc0529f84718015b66fe4cc7e32e170548dce443904de03e41466ed8bd3%2Fimage.png\" alt=\"image.png\" />\n\nand then I pasted the SSH link from my mark us:\n\nThen I choose teach.cs\n\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2Fb2c947d4d8e69afc3281393a554464f9298122b220c64f60fb353016dc7abb78%2Fimage.png\" alt=\"image.png\" />\n\nI choose Windows\n\n<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm00laa4ucs6x7%2F2a35608a2abe10884228abb9bdc36c69bb7021c52c27295c4e7952a5e21d0d74%2Fimage.png\" alt=\"image.png\" />\n\nHow do I resolve this? What is drprj, I tried entering my password it doesn&#39;t work.",
          "comments": [
            "<md>You shouldn't be using the SSH link from MarkUs. Instead, use `<utorid>@teach.cs.utoronto.ca`.\n\nThe MarkUs SSH link is if you wish to clone the repo using an SSH key, which requires special setup. That isn't the same thing.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfeowy49mty2e3",
    "subject": "Lecture 2: Context Switching",
    "content": "<p>I wanted to confirm my understanding of why a process\u2019s state is saved twice during a context switch.</p>\n<p></p>\n<p>The first save is of process A&#39;s user-mode registers, which go onto the kernel stack so that execution can eventually resume from user mode.</p>\n<p></p>\n<p>The second save is of the process\u2019s kernel-mode registers into the process\u2019s context (PCB), since a context switch is happening. The next time we want to switch back to process A, we first reload these kernel-mode registers from the PCB context (because context switching itself requires privileged instructions, like changing the PTBR). After restoring the kernel context of A, the interrupt handler can complete the switch by restoring A\u2019s user-mode registers from the kernel stack, allowing the process to resume exactly where it left off.<br /><br /><br />Also, should slide 22 from lecture 2 say &#34;This replaces the values of all registers with values from kernel-stack(B)&#34;?<br /><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm8eqm5obix215%2F6f1b3cef0d446ea0cfd51c4bcf47792fd5662fc96337f57edb6c00a5c550d4d0%2Fimage.png\" alt=\"image.pngNaN\" /></p>",
    "created": "2025-09-11T00:48:39Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<p>Thank you.</p>\n<p></p>\n<p>The slide before it (step 6) already restored the kernel mode registers from the context. I thought we&#39;re restoring the user mode registers from the kernel-stack here since GPREGS(UB) are no longer on the kernel-stack on this slide.\u00a0</p>",
          "comments": [
            "<md>I have fixed the slides for steps 7 and 8.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfeb4xpawur3h9",
    "subject": "Question about lecture recording",
    "content": "Are the lecture recordings cut short, or was the lecture ended before the slide show ended for the L1 &#43; L2 processes?",
    "created": "2025-09-10T18:22:57Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfe68igs7422o2",
    "subject": "Question about Policy",
    "content": "Are we allowed to Google and reference website (and cite them in our code) if it\u2019s about how some C system call works or some C syntax for example and not directly answering questions from our assignments?",
    "created": "2025-09-10T16:05:46Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfe5i4d1q015lc",
    "subject": "getcontext warning",
    "content": "NVM",
    "created": "2025-09-10T15:45:15Z",
    "tags": [
      "student",
      "tutorial",
      "unanswered"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfdk3o0e7eq6d",
    "subject": "Scope of tutorials and assignment content",
    "content": "<md>What\u2019s the content breakdown of tutorials and assignments? For example, what weeks/lectures need to be covered before tackling T1? Is the content and scope based on the weeks prior to the release date or prior to the due date? Same question for assignments.</md>",
    "created": "2025-09-10T05:46:08Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfditcpi59v78v",
    "subject": "A0 markus test case",
    "content": "I have two questions about markus auto test on A0:<br />1. For test cases on assertion, although it shows &#34;PASS&#34;, they are still treated as failure on counting the score<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm961kit7t05ba%2Fcb65d982a32dbbc14414789558c115e577b0484880e58e58560a7eefcbc12566%2Fimage.png\" alt=\"image.png\" /><br />2.\u00a0 Timeout error. I got 4 test cases showing this issue, I don&#39;t know what&#39;s going on.<br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm961kit7t05ba%2F93f34436f3357439d5ccc5518b9500f262032e482e64b56bd2ec0af249a7626d%2Fimage.png\" alt=\"image.png\" />",
    "created": "2025-09-10T05:10:08Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": []
    }
  },
  {
    "id": "mfd2uik2nu3qb",
    "subject": "T1 accessing teach.cs system",
    "content": "Hey, sorry, I&#39;m not sure where or how I&#39;m supposed to access the teach.cs system of these files/directories?\u00a0<br /><br />Quoting from the T1 assignment page:<br />However, you can find the details of the <code>mcontext_t</code> structure in <code>/usr/include/x86_64-linux-gnu/sys/ucontext.h</code> on the teach.cs systems.\u00a0<br /><br />Thanks in advance!",
    "created": "2025-09-09T21:43:08Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfd0zwwnisw1rd",
    "subject": "Dont get why im getting this error",
    "content": "<p>All I did was overwrite the queue.c file with the one from A0 and ran make.</p>\n<p></p>\n<p>cc -Wall -Wextra -Werror -D_GNU_SOURCE -g -O0 -ggdb -c fcfs.c -o fcfs.o</p>\n<p>cc -Wall -Wextra -Werror -D_GNU_SOURCE -g -O0 -ggdb -c queue.c -o queue.o</p>\n<p><b>queue.c:</b> In function \u2018<b>queue_pop</b>\u2019:</p>\n<p><b>queue.c:79:20:</b> <b>error: </b>assignment to \u2018<b>node_item_t *</b>\u2019 {aka \u2018<b>struct thread *</b>\u2019} from incompatible pointer type \u2018<b>struct _node_item *</b>\u2019 [<b>-Werror=incompatible-pointer-types</b>]</p>\n<p>\u00a0\u00a0 79 |\u00a0 \u00a0 \u00a0 \u00a0 queue-&gt;head <b>=</b> queue-&gt;head-&gt;next;</p>\n<p>\u00a0 \u00a0 \u00a0 |\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 <b>^</b><b></b></p>\n<p><b>queue.c:</b> In function \u2018<b>queue_push</b>\u2019:</p>\n<p><b>queue.c:111:27:</b> <b>error: </b>assignment to \u2018<b>struct _node_item *</b>\u2019 from incompatible pointer type \u2018<b>node_item_t *</b>\u2019 {aka \u2018<b>struct thread *</b>\u2019} [<b>-Werror=incompatible-pointer-types</b>]</p>\n<p>\u00a0 111 | \u00a0 \u00a0 \u00a0 \u00a0 queue-&gt;tail-&gt;next <b>=</b> node;</p>\n<p>\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 <b>^</b><b></b></p>\n<p><b>queue.c:</b> In function \u2018<b>queue_remove</b>\u2019:</p>\n<p><b>queue.c:137:25:</b> <b>error: </b>assignment to \u2018<b>node_item_t *</b>\u2019 {aka \u2018<b>struct thread *</b>\u2019} from incompatible pointer type \u2018<b>struct _node_item *</b>\u2019 [<b>-Werror=incompatible-pointer-types</b>]</p>\n<p>\u00a0 137 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 queue-&gt;head <b>=</b> queue-&gt;head-&gt;next;</p>\n<p>\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 <b>^</b><b></b></p>\n<p><b>queue.c:156:12:</b> <b>error: </b>assignment to \u2018<b>node_item_t *</b>\u2019 {aka \u2018<b>struct thread *</b>\u2019} from incompatible pointer type \u2018<b>struct _node_item *</b>\u2019 [<b>-Werror=incompatible-pointer-types</b>]</p>\n<p>\u00a0 156 | \u00a0 \u00a0 \u00a0 curr <b>=</b> curr-&gt;next;</p>\n<p>\u00a0 \u00a0 \u00a0 |\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 <b>^</b><b></b></p>\n<p>cc1: all warnings being treated as errors</p>\n<p>make: *** [Makefile:45: queue.o] Error 1</p>",
    "created": "2025-09-09T20:51:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfd0nze4hkj1ho",
    "subject": "[A1] Clarification about multiplexing user-level threads",
    "content": "In the A1 handout it states the following: &#34;A key simplifying assumption for this assignment is that you will allow programs to multiplex some number (e.g.,\u00a0<i>m</i>) of user-level threads on\u00a0<strong><i>one</i></strong> kernel thread. This means that at most one user-level thread is running at a time and that your runtime system has complete control over the interleaving of user-level threads with each other.&#34; I do not quite understand this assumption and what it means to multiplex some number of user-level threads on 1 kernel thread, but only 1 user-thread is allowed to run at a time. What does multiplexing mean?\u00a0",
    "created": "2025-09-09T20:42:04Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfczmflp7shqi",
    "subject": "Why does A1 say to migrate code from T1?",
    "content": "Shouldn&#39;t it say to migrate our code from A0 and not T1? For example queue.c was from A0",
    "created": "2025-09-09T20:12:52Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfcvem328le7ar",
    "subject": "Stack Grow",
    "content": "Does the stack grow up (to larger memory addresses) or down (smaller memory addresses?",
    "created": "2025-09-09T18:14:49Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfcu4loya1442q",
    "subject": "A0 testcase 22, 27, 31",
    "content": "<p>not sure what these testcases mean:<br /><br />When we say &#34;remove from bottom&#34; does that mean the <em>front</em> of the queue?<br /><br /></p>\n<pre>\n<code>Test Case 22: Queue Remove - Remove From Bottom\ntester: tester.c:351: test_queue_remove_bottom: Assertion `removed_node != NULL &amp;&amp; removed_node-&gt;id == 3&#39; failed.\n\nFAIL (CRASHED)\n<code>----------------------------------------\n\nTest Case 27: Queue Push - Push New After Remove From Bottom\ntester: tester.c:424: test_push_after_remove_from_bottom: Assertion `removed_node != NULL &amp;&amp; removed_node-&gt;id == 3&#39; failed.\n\nFAIL (CRASHED)</code>\n<code>----------------------------------------\n\nTest Case 31: Comprehensive Test - 10000 Random Operations\ntester: tester.c:530: test_comprehensive: Assertion `removed_node != NULL&#39; failed.\n\nFAIL (CRASHED)</code></code></pre>",
    "created": "2025-09-09T17:39:02Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "okay so &#34;remove from bottom&#34; means the last-pushed node is removed?",
          "comments": [
            "<md>Yes it does. The test case should probably be renamed to something more descriptive I guess...\n\nAlso, I'm sure you can infer that \"remove from top\" means to remove the oldest / least-recently pushed element.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfchpeb3fydhn",
    "subject": "Office hour questions",
    "content": "I have a few questions about T1 that I plan to get clarified during office hours. Can I attend an instructor\u2019s office hours for this, or should I go to the TAs\u2019 office hour or does it not make a difference?",
    "created": "2025-09-09T11:51:17Z",
    "tags": [
      "logistics",
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfc953759m839l",
    "subject": "A0 marking and A1 clarification",
    "content": "<p>Will A0 be marked individually? The syllabus states that we will have 4 programming assignments, and I presume those will be A1, A2, A3 and A4.\u00a0</p>\n<p></p>\n<p>Additionally, for A1, what are we supposed to do when (or if) a thread runs thread_kill on itself? Can we assume that this won&#39;t happen, or is there something special we need to do for that case?</p>",
    "created": "2025-09-09T07:51:33Z",
    "tags": [
      "a1",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "It fails and returns THREAD_INVALID if a thread trys to call thread_kill on itself.\u00a0",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfbxz6xcrb43zg",
    "subject": "Course Flow",
    "content": "I am a little confused about the flow of the course. I understand we should do the readings before class, but I am confused about where we are in the course. Are we on lecture 2 or 3? Also, should we complete the tutorial assignment before the tutorial, and will we cover Tutorial 1 this Friday?",
    "created": "2025-09-09T02:39:02Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Ok, thank you for the clarification. Will the lecture be at a consistent pace, like 1 lecture per 3 class hours?",
          "comments": [
            "<md>2 sets of lecture slides every week.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mfbu05udwig659",
    "subject": "A1 instructions page has broken link?",
    "content": "Maybe it&#39;s just broken for me, but right-clicking on the <a href=\"https://q.utoronto.ca/courses/395880/pages/g6341cbd7872077a0bed7fb83063673ac\" target=\"_blank\" rel=\"noopener noreferrer\">A1 Q&amp;As</a> hyperlink at the very bottom of the A1 instructions page gives me this Quercus error:\u00a0<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fktbx13ilxr13f%2F3c206d20bfb390974acbcadb1c37df1a3413e346673acfe87de3c31bda6fe040%2Fimage.png\" alt=\"image.pngNaN\" />",
    "created": "2025-09-09T00:47:49Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfbrwyxorvcba",
    "subject": "Due date Confusion for A1",
    "content": "<md>Hello,\n\nThe due date on Quercus and on Markus are different. \n\nWhich one is the true due date?\n\n*Markus:*\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fkt66j4tvr44d8%2Ff0e116b9624333ebb5c8a3c4a3635b8fa14b16333b4b481c9463f98f9ebaccfc%2Fimage.png)\n\n*Quercus:*\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fkt66j4tvr44d8%2F9f7b1d8bbd5a46ed5efea0a0f4da8866759eb082ed2d1ac8f106936fd40d568c%2Fimage.png)</md>",
    "created": "2025-09-08T23:49:20Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfbq0plzspk4yd",
    "subject": "How should I approach T0?",
    "content": "When I run the program it asks me for a pass phrase, how can I get that using gdb?\u00a0 I tried to set a breakpoint on main but didn&#39;t get something useful after I run the gdb, so I am stuck. Also gdb keeps referring to a file call &#34;gdb_tutorial.c&#34; and I couldn&#39;t find it in the directory.",
    "created": "2025-09-08T22:56:16Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "I would also say I did my best, and then used the solution provided to just learn from. Was helpful in my opinion.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfbpwlz35viru",
    "subject": "T1, must all values come from registers?",
    "content": "<p>Must all the values that we print come from registers in my_context, or are we allowed to take them from regular variables in the function like in the handout example? (e.g. printf(&#34;%p&#34;, &amp;var))\u00a0</p>\n<p><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvat2iawjj6s8%2Fadcf2f8aa7b99a4f67f3817dd54167f6145568bdf627128a944baf76aa2a08e6%2Fimage.png\" alt=\"image.pngNaN\" width=\"811\" height=\"90\" /></p>",
    "created": "2025-09-08T22:53:04Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfbp87rz4b92ic",
    "subject": "A0: queue_create",
    "content": "For this method we pop the first node on the queue. But in create_queue we must make a queue of &lt;capacity&gt; nodes. Does that mean when we pop an item from the queue with a capacity of 1 for example and we only have 1 item in the queue, then after the pop, the queue still exists in memory but is empty now? Or does the size of the queue also reduce to 0?",
    "created": "2025-09-08T22:34:06Z",
    "tags": [
      "a1",
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Ah I see, thank you!<br /><br />Side note: Sorry for the wording, I was referring to a certain scenario where we attempt to pop a non-null item from the queue we created. I was just trying to put two-and-two together with my question.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfbp21l35qm483",
    "subject": "[T1] Unable to compile on MacOS",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fkt4kfvfxvr14tq%2Fc1b9db87744dfad491c6aef113e72490eef5d73d3e2fc0b8ca4b6c72c8a6d92b%2FScreenshot_2025-09-08_at_6.27.30_PM.png\" alt=\"Screenshot_2025-09-08_at_6.27.30_PM.pngNaN\" width=\"364\" height=\"52\" /></p>\n<p>When I enter the <kbd>make</kbd> command on MacOS, I get the following error. Is anyone facing the same issue?\u00a0</p>",
    "created": "2025-09-08T22:29:18Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Adding on to that, my advice would be that you should **only compile and run on teach.cs**. Most (all?) of our code is built upon the assumption that you are running in that environment, and so compiling elsewhere (particularly on a different system like MacOS) is not really advised.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfbno7wt35o4o3",
    "subject": "How do I understand the test cases that have failed?",
    "content": "<p>I checked the log.txt from Markus after running the tests and I got this:<br /><br /></p>\n<p>cc -MM *.c &gt; .depend<br />cc -g -Wall -Werror -D_GNU_SOURCE \u00a0 -c -o examine_ucontext.o examine_ucontext.c<br />cc \u00a0 examine_ucontext.o \u00a0 -o examine_ucontext<br />total 72<br />drwxrwx--T 2 autotst \u00a0autotsu8 \u00a04096 Sep \u00a08 17:45 bin<br />-rwxrwxr-x 1 autotsu8 autotsu8 22352 Sep \u00a08 17:45 examine_ucontext<br />-rwxrwx--- 1 autotst \u00a0autotsu8 \u00a08269 Sep \u00a08 17:45 examine_ucontext.c<br />-rw-rw-r-- 1 autotsu8 autotsu8 15912 Sep \u00a08 17:45 examine_ucontext.o<br />-rw-rw-r-- 1 autotsu8 autotsu8 \u00a0 147 Sep \u00a08 17:45 log.txt<br />-rwxr-x--- 1 autotst \u00a0autotsu8 \u00a0 374 Sep \u00a07 23:22 Makefile<br />-rwxr-x--- 1 autotst \u00a0autotsu8 \u00a0 \u00a075 Sep \u00a07 23:22 markus-run.sh<br />drwxrwx--T 2 autotst \u00a0autotsu8 \u00a04096 Sep \u00a08 17:45 scripts<br />Running tests for T1<br />Running: /data/markus/workspace/workers/autotsu8/scripts/t1-01-ucontext.py\u00a0<br />ucontext test<br />ERROR: SETCONTEXT_CALLED to ERR bytes seems suspicious<br />ERROR: RSP address seems suspicious<br />ERROR: ERR to saved RSP bytes seems suspicious<br />Mark for ucontext test is 7 out of 10<br />FAIL</p>\n<p>Getting marks for T1 from tester.out<br />You have received 7 marks out of a total of 10 marks.<br /><br />How do I understand what the &#34;seems suspicious&#34; parts mean?\u00a0</p>",
    "created": "2025-09-08T21:50:34Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfbbqysafum77j",
    "subject": "LEC0201 Skipped Section",
    "content": "In LEC0201, it was said that on Friday, we had to skip over a little bit of information because we were behind. What slides did we skip over?",
    "created": "2025-09-08T16:16:47Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfbbjt6cdla36r",
    "subject": "Wondering when A1 will come out?",
    "content": "Sorry, I just want to make sure I&#39;m not missing anything, but assignment A1 has NOT come out yet right? I saw on the quercus that it would drop on sunday september 7th but there is no clickable link. Is there any page I should be navigating to in order to view it?",
    "created": "2025-09-08T16:11:13Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfalqdi1pqv3sm",
    "subject": "Markus test mismatch T1 instruction",
    "content": "<p>Thank you for updating the tests to reflect the logs.<br /><br />For T1, inside the C file itself just before question 4, the file asks us to print the value of argc but says this portion is not marked. However, it appears as if it is being marked on the MarkUs tests. I block-quoted the log output below, which has the default value stored inside argc. (as to not expose assignment answer)<br /><br /></p>\n<blockquote>\n<p>cc -MM *.c &gt; .depend<br />cc -g -Wall -Werror -D_GNU_SOURCE \u00a0 \u00a0examine_ucontext.c \u00a0 -o examine_ucontext<br />total 52<br />drwxrwx--T 2 autotst \u00a0autotst7 \u00a04096 Sep \u00a07 23:41 bin<br />-rwxrwxr-x 1 autotst7 autotst7 22456 Sep \u00a07 23:41 examine_ucontext<br />-rwxrwx--- 1 autotst \u00a0autotst7 \u00a06722 Sep \u00a07 23:41 examine_ucontext.c<br />-rw-rw-r-- 1 autotst7 autotst7 \u00a0 \u00a099 Sep \u00a07 23:41 log.txt<br />-rwxr-x--- 1 autotst \u00a0autotst7 \u00a0 374 Sep \u00a07 23:22 Makefile<br />-rwxr-x--- 1 autotst \u00a0autotst7 \u00a0 \u00a075 Sep \u00a07 23:22 markus-run.sh<br />drwxrwx--T 2 autotst \u00a0autotst7 \u00a04096 Sep \u00a07 23:41 scripts<br />Running tests for T1<br />Running: /data/markus/workspace/workers/autotst7/scripts/t1-01-ucontext.py\u00a0<br />ucontext test<br />ERROR: argc value -1 is not correct.<br />ERROR: ERR to saved RSP bytes seems suspicious<br />Mark for ucontext test is 9 out of 10<br />FAIL</p>\n<p>Getting marks for T1 from tester.out<br />You have received 9 marks out of a total of 10 marks.</p>\n</blockquote>\n<p>\u00a0<br />I was wondering if this portion of Tutorial 1 is to actually be marked? I would have normally assumed to follow the MarkUs tests but I&#39;m currently running into an issue retrieving the correct value for argc. It appears as if the reg argc sits in changes on the getcontext call.</p>",
    "created": "2025-09-08T04:08:29Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mfaa5asxjyw4ej",
    "subject": "Whats the best way for me to succeed in this course?",
    "content": "",
    "created": "2025-09-07T22:44:10Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Hello! I want to do well too, maybe we could discuss lecture content<br />saturn2124 if you want to talk on discord.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mfa08po0f24686",
    "subject": "Unable to see logs for T1 MarkUs tests",
    "content": "<p>For T1 I am not able to see a breakdown of the test cases I failed (which was seen in the log file for A0). I was wondering if this was intentional?\u00a0<br /><br />Below is a screenshot from my test page, there is nothing below &#34;ucontext test&#34; and I cannot click on it.</p>\n<p><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Fllvat2iawjj6s8%2F1bc1dbc89f6a59209becd78e8fb2cbee06e405d759a1d58d1130baf5ba40c990%2Fimage.png\" alt=\"image.png\" /></p>",
    "created": "2025-09-07T18:06:53Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Facing a similar problem for A0.",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mf9vws4tx751wz",
    "subject": "A0 Test Case 31",
    "content": "My code passes all the test cases except this one, and I&#39;m not sure where to go from here. My push and pop are both O(1) and my remove is O(n) as required, so I&#39;m not sure what is causing the time issue. I don&#39;t know how to debug this myself as I don&#39;t know how I would debug 10000 operations for time efficiency.",
    "created": "2025-09-07T16:05:38Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<pre>\n<code>----------------------------------------\nTest Case 31: Comprehensive Test - 10000 Random Operations\nerror: timeout of 5 seconds reached\n\nTIMEOUT\n---------------------------------------</code></pre>\n<p>Not sure where though, because the rest of the test cases pass and in my own analysis of my functions they are of the correct runtime.</p>",
          "comments": [
            "<md>Occasionally this occurs if MarkUs had a spike in traffic. Has it happened on multiple runs of the tester?</md>",
            "yes, it has. I don&#39;t know if its a me issue or a markus issue, since the test doesnt seem to be failing due to a bug in the code"
          ]
        },
        {
          "content": "is there any way I can access the test case?",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mf978ikruvk2j1",
    "subject": "Volunteer Notetaker Required",
    "content": "<md>Accessibility Services is seeking volunteer note takers for students in this class who are registered in Accessibility Services. By volunteering to take notes for students with disabilities, you are making a positive contribution to their academic success. By volunteering as a note-taker, you will benefit as well - It is an excellent way to improve your own note-taking skills and to maintain consistent class attendance.\u00a0 At the end of term, we would be happy to provide a Certificate of Appreciation for your hard work.\u00a0To request a Certificate of Appreciation please fill out the form at this link: \u00a0[Certificate of Appreciation](https://forms.office.com/r/zAu5tNNDJ5)\u00a0or email us at\u00a0at\u00a0[as.notetaking@utoronto.ca](mailto:as.notetaking@utoronto.ca).\u00a0You may also qualify for a Co-Curricular Record by registering your volunteer work on\u00a0Folio before the end of June. We also have a draw for qualifying volunteers throughout the academic year.\n\nSteps to Register as a Volunteer\u00a0:\n\n1.  Register Online as a Volunteer Note-Taker at:\u00a0\u00a0\u00a0[https://clockwork.studentlife.utoronto.ca/custom/misc/home.aspx](https://clockwork.studentlife.utoronto.ca/custom/misc/home.aspx)\n2.  For a step-to-step guide please follow this link to the\u00a0[Volunteer Notetaking Portal Guide](https://studentlife.utoronto.ca/wp-content/uploads/Notetaking-Program-Volunteers-Notetaking-Portal-Guide.pdf)\n3.  Click on\u00a0**Volunteer Notetakers**, and sign in using your UTORid\n4.  Select the course(s) you wish to take notes for.\u00a0Please note:\u00a0you do NOT need to upload sample notes or be selected as a volunteer to begin uploading your notes.\n5.  Start uploading notes.\n\nEmail us at\u00a0[as.notetaking@utoronto.ca](mailto:as.notetaking@utoronto.ca)\u00a0if you have questions or require any assistance with uploading notes. If you are no longer able to upload notes for a course, please also let us know immediately\u00a0.\n\nFor more information about the Accessibility Services Peer Notetaking program, please visit\u00a0[Student Life Volunteer Note Taking](https://studentlife.utoronto.ca/program/volunteer-note-taking/)\u00a0.\n\nThank you for your support and for making notes more accessible for our students.\n\nAS Note-taking Team</md>",
    "created": "2025-09-07T04:34:55Z",
    "tags": [
      "instructor-note",
      "logistics"
    ],
    "type": "note",
    "answers": {
      "instructor": [],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf96nx365xu2xr",
    "subject": "T1 autotester not working",
    "content": "<md>On quecus it says that there is a autotester I can use to check my output.\n\n![image.png](/redirect/s3?bucket=uploads&prefix=paste%2Fllczwei0uol1e5%2F46626cfd930b954854655173948cfdf59599f88382ffb4436b02a308f31e6f20%2Fimage.png)\n\nBut when I try the command I got this:\n```\n\\-bash: csc369-tester: command not found\n```\n\nDid I do something wrong?</md>",
    "created": "2025-09-07T04:18:54Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf96ifbjh4rtv",
    "subject": "A0 Can we import stdio",
    "content": "",
    "created": "2025-09-07T04:14:38Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "when error checking, to know where the bug is? or is that not important for the assignment",
          "comments": [
            "<md>Feel free to include them in your queue.c file while debugging, that's fine. The only important thing would be to remove them before making your final submission, because additional printf output might mess with the tester (I'm not sure).\n\nAlso, just as a side note, this might be a good opportunity to learn / refresh your knowledge of GDB. It will be very very useful for tutorials and assignments in the future, and much more effective than printf debugging.</md>",
            "would stderr output affect the tester?\u00a0",
            "<md>I've looked, and I think the A0 tester should be fine with whatever output. However, you will use this for A1/A2 as well, and I'm not sure if those testers will handle it too well.\n\nIn general, for something that is relatively simple like a FIFO queue, you shouldn't really need to leave debugging print statements in.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mf903ytohvd1pj",
    "subject": "Office hours mode",
    "content": "Hi, I see there are many office hours being offered for the course and I am very thankful for that! However, since I&#39;m from UTM campus, and while there are shuttles between UTM and dt campus, it is still a bit time consuming for the commutes. Therefore, I wonder would it be possible to have more office hours being online? Thank you very much!",
    "created": "2025-09-07T01:15:25Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf8tb5atwht6f6",
    "subject": "Invalid Link",
    "content": "The &#34;C and gdb practice&#34; link in Preliminaries page leads to &#34;Page Not Found&#34;, I was wondering if is it possible to have it updated? Thanks.",
    "created": "2025-09-06T22:05:03Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "<md>It's my bad, but Quercus is infamous for broken links when copying pages from previous terms to the current term.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mf8n5pqznnx4kn",
    "subject": "Question about tutorial sections",
    "content": "As I am taking a course in st. george campus first time, I am not sure but are there tutorial sections for this course (I couldn&#39;t find one on acorn).",
    "created": "2025-09-06T19:12:52Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf8lu2gqxr85a0",
    "subject": "Linked List VS Circular Buffer Confusion",
    "content": "<p>I&#39;m a little confused about how the approaches to implementing the queue differ in A0. Circular Buffers seem to be just a linked list illustrated differently if we define a node to represent the individual elements in the buffer. My understanding is that a node needs to be connected to another node somehow, which is a link. The wiki page for circular buffers seem more like an array where the first and last elements are connected.</p>\n<p></p>\n<p>And kind of vice versa because our objective is to have an upper limit on the number of elements, meaning the linked list is really like a circular buffer.</p>\n<p></p>\n<p></p>",
    "created": "2025-09-06T18:35:49Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf87yvj7sx92oh",
    "subject": "E1. Q4",
    "content": "<p><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flk5fz7ugn6k5ic%2F96c82966ca21f4c8116ae529a9d4456299c58bcfdd546eaf98419ce1a7204be4%2Fimage.png\" alt=\"image.png\" /></p>\n<p>I&#39;m a little confused as to why this is true. Cant Interrupts also execute in User mode meaning it doesn&#39;t &#34;always&#34; have to be in system mode?\u00a0</p>",
    "created": "2025-09-06T12:07:39Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf7rt8metnc3db",
    "subject": "G1: Processes vs. Threads",
    "content": "This says it&#39;s due Sept 21, but G2 is due then. I am confused on when this is due.\u00a0",
    "created": "2025-09-06T04:35:22Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf7rldf3pf37i7",
    "subject": "Pre Lecture readings",
    "content": "Hey, I see we have a lot of readings for this course and reach reading is pretty content heavy.\u00a0<br /><br />Just wondering how you guys recommend to study these, memorize them? Take notes?<br /><br />I&#39;m just not to sure how to go about doing this, how important are these readings when it comes to midterms and exams?\u00a0<br /><br /><br />",
    "created": "2025-09-06T04:29:15Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf7l8ogt9u33wf",
    "subject": "queue_remove()",
    "content": "If queue_remove can remove any node given an id, then doesn&#39;t this break the FIFO behaviour of a queue?",
    "created": "2025-09-06T01:31:25Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Strictly speaking, it\u2019s no longer FIFO, but practically speaking, since dequeue still preserves insertion order, it still remains FIFO.\n\nAnd like what Pratyush pointed out, we don\u2019t use remove normally.</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mf7jd396psf5rj",
    "subject": "Running code for T1",
    "content": "Are we supposed to clone the repo on the teach.cs machines as well? I don&#39;t see how else we are meant to run the code on the teach.cs machine.",
    "created": "2025-09-06T00:38:51Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf7gtt2twjn2q3",
    "subject": "[T1] Unable to compile on teach.cs machine",
    "content": "",
    "created": "2025-09-05T23:27:52Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf7budmu9j915v",
    "subject": "A0 Test Cases 28 and 29",
    "content": "<p>I passed everything else except for these test cases for A0 so I want to clarify what is being tested.\u00a0Are these testing for when we push the same item (with same id) back to the queue, where the previous operation popped it (case 28) or removed it from the middle (case 29)?</p>\n<p>I have created my own test cases for this situation and it seemed to work, so I think I&#39;m misunderstanding something.</p>\n<p>\u00a0<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flmb3zmq9ep911a%2F5087174da9607577e1032e10fe6f6d90c83adf8eb79567700d713a1461453235%2Fimage.png\" alt=\"image.png\" /></p>\n<p></p>",
    "created": "2025-09-05T21:08:21Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "I also tested for sizes after removing and popping by using assert statements for queue_count(), and I also created a print_queue() for checking the elements of the queue.",
          "comments": [
            "<md>Another thing to check may be if your queue is fully \"reset\" when all elements are popped? I.e. there are no non-NULL pointers, your size is 0, etc. in your queue struct.\n\nThis means `queue_top/pop` should return `NULL`, `queue_count` returns `0` etc. on a \"used and emptied\" queue.</md>",
            "<p>In addition to testing it myself, in the auto-tests on Markus I passed:</p>\n<p></p>\n<p>Test Case 2: Queue Count - Empty<br />Test Case 13: Queue Top - Empty Queue<br />Test Case 16: Queue Pop - Empty Queue</p>\n<p></p>\n<p>so I believe my queue works when it is fully reset?</p>",
            "<md>By the descriptions, I believe those tests are actually testing a freshly initialised queue, and not one that has been used and emptied. \n\nIn your code, what happens when you remove the final node with a pop? That seems to be where the error is, because the tester seems to believe there is more nodes than there should be (meaning either `queue_count` is returning a nonzero value, or `queue_top` is returning a non-NULL pointer).</md>",
            "I tried popping the last element using the pop_and_free_node function that was provided in main.c, and I asserted that queue_top was NULL and queue_count is 0.\u00a0",
            "<md>We pop the element and push it back into the queue without freeing.</md>",
            "Okay I see, that&#39;s helpful. Thank you, I figured it out now"
          ]
        },
        {
          "content": "Hi, Pratyush Dwivedi Can you clarify what you mean by the size doesn&#39;t change when popping/removing? I feel like I might be misinterpreting.\u00a0",
          "comments": [
            "<md>These tests do two operations: one \"removal\" (either `pop` or `remove`), and then one \"insertion\" (`push`). The first operation should result in the size of your queue going down, because you have removed an element. This error might be because of that.\n\nAnother possible reason is how the tester works. It basically repeatedly pops from the queue until it has removed the expected number of nodes, and if it finds that the queue is \"non-empty\" (I.e. queue_top/pop returns a non-NULL pointer) then it gives you an error.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mf7854619xf78o",
    "subject": "shared directory path",
    "content": "What is the path to the 369 shared directory? I can&#39;t seem to find it after ssh\u00a0",
    "created": "2025-09-05T19:24:43Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf77qghom6w6mp",
    "subject": "What type do we assume for data of node?",
    "content": "When we fill in the attributes of the _node_item struct for a0 do we assume a void pointer for the data type or is it okay to use an int?",
    "created": "2025-09-05T19:13:20Z",
    "tags": [
      "a1",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf74unqobbc6zs",
    "subject": "System mode",
    "content": "Are system mode, kernel mode, and privilege mode all synonyms for the same thing?",
    "created": "2025-09-05T17:52:37Z",
    "tags": [
      "exercise",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "<md>Yes</md>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mf721m1odm135c",
    "subject": "6-9 Lecture Recording",
    "content": "Hello! I made some changes to my schedule and will have to switch lecture sections to the 6-9 section, but I can only find the 1-2 section&#39;s recording up on OCCS. Is the 6-9 recording planned to be uploaded? I&#39;m afraid I may not be well-prepared if I miss those 3 hours before next week&#39;s lecture. Thank you!",
    "created": "2025-09-05T16:34:02Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf67q6nilh36n2",
    "subject": "A0 Submission Clarification",
    "content": "<p>So before I actually started working on the assignment I think I accidentally used the MarkUs web UI to submit all the starter files. Then, once I finished, I pushed my changes to node.h and main.c to finalize my submission. But the other starter files (unmodified) are also in the submission, even though the assignment instructions say to only submit those two files. Will this be a problem?</p>\n<p><br /><img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2F8f25746749ae53e09c27f637313530089edc1b517e92ddde78a1458a5b0678c9%2Fimage.png\" alt=\"image.pngNaN\" />Edit: I realised I can manually delete the other files from the Markus UI as well, should I do that? (Sorry for all the questions, I&#39;m a UTSC student and haven&#39;t used MarkUs in this way before lol)</p>",
    "created": "2025-09-05T02:25:21Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf61673sj0y62b",
    "subject": "I can&#39;t access syllabus link. Says not authorized",
    "content": "title",
    "created": "2025-09-04T23:21:50Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "It works, I was clicking another link which was redirecting elsewhere sorry about that.\n\nA follow up question, where are the link to the recordings and what does it mean &#34;one of the two recordings will be posted&#34;.",
          "comments": [
            "I think &#34;one of the two recordings&#34; means recording from one of the two sections will be posted.\u00a0<div><br /></div><div>It should show up in the OCCS page on Quercus once Jack has processed them.\u00a0</div><p></p>",
            "<md>The OCCS Student App section is where it is posted (generally a day or two later, because it takes time to process). \"One of the two recordings\" means either a recording from LEC0101 or LEC0201 will be posted, but not both (I believe LEC5101 recordings are not posted).</md>",
            "<md>I love my TAs. \ud83e\udd79</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mf5sh98n9s33t1",
    "subject": "Group Activity",
    "content": "Can students from different sections form a group for group activities? Is there a limit on the group size?",
    "created": "2025-09-04T19:18:30Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": [
        {
          "content": "Can they be done alone?",
          "comments": [
            "<md>Please send a request to course email if you have accessibility needs or feel that working individually better supports your learning.</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mf5nzx64opi5t2",
    "subject": "Weird prompt when SSH&#39;d",
    "content": "When I ssh onto the lab PCs (I followed all the tips and instructions posted in @14). I see a &#34;wolf~$&#34; prompt. On the UTM lab PCs I have never encountered such a prompt. Is this normal?<br /><br />Also when I attempt to clone, I see a &#34;The authenticity of host &#39;markus.teach.cs.toronto.edu......&#34; message followed by a prompt asking me to enter &#34;yes&#34; or &#34;no&#34;. Should I proceed by saying &#34;yes&#34;?\u00a0<br /><br />I ask these questions since the shell prompt makes me feel unsure whether I am following the steps correctly.",
    "created": "2025-09-04T17:13:03Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf5ldeemjz375q",
    "subject": "lecture slides notes",
    "content": "When will lecture slides be posted for the Wednesday classes? can they be posted right after 9pm, if possible?",
    "created": "2025-09-04T15:59:33Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Can the Friday slides be posted by the end of the day on Friday? I would like the weekend to review the lecture material.",
          "comments": [
            "<md>Yes</md>"
          ]
        }
      ]
    }
  },
  {
    "id": "mf5cprfv9z21ob",
    "subject": "Including I/O management or not",
    "content": "Hi, I would like to inquire whether the course content covers I/O management, as it is not explicitly mentioned in the syllabus. Thanks!",
    "created": "2025-09-04T11:57:13Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf4qsc1ewwu7f7",
    "subject": "Tutorial 1 Released?",
    "content": "It says that tutorial 1 is released on September 2 but I don\u2019t see it anywhere as well as the lecture slides.",
    "created": "2025-09-04T01:43:21Z",
    "tags": [
      "student",
      "tutorial"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf4o0fikxlb2kv",
    "subject": "ssh",
    "content": "I ssh&#39;ed into my server but cannot find the csc369 folder. any idea what to do after ssh? the listed directory shows the regular folders and my csc209 folder from last year.",
    "created": "2025-09-04T00:25:40Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf4lyww6cd1pr",
    "subject": "group activities",
    "content": "if i couldn\u2019t attend week 1 lecture (wednesdays) can i do the group activity alone, or would i have to find connect with other students somehow? and how do i present it before sunday (like should i email for a zoom meeting?)",
    "created": "2025-09-03T23:28:30Z",
    "tags": [
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf4ls56s3781m4",
    "subject": "SSH GUIDE",
    "content": "Hi, this might be a stupid question, but I\u2019ve forgotten how to SSH into the UofT server. Is there a guide or reference that explains the steps?",
    "created": "2025-09-03T23:23:14Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [
        ""
      ],
      "followups": [
        {
          "content": "Hmm, is the usernmae the same as your UTORID?<img src=\"/redirect/s3?bucket=uploads&amp;prefix=paste%2Flm54azgpx5j161%2Fb868727921fe19089dbbc6489b3c8bbb24e7f8cf3bb455b537a8f9415a6317d5%2Fimage.png\" alt=\"image.pngNaN\" />",
          "comments": [
            "nvm I&#39;m dumb ignore that ^",
            "did you get it to work because i put my utorid and my password and its not working\u00a0",
            "nvm i got it\u00a0",
            "For anyone&#39;s wondering, use your teach cs&#39;s password, not your uoft email&#39;s password",
            "sorry which one is the teach.cs password? Is it the one we use for ACORN and all?",
            "Ignore the last followup. I got it.\u00a0",
            "So what was it? I am still having difficulty logging and I get the authentication error. Plz help",
            "nvm ^"
          ]
        },
        {
          "content": "hi, i forgot my password how do i reset it",
          "comments": [
            "<md>https://www.teach.cs.toronto.edu/resources/account-management/</md>",
            "thanks a lot!"
          ]
        },
        {
          "content": "<p>Thank you so much!</p>\n<p></p>",
          "comments": []
        }
      ]
    }
  },
  {
    "id": "mf4gyllywrs2qv",
    "subject": "Can group activities be done after lectures?",
    "content": "Hey, the syllabus mentions that group activities are held during lectures but their deadlines are on Sunfay. Do we have to be physically present in lecture for each activity then. Ex: if I cant attend one week&#39;s class",
    "created": "2025-09-03T21:08:18Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf4707bo78o5qg",
    "subject": "Group Activities",
    "content": "For those in lec0101, will the graded group activities occur during <strong>every</strong> lecture? (Mon, Wed &amp; Fri)",
    "created": "2025-09-03T16:29:36Z",
    "tags": [
      "group-activity",
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf3ays4x4c73ce",
    "subject": "Do we have to attend our selected lecture slot?",
    "content": "I can\u2019t attend the 6-9 PM lecture because of my commute but there\u2019s also the participation part which I\u2019m worried about. So could I instead attend the 1-2 PM lectures and still do the participation work there?",
    "created": "2025-09-03T01:32:42Z",
    "tags": [
      "exercise",
      "group-activity",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  },
  {
    "id": "mf331xwvywk4gt",
    "subject": "Readings",
    "content": "I noticed that in the reading list, each week corresponds with 2 lectures. However my lecture section has 3 lectures per week. I was wondering how I should divide the readings or should I stick with the one with 2 lectures.\u00a0",
    "created": "2025-09-02T21:51:13Z",
    "tags": [
      "logistics",
      "student"
    ],
    "type": "question",
    "answers": {
      "instructor": [
        ""
      ],
      "student": [],
      "followups": []
    }
  }
]